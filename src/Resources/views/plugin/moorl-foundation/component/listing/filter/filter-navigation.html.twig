{% set filterItemId = 'filter-' ~ name ~ '-' ~ random() %}

{% block component_filter_navigation %}
    {% set activePath = page.header.navigation.active.path %}

    {% block component_filter_navigation_panel_item %}
        <div class="filter-panel-item{% if sidebar %} d-grid{% endif %}">
            {% block component_filter_navigation_toggle %}
                <button
                        class="filter-panel-item-toggle btn"
                        aria-expanded="false"
                        {% if sidebar %}
                            data-bs-toggle="collapse"
                            data-bs-target="#{{ filterItemId }}"
                        {% else %}
                            data-bs-toggle="dropdown"
                            data-boundary="viewport"
                            data-offset="0,8"
                            aria-haspopup="true"
                        {% endif %}
                >
                    {% block component_filter_navigation_display_name %}
                        {{ displayName }}
                    {% endblock %}

                    {% block component_filter_navigation_toggle_icon %}
                        {% sw_icon 'arrow-medium-down' style {'pack': 'solid', 'size': 'xs', 'class': 'filter-panel-item-toggle'} %}
                    {% endblock %}
                </button>
            {% endblock %}

            {% block component_filter_navigation_dropdown %}
                <div class="filter-navigation-dropdown filter-panel-item-dropdown{% if sidebar %} collapse{% else %} dropdown-menu{% endif %}"
                     id="{{ filterItemId }}">
                    {% block component_filter_navigation_dropdown_container %}
                        <div class="filter-navigation-container">
                            {% sw_include '@MoorlFoundation/plugin/moorl-foundation/component/listing/filter/_filter-navigation.html.twig' with {
                                navigationTree: page.header.navigation.tree,
                                activeResult: page.header.navigation.active,
                                elements: elements
                            } only %}
                        </div>
                    {% endblock %}
                </div>
            {% endblock %}
        </div>
    {% endblock %}
{% endblock %}
