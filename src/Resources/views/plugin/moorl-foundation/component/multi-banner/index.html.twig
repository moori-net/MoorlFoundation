{% set options = {
    enablePrices: true,
    enableAddToCartAll: true,
    enableAddToCartSingle: true,
    enableSelection: true,
    currencyIso: context.currency.isoCode,
    discountValue: 0
}|merge(options) %}

<div class="moorl-multi-banner">
    {% sw_include "@MoorlFoundation/plugin/moorl-foundation/component/multi-banner/stock.html.twig" %}

    {% set media = item.media %}
    {% set countdownTitle = "moorl-combination-discount.countdownTitle"|trans %}

    {% if media %}
        {% if not media.url %}
            {% set mediaCollection = searchMedia([media.id], context.context) %}
            {% set media = mediaCollection.get(media.id) %}
        {% endif %}

        {% block combination_discount_banner_container %}
            <div class="moorl-multi-banner-container">
                {% sw_thumbnails 'combination-discount-banner-image' with {
                    media: media,
                    attributes: {
                        alt: item.translated.name,
                        class: 'moorl-multi-banner-image',
                        width: '100',
                        height: '100'
                    }
                } %}

                <div class="moorl-multi-banner-overlay">
                    {% sw_include "@MoorlFoundation/plugin/moorl-foundation/component/multi-banner/countdown.html.twig" %}

                    {% sw_include '@MoorlFoundation/plugin/moorl-foundation/component/multi-banner/hotspots.html.twig' with {
                        items: item.items,
                        options: item.options
                    } %}
                </div>
            </div>
        {% endblock %}
    {% else %}
        {% block combination_discount_countdown %}
            {% sw_include "@MoorlFoundation/plugin/moorl-foundation/component/multi-banner/countdown.html.twig" %}
        {% endblock %}
    {% endif %}
</div>
