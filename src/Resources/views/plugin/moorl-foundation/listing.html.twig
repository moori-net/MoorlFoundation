{% block moorl_foundation_listing %}
    {% set config = element.fieldConfig.elements %}
    {% if not config %}
        {% set config = context.moorlFoundationListingConfig %}
    {% endif %}

    {% if config.listingLayout.value == 'slider' %}
        {% sw_include '@Storefront/plugin/moorl-foundation/listing-slider.html.twig' %}
    {% else %}
        {% set listingCss = [] %}
        {% if config.listingLayout.value == 'grid' %}
            {% set listingCss = listingCss|merge([
                "grid-template-columns: repeat(auto-fit, minmax(#{config.itemWidth.value}, 1fr))",
                "grid-auto-rows: #{config.itemHeight.value}",
                "grid-gap: #{config.gapSize.value}",
            ]) %}
        {% elseif config.listingLayout.value == 'list' %}
            {% set listingCss = listingCss|merge([
                "grid-auto-rows: #{config.itemHeight.value}",
                "grid-gap: #{config.gapSize.value}",
            ]) %}
        {% endif %}
        {% set contentCss = [
            "padding: #{config.contentPadding.value}",
            "background-color: #{config.contentBackgroundColor.value}",
            "color: #{config.contentColor.value}",
        ] %}
        <ul class="js-listing-wrapper moorl-listing-{{ config.listingLayout.value }}"
            style="{{ listingCss|join(';')|raw }}">
            {% for item in searchResult %}
                {% block moorl_foundation_listing_item %}
                    {% sw_include '@Storefront/plugin/moorl-foundation/listing-item.html.twig' %}
                {% endblock %}
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}
