var Zn=Object.defineProperty;var Hn=(i,a,r)=>a in i?Zn(i,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[a]=r;var jn=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var pt=(i,a,r)=>Hn(i,typeof a!="symbol"?a+"":a,r);var od=jn((Ji,Ca)=>{const Un={elementType:{value:"custom",tab:"general",card:"general",cols:12,componentName:"moorl-select-field",attributes:{customSet:["custom","category","cta","product"],snippetPath:"moorl-foundation.field"}},height:{value:"300px",tab:"general",card:"general",cols:6},elementBackground:{value:"",tab:"general",card:"general",cols:6,type:"color"},overlayBackground:{value:"",tab:"general",card:"general",cols:6,type:"color"},elementClickable:{value:!1,tab:"general",card:"general",cols:6},category:{value:null,tab:"general",card:"general",cols:12,entity:"category",conditions:[{property:"elementType",value:"category"}]},product:{value:null,tab:"general",card:"general",cols:12,entity:"product",conditions:[{property:"elementType",value:"product"}]},contentLength:{value:300,tab:"general",card:"general",cols:12,conditions:[{property:"elementType",value:"category"},{property:"elementType",value:"product"}]},elementUrl:{value:null,tab:"general",card:"general",cols:6,conditions:[{property:"elementClickable",value:!0}]},elementNewTab:{value:!1,tab:"general",card:"general",cols:6,conditions:[{property:"elementClickable",value:!0}]},mediaActive:{value:!0,tab:"media",card:"media",cols:6},mediaHover:{value:"zoom",tab:"media",card:"media",cols:6,componentName:"moorl-select-field",attributes:{customSet:["zoom","rotate","rotate-zoom","colorize","colorize-zoom","colorize-blur","blur","blur-zoom"]}},backgroundFixed:{value:!1,tab:"media",card:"media",cols:6},backgroundDisplayMode:{value:"cover",tab:"media",card:"media",cols:6,componentName:"moorl-select-field",attributes:{set:"displayMode"}},backgroundSizeX:{value:"300px",tab:"media",card:"media",cols:6,conditions:[{property:"backgroundDisplayMode",value:"custom"}]},backgroundSizeY:{value:"300px",tab:"media",card:"media",cols:6,conditions:[{property:"backgroundDisplayMode",value:"custom"}]},backgroundVerticalAlign:{value:"center",tab:"media",card:"media",cols:6,componentName:"moorl-select-field",attributes:{set:"textVerticalAlign"}},backgroundHorizontalAlign:{value:"center",tab:"media",card:"media",cols:6,componentName:"moorl-select-field",attributes:{set:"textHorizontalAlign"}},media:{value:null,tab:"media",card:"media",cols:12,entity:"media",conditions:[{property:"mediaActive",value:!0}]},videoActive:{value:!1,tab:"media",card:"video",cols:6,conditions:[{property:"mediaActive",value:!0}]},videoAutoplay:{value:!0,tab:"media",card:"video",cols:6,conditions:[{property:"videoActive",value:!0}]},videoLoop:{value:!0,tab:"media",card:"video",cols:6,conditions:[{property:"videoActive",value:!0}]},videoDisplayMode:{value:"cover",tab:"media",card:"video",cols:6,componentName:"moorl-select-field",attributes:{set:"displayMode"},conditions:[{property:"videoActive",value:!0}]},titleTag:{value:"h3",tab:"content",card:"text",cols:6,componentName:"moorl-select-field",attributes:{customSet:["h1","h2","h3","h4","h5","div"]},conditions:[{property:"elementType",value:"custom",operator:"!="}]},title:{value:"Lorem ipsum dolor",tab:"content",card:"text",cols:6,conditions:[{property:"elementType",value:"custom",operator:"!="}]},quote:{value:"",tab:"content",card:"text",cols:12,conditions:[{property:"elementType",value:"custom",operator:"!="}]},content:{type:"html",value:"",tab:"content",card:"text",cols:12,conditions:[{property:"elementType",value:"custom"}]},btnActive:{value:!0,tab:"content",card:"button",cols:6,conditions:[{property:"elementType",value:"custom",operator:"!="}]},btnText:{value:"Shop now",tab:"content",card:"button",cols:6,conditions:[{property:"btnActive",value:!0}]},btnClass:{value:"primary",tab:"content",card:"button",cols:6,componentName:"moorl-select-field",attributes:{set:"bsButton"},conditions:[{property:"btnActive",value:!0}]},btnUrl:{value:"",tab:"content",card:"button",cols:6,conditions:[{property:"btnActive",value:!0}]},btnNewTab:{value:!1,tab:"content",card:"button",cols:6,conditions:[{property:"btnActive",value:!0}]},iconType:{value:"none",tab:"content",card:"icon",cols:6,componentName:"moorl-select-field",attributes:{set:"iconType",showClearableButton:!0}},iconClass:{value:"",tab:"content",card:"icon",cols:6,attributes:{placeholder:"fab|shopware or fa6s|check"},conditions:[{property:"iconType",value:"fa"}]},iconSvg:{value:"",tab:"content",card:"icon",cols:12,type:"code",attributes:{softWraps:!1},conditions:[{property:"iconType",value:"svg"}]},iconMedia:{value:null,tab:"content",card:"icon",cols:12,entity:"media",conditions:[{property:"iconType",value:"media"}]},iconPosition:{value:"left",tab:"content",card:"icon",cols:6,componentName:"moorl-select-field",attributes:{customSet:["top","left"]},conditions:[{property:"iconType",value:"none",operator:"!="}]},iconFontSize:{value:"30px",tab:"content",card:"icon",cols:6,conditions:[{property:"iconType",value:"none",operator:"!="}]},iconMarginRight:{value:"15px",tab:"content",card:"icon",cols:6,conditions:[{property:"iconType",value:"none",operator:"!="}]},iconMarginBottom:{value:"15px",tab:"content",card:"icon",cols:6,conditions:[{property:"iconType",value:"none",operator:"!="}]},boxVerticalAlign:{value:"center",tab:"position",card:"box",cols:6,componentName:"moorl-select-field",attributes:{set:"flexVerticalAlign"}},boxHorizontalAlign:{value:"center",tab:"position",card:"box",cols:6,componentName:"moorl-select-field",attributes:{set:"flexHorizontalAlign"}},boxTextAlign:{value:"left",tab:"position",card:"box",cols:6,componentName:"moorl-select-field",attributes:{set:"textHorizontalAlign"}},boxWidth:{value:"auto",tab:"position",card:"box",cols:6},boxHeight:{value:"auto",tab:"position",card:"box",cols:6},boxMargin:{value:"20px",tab:"position",card:"box",cols:6},boxPadding:{value:"15px",tab:"position",card:"box",cols:6},boxColor:{value:"#000000",tab:"position",card:"box-style",cols:6,type:"color"},boxBackground:{value:"rgba(255,255,255,0.7)",tab:"position",card:"box-style",cols:6,type:"color"},boxBorderRadius:{value:"0px",tab:"position",card:"box-style",cols:6},boxMaxWidth:{value:!1,tab:"position",card:"box-style",cols:6},enableScss:{value:!1,tab:"scss",card:"scss",cols:12},scss:{type:"code",value:"",tab:"scss",card:"scss",cols:12,conditions:[{property:"enableScss",value:!0}]}},{Criteria:Qo}=Shopware.Data,Vn={listingSource:{componentName:"moorl-select-field",attributes:{set:"listingSource"},value:"static",tab:"general",card:"source",cols:6},listingSorting:{entity:"moorl_sorting",attributes:{labelProperty:"label",criteria:({entity:i})=>new Qo().addFilter(Qo.equals("entity",i))},tab:"general",card:"source",cols:6},foreignKey:{value:null,tab:"general",card:"source",cols:6},limit:{value:12,tab:"general",card:"source",cols:6,attributes:{max:24}},listingItemIds:{value:[],tab:"general",card:"source",cols:12,conditions:[{property:"listingSource",value:"select"}],componentName:"sw-entity-multi-id-select",attributes:{entity:({entity:i})=>i}},listingHeaderTitle:{value:null,tab:"layout",card:"general",cols:12},listingLayout:{value:"grid",tab:"layout",card:"general",cols:6,componentName:"moorl-select-field",attributes:{set:"listingLayout"}},listingJustifyContent:{value:"normal",tab:"layout",card:"general",cols:6,componentName:"moorl-select-field",attributes:{set:"cssJustifyContent"}},itemLayout:{value:"image-content",tab:"layout",card:"general",cols:6,componentName:"moorl-select-field",attributes:{set:"itemLayout"}},displayMode:{value:"cover",tab:"layout",card:"general",componentName:"moorl-select-field",attributes:{set:"displayMode"},cols:6,conditions:[{property:"itemLayout",value:"custom",operator:"!="}]},itemLayoutTemplate:{tab:"layout",card:"general",value:"@Storefront/storefront/component/product/card/box.html.twig",conditions:[{property:"itemLayout",value:"custom"}]},gapSize:{value:"20px",tab:"layout",card:"item",cols:6},itemWidth:{value:"300px",tab:"layout",card:"item",cols:6},itemHeight:{value:"400px",tab:"layout",card:"item",cols:6},itemPadding:{value:"0px",tab:"layout",card:"item",cols:6},hasButton:{value:!0,tab:"content",card:"button",cols:6},buttonLabel:{value:"Click here!",tab:"content",card:"button",cols:6,conditions:[{property:"hasButton",value:!0}]},buttonClass:{value:"btn btn-primary",tab:"content",card:"button",cols:6,conditions:[{property:"hasButton",value:!0}]},urlNewTab:{value:!0,tab:"content",card:"button",cols:6,conditions:[{property:"hasButton",value:!0}]},textAlign:{value:"left",tab:"content",card:"text",cols:6,componentName:"moorl-select-field",attributes:{set:"textHorizontalAlign"}},contentLength:{value:150,tab:"content",card:"text",cols:6},contentPadding:{value:"20px",tab:"layout",card:"content",cols:6},contentColor:{type:"color",value:"",tab:"layout",card:"content",cols:6},contentBackgroundColor:{type:"color",value:"",tab:"layout",card:"content",cols:6},contentHighlightColor:{type:"color",value:"",tab:"layout",card:"content",cols:6},itemBackgroundColor:{type:"color",value:"",tab:"layout",card:"item",cols:6},itemHasBorder:{value:!1,tab:"layout",card:"item",cols:6},mode:{tab:"slider",card:"slider",value:"carousel",componentName:"moorl-select-field",attributes:{set:"sliderMode"},conditions:[{property:"listingLayout",value:"slider"}]},speed:{tab:"slider",card:"slider",value:1e3,cols:6,conditions:[{property:"listingLayout",value:"slider"}]},autoplayTimeout:{tab:"slider",card:"slider",value:3e3,cols:6,conditions:[{property:"listingLayout",value:"slider"}]},autoplay:{tab:"slider",card:"slider",value:!0,cols:6,conditions:[{property:"listingLayout",value:"slider"}]},autoplayHoverPause:{tab:"slider",card:"slider",value:!0,cols:6,conditions:[{property:"autoplay",value:!0},{property:"listingLayout",value:"slider"}]},mouseDrag:{tab:"slider",card:"slider",value:!1,cols:6,conditions:[{property:"listingLayout",value:"slider"}]},animateIn:{value:null,tab:"slider",card:"animation",cols:6,componentName:"moorl-select-field",attributes:{set:"animateIn"},conditions:[{property:"mode",value:"gallery"},{property:"listingLayout",value:"slider"}]},animateOut:{value:null,tab:"slider",card:"animation",cols:6,componentName:"moorl-select-field",attributes:{set:"animateOut"},conditions:[{property:"mode",value:"gallery"},{property:"listingLayout",value:"slider"}]},navigationArrows:{tab:"slider",card:"navigation",value:"outside",componentName:"moorl-select-field",attributes:{set:"navigationArrows"},cols:6,conditions:[{property:"listingLayout",value:"slider"}]},navigationDots:{tab:"slider",card:"navigation",value:null,componentName:"moorl-select-field",attributes:{set:"navigationDots"},cols:6,conditions:[{property:"listingLayout",value:"slider"}]}},Wn={cookieConsent:{value:!0,conditions:[{property:"type",value:"media",operator:"!="}]},disablePointerEvents:{value:!0,conditions:[{property:"type",value:"media",operator:"!="}]},video:{type:"json_list",value:["autoplay","muted","controls"],componentName:"moorl-select-field",attributes:{multiple:!0,customSet:["autoplay","loop","muted","controls"]},conditions:[{property:"type",value:"media",operator:"eq"}]},preload:{value:"metadata",componentName:"moorl-select-field",attributes:{customSet:["none","metadata","auto"]},conditions:[{property:"type",value:"media",operator:"eq"}]}},Gi={listing:Vn,"cta-banner":Un,"media-config":Wn};class Gn{constructor({componentName:a,entity:r,translationHelper:c,currencies:d=[],languages:h=[],minVisibility:m=0}){this.componentName=a,this.entity=r,this.minVisibility=m,this.pluginName=null,this.demoName=null,this.properties=[],this.sortBy=null,this.sortDirection="ASC",this.columns=[],this.associations=[],this.mediaProperty=void 0,this.languageProperty=void 0,this.priceProperties=[],this.dateProperties=[],this.currencies=d,this.languages=h,this.translationHelper=c,this.ready=this._init()}getSortBy(){return this.sortBy}getColumns(){return this.columns}getPreviewColumn(){const a=this.properties.find(r=>r.mediaProperty!==void 0);return a?a.name:this.properties.some(r=>r.name==="name")?"name":this.sortBy}getAssociations(){return this.associations}getMediaProperty(){return this.mediaProperty}async _init(){await this._loadProperties(),this._initMediaProperty(),this._initAssociations(),this._initProperties()}async _loadProperties(){let a=0;return new Promise((r,c)=>{const d=async()=>{const h=MoorlFoundation.ModuleHelper.getByEntity(this.entity);if(!h)return a++>50?(console.error("[ListHelper]",this.componentName,{entity:this.entity}),c(new Error("Timeout: PluginConfig not found"))):setTimeout(d,50);const m=h.properties??[];this.properties=m.filter(C=>C.visibility>=this.minVisibility);const w=this.properties.reduce((C,b)=>!C||b.visibility>C.visibility?b:C,null);this.sortBy=(w==null?void 0:w.name)??null,this.sortDirection=this.sortBy==="autoIncrement"?"DESC":"ASC",this.pluginName=h.pluginName??null,this.demoName=h.demoName??"standard",r()};d()})}_initMediaProperty(){const a=this.properties.find(c=>c.mediaProperty!==void 0);if(a){this.mediaProperty=a.mediaProperty,this.associations.push(this.mediaProperty);return}const r=Shopware.EntityDefinition.get(this.entity).properties;for(const[c,d]of Object.entries(r))if(d.type==="association"&&d.relation==="many_to_one"&&(d.entity==="media"||d.entity===`${this.entity}_media`)){this.mediaProperty=d.entity==="media"?c:`${c}.media`,this.associations.push(this.mediaProperty);return}}_initAssociations(){this.properties.forEach(({name:a})=>{const r=a.split(".");r.pop(),r.length>0&&this._addAssociation(r.join("."))})}_addAssociation(a){this.associations.includes(a)||this.associations.push(a)}_initProperties(a,r,c,d=[]){a=a??this.entity,r=r??this.createNestedObject(this.properties);const h=Object.entries(r).length>1||d.length===0,m=Shopware.EntityDefinition.get(a).properties;for(const[w,C]of Object.entries(r)){const b=[...d,w],P=b.join("."),F=m[w];if(!F)continue;const T={property:P,dataIndex:P,label:this.translationHelper.getLabel("field",h?P:d.join(".")),allowResize:!1};switch(F.type){case"association":this._addAssociation(P),C&&F.relation==="many_to_one"&&this._initProperties(F.entity,C,F.localField,b);continue;case"string":case"text":d.length===0&&(T.inlineEdit="string"),T.width="140px",T.align="left",T.routerLink=MoorlFoundation.RouteHelper.getRouterLinkByEntity(a,"detail"),T.routerLinkIdProperty=c;break;case"int":case"float":d.length===0&&(T.inlineEdit="number"),T.width="100px",T.align="right";break;case"boolean":T.width="80px",T.inlineEdit="boolean",T.align="center",T.sortable=!1;break;case"date":T.width="120px",T.align="right",this.dateProperties.push(P);break;case"json_object":P.toLowerCase().includes("price")&&(this.priceProperties.push(P),this.columns.push(...this._getCurrenciesColumns(P,T)),this._addAssociation("tax"));continue;case"json_list":P==="languageIds"&&(this.languageProperty=P,this.columns.push(...this._getLanguageColumns(P,T)));continue}this.columns.push(T)}}createNestedObject(a){const r={};return a.forEach(({name:c})=>{const d=c.split(".");let h=r;d.forEach((m,w)=>{h[m]||(h[m]=w===d.length-1?null:{}),h=h[m]})}),r}getCurrenciesAndPriceProperties(){return this.priceProperties.flatMap(a=>this.currencies.map(r=>({priceProperty:a,currency:r})))}_getLanguageColumns(){return this.languages.toSorted((a,r)=>r.id===Shopware.Context.api.languageId?1:-1).map(a=>{var r;return{property:`languageIds-${a.id}`,dataIndex:`languageIds.${a.id}`,label:(r=a.locale)==null?void 0:r.code,allowResize:!1,languageId:a.id,width:"80px",align:"center",inlineEdit:"boolean",sortable:!1}})}_getCurrenciesColumns(a,r){return this.currencies.toSorted((c,d)=>d.isSystemDefault?1:-1).map(c=>({property:`${a}-${c.isoCode}`,dataIndex:`${a}.${c.id}`,label:r.label,allowResize:!1,currencyId:c.id,visible:c.isSystemDefault,width:"100px",align:"right",sortable:!1}))}}class Yn{constructor({componentName:a,entity:r}){this.componentName=a,this.entity=r,this.associations=[],this._init()}getAssociations(){return this.associations}hasSeoUrls(){return this.associations.indexOf("seoUrls")!==-1}_init(){const a=Shopware.EntityDefinition.get(this.entity).properties;for(const[r,c]of Object.entries(a))c.type==="association"&&c.relation!=="many_to_one"&&this.associations.push(r)}}class Kn{constructor({$tc:a,componentName:r=void 0}){this.componentName=r,this.$tc=a,this.snippetSets=[],this.snippetStruct={},this._init()}getNotification(a){return this.getLabel("notification",a,!1)}get(a,r){return this.getLabel(a,r,!1)}getLabel(a,r,c=!0){const d=r.split("."),h=[];for(const m of d)for(const w of this.snippetSets){this.snippetStruct[w]===void 0&&(this.snippetStruct[w]={}),this.snippetStruct[w][a]===void 0&&(this.snippetStruct[w][a]={});const C=`${w}.${a}.${m}`,b=this.$tc(C);if(b!==C){h.push(b);break}else this.snippetStruct[w][a][m]=m}if(h.length>0)return h.join("-");if(c){const m=`${a}.${r}`;return console.error(this.componentName,`No translation found for ${m}`,this.snippetStruct),m}}_init(){this.componentName!==void 0&&this._addSnippetSourceByComponentName(this.componentName.split("-")),this.snippetSets.push("moorl-foundation")}_addSnippetSourceByComponentName(a){this.snippetSets.push(a.join("-")),a.pop(),a.length>1&&this._addSnippetSourceByComponentName(a)}}class Xn{static getRouterLinkByEntity(a,r="detail"){var h;const c=(h=MoorlFoundation.ModuleHelper.getByEntity(a))==null?void 0:h.listPath;if(c===void 0)return null;let d=c.split(".");return d.pop(),d.push(r),d.join(".")}}function ea({configList:i,context:a,debug:r=!1}){const c={},d=[];for(const m of i)m.alias&&(c[m.alias]=m);const h=m=>{if(typeof m=="function")return m(a);if(typeof m=="string"){const w=m.startsWith("!"),C=w?m.slice(1):m,b=c[C];if(!b)return console.warn(`[autoConfiguration] Unknown alias: ${C}`),!1;const P=b.conditions.every(h);return w?!P:P}return!1};for(const m of i)if(m.conditions.every(h)&&typeof m.apply=="function"){if(r){const C=m.alias??"(final)",b=typeof m.description=="function"?m.description(a):m.description??"";console.debug(`[autoConfiguration] Applying rule [${C}]${b?`: ${b}`:""}`)}if(m.apply(a),m.alias)d.push(m.alias);else break}return d}function ha(i,a=0,r=""){var P,F;const c=Shopware.EntityDefinition.get(i).properties,d=["uuid","boolean","int","float","string","text","date","association"],h=["createdAt","updatedAt","translations","salesChannel","versionId"],m=["id","name","url","title","alt","taxRate"],w=T=>T.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([a-zA-Z])([0-9]+)/g,"$1_$2").replace(/\./g,"_").toLowerCase(),C=Object.entries(c).map(([T,Q])=>({key:T,...Q})).filter(T=>d.includes(T.type)).filter(T=>!h.includes(T.key)).filter(T=>a===0||m.includes(T.key)).sort((T,Q)=>d.indexOf(T.type)-d.indexOf(Q.type)),b=[];for(const T of C){const Q=`${r}${T.key}`;if(T.type==="uuid"&&!((P=T.flags)!=null&&P.primary_key))continue;if(T.type==="association"){if(a===0&&T.relation==="many_to_one"){const ee=ha(T.entity,a+1,Q+".");b.push(...ee)}continue}const ne=w(Q);(F=T.flags)!=null&&F.translatable?b.push({key:`translations.DEFAULT.${Q}`,mappedKey:ne}):b.push({key:Q,mappedKey:ne})}return b.forEach((T,Q)=>{T.position=Q}),b}const{Criteria:Jn}=Shopware.Data;class ft{static enrichMapping(a){for(const[r,c]of Object.entries(a)){if(c.hidden){delete a[r];continue}c.type||(c.entity?(c.type="association",c.value===void 0&&(r.slice(-1)==="s"?c.value=[]:c.value=null),Array.isArray(c.value)?c.relation="one_to_many":(c.relation="many_to_one",c.localField=r)):c.value===void 0&&(c.type="string",c.value=null),c.type||(c.type=typeof c.value),c.type==="object"&&(Array.isArray(c.value)?c.type="json_list":c.value===null?c.type="string":c.type="json_object"))}return a}static getCmsDefaultConfig(a){const r={};for(const[c,d]of Object.entries(a))r[c]={source:d.source??"static"},d.entity&&(r[c].entity={name:d.entity,criteria:ft.getEntityCriteria(d)}),r[c].value=d.value;return r}static getEntityCriteria(a){if(!Array.isArray(a.associations))switch(a.associations=[],a.entity){case"product":a.associations.push("cover.media");break;case"category":case"product_manufacturer":a.associations.push("media");break}const r=new Jn;for(const c of a.associations)r.addAssociation(c);return r}}const Qn={children:{tab:"general",card:"general"},directory:{tab:"directory",card:"directory",componentName:"moorl-file-explorer",conditions:[{property:"clientId",value:null,operator:"!=="}],attributes:{clientId:({item:i})=>i.clientId,showActions:!1},cols:12},deeplink:{tab:"customFields",card:"deeplink"},discountType:{tab:"promotion",card:"promotion",componentName:"moorl-select-field",attributes:{customSet:["percentage"],snippetPath:"moorl-foundation.field"}},discountValue:{tab:"promotion",card:"promotion"},maxStacks:{tab:"promotion",card:"promotion"},salutation:{tab:"general",card:"contact",cols:3},title:{tab:"general",card:"contact",cols:3},firstName:{tab:"general",card:"contact",cols:3},lastName:{tab:"general",card:"contact",cols:3},email:{tab:"general",card:"contact",componentName:"mt-email-field"},phoneNumber:{tab:"general",card:"contact"},shopUrl:{tab:"general",card:"contact",componentName:"mt-url-field"},merchantUrl:{tab:"general",card:"contact",componentName:"mt-url-field"},externalLink:{tab:"general",card:"contact",componentName:"mt-url-field"},creatorType:{tab:"general",card:"profile"},followers:{tab:"general",card:"profile"},role:{tab:"general",card:"profile"},link:{tab:"general",card:"profile",componentName:"mt-url-field"},isBusiness:{tab:"general",card:"profile"},imprint:{tab:"general",card:"profile"},isStock:{tab:"general",card:"options"},stockType:{tab:"general",card:"options",conditions:[{property:"isStock",value:!0,operator:"eq"}],componentName:"moorl-select-field",attributes:{set:"stockType"}},isCountdown:{tab:"general",card:"options"},countdownType:{tab:"general",card:"options",conditions:[{property:"isCountdown",value:!0,operator:"eq"}],componentName:"moorl-select-field",attributes:{set:"countdownType"}},isGamble:{tab:"general",card:"options"},gambleType:{tab:"general",card:"options",conditions:[{property:"isGamble",value:!0,operator:"eq"}],componentName:"moorl-select-field",attributes:{set:"interval"}},hasFiles:{tab:"general",card:"options"},hasCodes:{tab:"general",card:"options"},hasLinks:{tab:"general",card:"options"},configParent:{tab:"general",card:"options"},config:{tab:"general",card:"options"},tax:{tab:"price",card:"price"},customPrice:{tab:"price",card:"price"},stock:{tab:"stock",card:"general"},sales:{tab:"stock",card:"general"},availableStock:{tab:"stock",card:"general"},deliveryTime:{tab:"stock",card:"general"},question:{tab:"general",card:"general"},solution:{tab:"general",card:"general"},isTrue:{tab:"general",card:"general"},name:{tab:"general",card:"general"},alias:{tab:"general",card:"general"},expiryTime:{tab:"general",card:"general"},technicalName:{tab:"general",card:"general"},internalName:{tab:"general",card:"general"},highlight:{tab:"general",card:"general"},fixed:{tab:"general",card:"general"},logical:{tab:"general",card:"general"},type:{tab:"general",card:"general"},calculator:{tab:"general",card:"general"},levelCount:{tab:"general",card:"general"},autoIncrement:{tab:"general",card:"general"},date:{tab:"general",card:"general"},releaseDate:{tab:"general",card:"general"},optionPercentage:{tab:"general",card:"general"},redeemCode:{tab:"general",card:"general"},showDiscount:{tab:"general",card:"general"},subscriptionTime:{tab:"general",card:"general"},teaser:{tab:"general",card:"general"},description:{tab:"general",card:"general"},content:{tab:"general",card:"general"},contentCmsPage:{tab:"general",card:"general"},descriptionHtml:{tab:"general",card:"general"},keywords:{tab:"general",card:"general"},info:{tab:"general",card:"general"},customerNumber:{tab:"general",card:"general"},manufacturerNumber:{tab:"general",card:"general"},ean:{tab:"general",card:"general"},useChapters:{tab:"general",card:"general"},validUntil:{tab:"general",card:"general"},code:{tab:"general",card:"general"},rating:{tab:"general",card:"general"},ratingMax:{tab:"general",card:"general"},unit:{tab:"general",card:"specifications"},referenceUnit:{tab:"general",card:"specifications"},active:{tab:"general",card:"visibility"},priority:{tab:"general",card:"visibility"},badge:{tab:"general",card:"visibility"},gallery:{tab:"general",card:"visibility"},isDefault:{tab:"general",card:"visibility"},tab:{tab:"general",card:"visibility"},approved:{tab:"general",card:"visibility"},available:{tab:"general",card:"visibility"},sticky:{tab:"general",card:"visibility"},invisible:{tab:"general",card:"visibility"},released:{tab:"general",card:"visibility"},published:{tab:"general",card:"visibility"},position:{tab:"general",card:"visibility"},hidden:{tab:"general",card:"visibility"},isPreview:{tab:"general",card:"visibility"},showFrom:{tab:"general",card:"visibility",newline:!0},showUntil:{tab:"general",card:"visibility"},boostTopUntil:{tab:"general",card:"visibility",newline:!0},boostHomeUntil:{tab:"general",card:"visibility"},boostSlotUntil:{tab:"general",card:"visibility"},categories:{tab:"general",card:"visibility"},languages:{tab:"general",card:"visibility"},languageIds:{tab:"general",card:"visibility",componentName:"sw-entity-multi-id-select",attributes:{entity:"language"}},swCategories:{tab:"general",card:"visibility"},shopwareCategories:{tab:"general",card:"visibility"},salesChannels:{tab:"general",card:"visibility"},customers:{tab:"general",card:"visibility"},sorting:{tab:"general",card:"visibility"},customerGroups:{tab:"general",card:"visibility"},redirectFix:{tab:"general",card:"visibility"},language:{tab:"general",card:"visibility"},cssClass:{tab:"general",card:"visibility"},minResults:{tab:"general",card:"visibility"},page:{tab:"general",card:"visibility"},availabilityRule:{tab:"general",card:"visibility"},visible:{tab:"general",card:"visibility"},schemaOrgType:{tab:"seo",card:"general"},schemaOrgProperty:{tab:"seo",card:"general"},metaTitle:{tab:"seo",card:"general"},metaDescription:{tab:"seo",card:"general"},metaKeywords:{tab:"seo",card:"general"},seoUrls:{tab:"seo",componentName:"sw-seo-url"},progress:{tab:"seo",card:"meta"},duration:{tab:"seo",card:"meta"},fileCount:{tab:"seo",card:"meta"},lessonCount:{tab:"seo",card:"meta"},chapterCount:{tab:"seo",card:"meta"},boardCount:{tab:"seo",card:"meta"},points:{tab:"seo",card:"meta"},ratings:{tab:"seo",card:"meta"},subscriptionCount:{tab:"seo",card:"meta"},testCount:{tab:"seo",card:"meta"},ratingCount:{tab:"seo",card:"meta"},courseCount:{tab:"seo",card:"meta"},eventDate:{tab:"event",card:"event"},eventDuration:{tab:"event",card:"event"},eventLocation:{tab:"event",card:"event"},street:{tab:"address",card:"general",cols:8},streetNumber:{tab:"address",card:"general",cols:4},zipcode:{tab:"address",card:"general",cols:4},city:{tab:"address",card:"general",cols:8},countryCode:{tab:"address",card:"general",cols:2},country:{tab:"address",card:"general",cols:5},countryState:{tab:"address",card:"general",cols:5},additionalAddressLine1:{tab:"address",card:"general"},additionalAddressLine2:{tab:"address",card:"general"},locationPlaceId:{tab:"address",card:"general"},company:{tab:"general",card:"company"},department:{tab:"general",card:"company"},executiveDirector:{tab:"general",card:"company"},placeOfFulfillment:{tab:"general",card:"company"},placeOfJurisdiction:{tab:"general",card:"company"},bankBic:{tab:"general",card:"company"},bankIban:{tab:"general",card:"company"},bankName:{tab:"general",card:"company"},taxOffice:{tab:"general",card:"company"},taxNumber:{tab:"general",card:"company"},vatId:{tab:"general",card:"company"},locationLat:{tab:"address",card:"location"},locationLon:{tab:"address",card:"location"},autoLocation:{tab:"address",card:"location"},marker:{tab:"address",card:"location"},locationCache:{tab:"address",componentName:"moorl-location-card",attributes:{item:({item:i})=>i}},timeZone:{tab:"time",card:"general",componentName:"moorl-select-field",attributes:{set:"timeZone"}},showOpeningHours:{tab:"time",card:"general"},openingHours:{tab:"time",card:"general",componentName:"moorl-opening-hours",conditions:[{property:"showOpeningHours",value:!0,operator:"eq"}]},products:{tab:"relations",card:"relations"},accessories:{tab:"relations",card:"relations"},productManufacturers:{tab:"relations",card:"relations"},productStreams:{tab:"relations",card:"relations"},filters:{tab:"relations",card:"relations"},tags:{tab:"relations",card:"relations"},medias:{tab:"relations",card:"relations"},downloads:{tab:"relations",card:"relations"},lessons:{tab:"relations",card:"relations"},courses:{tab:"relations",card:"relations"},chapters:{tab:"relations",card:"relations"},files:{tab:"relations",card:"relations"},salesChannel:{tab:"relations",card:"relations"},customer:{tab:"relations",card:"relations"},customerGroup:{tab:"relations",card:"relations"},article:{tab:"relations",card:"relations"},look:{tab:"relations",card:"relations"},appflixAd:{tab:"relations",card:"relations"},product:{tab:"relations",card:"relations"},accessory:{tab:"relations",card:"relations"},productStream:{tab:"relations",card:"relations"},order:{tab:"relations",card:"relations"},merchant:{tab:"relations",card:"relations"},category:{tab:"relations",card:"relations"},site:{tab:"relations",card:"relations"},client:{tab:"relations",card:"relations"},filterGroup:{tab:"relations",card:"relations"},parent:{tab:"relations",card:"relations"},lesson:{tab:"relations",card:"relations"},course:{tab:"relations",card:"relations"},chapter:{tab:"relations",card:"relations"},board:{tab:"relations",card:"relations",attributes:{labelProperty:"content"}},downloadCenter:{tab:"relations",card:"relations"},downloadCenterCode:{tab:"relations",card:"relations"},partsListConfigurator:{tab:"relations",card:"relations"},creator:{tab:"general",card:"general"},tutor:{tab:"general",card:"general"},categoriesRo:{hidden:!0},categoryIds:{hidden:!0},categoryTree:{hidden:!0},cover:{tab:"general",card:"media"},color:{tab:"general",card:"media"},bannerColor:{tab:"general",card:"media"},mediaFolder:{tab:"general",card:"media"},iconColor:{tab:"general",card:"media"},backgroundColor:{tab:"general",card:"media"},minWidth:{tab:"general",card:"media"},embeddedMedia:{tab:"general",card:"media"},icon:{tab:"general",card:"media"},sgMedia:{tab:"general",card:"media",componentName:"moorl-entity-select-field"},embeddedId:{tab:"general",card:"media"},embeddedUrl:{tab:"general",card:"media",componentName:"moorl-embedded-url-field",cols:12,attributes:{backgroundColor:({item:i})=>i.backgroundColor}},videos:{tab:"general"},enableComments:{tab:"comments",card:"general"}},er=["general","specifications","directory","promotion","visibility","media","contact","address","location","event","price","stock","comments","company","seo","cmsPage","time","stock","relations","customFields","content","text","button","icon","media","position","scss","layout","slider","navigation","animation","undefined"],tr={media:"fileName",product:"productNumber",salutation:"displayName",customer:"customerNumber",moorl_sorting:"label"},ta=i=>a=>!i(a),Xe=(...i)=>({field:a})=>i.includes(a.type),Ht=(...i)=>({field:a})=>i.includes(a.entity),ia=()=>({field:i})=>{var r;const a=MoorlFoundation.ModuleHelper.getByEntity(i.entity);return((r=a==null?void 0:a.properties)==null?void 0:r.length)>0},ir=[{alias:"hasComponentName",description:({property:i,column:a})=>`The componentName is already set to '${a.componentName}' (${i})`,conditions:[({column:i})=>i.componentName!==void 0]},{alias:"hasTab",conditions:[({column:i})=>i.tab!==void 0]},{alias:"hasCard",conditions:[({column:i})=>i.card!==void 0]},{alias:"isTranslated",conditions:[({field:i})=>{var a;return(a=i.flags)==null?void 0:a.translatable}]},{alias:"isRequired",conditions:[({field:i})=>{var a;return(a=i.flags)==null?void 0:a.required}],apply({attributes:i}){i.required=!0}},{alias:"isDisabled",conditions:[({field:i})=>{var a;return(a=i.flags)==null?void 0:a.write_protected}],apply({attributes:i}){i.disabled=!0}},{alias:"isObject",conditions:[Xe("json_object","object")],apply({column:i}){i.cols??(i.cols=12)}},{alias:"isList",conditions:[Xe("json_list","list")],apply({column:i}){i.cols??(i.cols=12)}},{alias:"isCustomProperty",conditions:[({property:i})=>i.toLowerCase().includes("custom"),({property:i})=>!i.toLowerCase().includes("customer")],apply({column:i}){i.tab="customFields",i.card="customFields"}},{description:({property:i})=>`Add component 'sw-custom-field-set-renderer' (${i})`,conditions:[({property:i})=>i==="customFields"],apply({column:i,customFieldSets:a}){i.hidden=a.length===0,i.componentName="sw-custom-field-set-renderer"}},{description:({property:i,column:a})=>`The field is no association and the component is already set to '${a.componentName}' (${i})`,conditions:[ta(Xe("association")),"hasComponentName"],apply({column:i}){i.cols??(i.cols=6)}},{description:({property:i})=>`Add component 'sw-code-editor' (${i})`,conditions:[({field:i})=>i.type==="code"],apply({column:i}){i.componentName="sw-code-editor"}},{description:({property:i})=>`Add component 'mt-text-editor' (${i})`,conditions:[({field:i})=>i.type==="html"||i.type==="text"&&i.flags.allow_html!==void 0],apply({column:i}){i.componentName="mt-text-editor"}},{description:({property:i})=>`Add component 'mt-colorpicker' (${i})`,conditions:[({field:i,property:a})=>i.type==="color"||i.type==="string"&&a.toLowerCase().includes("color")],apply({column:i,attributes:a}){i.componentName="mt-colorpicker",a.colorOutput="hex",a.zIndex=1e3}},{alias:"isString",description:({property:i})=>`Add component 'mt-text-field' (${i})`,conditions:[Xe("string")],apply({column:i}){i.cols??(i.cols=6),i.componentName="mt-text-field"}},{alias:"isText",description:({property:i})=>`Add component 'mt-textarea' (${i})`,conditions:[Xe("text")],apply({column:i}){i.componentName="mt-textarea"}},{description:({property:i})=>`Add component 'mt-switch' (${i})`,conditions:[Xe("boolean")],apply({column:i,attributes:a}){i.cols??(i.cols=6),i.componentName="mt-switch",a.bordered=!0}},{alias:"isNumber",description:({property:i})=>`Add component 'mt-number-field' (${i})`,conditions:[Xe("int","float","number")],apply({column:i,attributes:a,field:r}){i.cols??(i.cols=6),i.componentName="mt-number-field",a.numberType=r.type}},{description:({property:i})=>`Add digits (${i})`,conditions:[Xe("float")],apply({attributes:i}){i.digits=8}},{description:({property:i})=>`Add component 'mt-datepicker' (${i})`,conditions:[Xe("date")],apply({column:i,attributes:a}){i.cols??(i.cols=6),i.componentName="mt-datepicker",a.size="default"}},{alias:"isPriceProperty",conditions:[({property:i})=>i.toLowerCase().includes("price")],apply({column:i}){i.tab="price",i.card="price"}},{description:({property:i})=>`Add component 'moorl-price-field' (${i})`,conditions:["!hasComponentName","isObject","isPriceProperty"],apply({column:i,attributes:a}){i.componentName="moorl-price-field",a.tax=({tax:r})=>r,a.currency=({currency:r})=>r}},{description:({property:i})=>`Object without component can't be resolved (${i})`,conditions:["!hasComponentName","isObject"],apply({column:i}){i.hidden=!0}},{alias:"isAssociation",description:({property:i})=>`Enrich association (${i})`,conditions:[Xe("association")],apply({attributes:i,field:a}){i.entity=a.entity,i.labelProperty=({field:r})=>tr[r.entity]??"name"}},{alias:"setTabRelations",description:({property:i})=>`Set column tab 'relations' (${i})`,conditions:["isAssociation","!hasTab"],apply({column:i}){i.tab="relations"}},{alias:"isManyToOne",description:({property:i})=>`Enrich many_to_one (${i})`,conditions:["isAssociation",({field:i})=>i.relation==="many_to_one"],apply({column:i,attributes:a,field:r,fields:c,path:d}){var h,m,w,C;i.name=r.localField,i.path=d?`${d}.${r.localField}`:r.localField,a.required=(m=(h=c==null?void 0:c[r.localField])==null?void 0:h.flags)==null?void 0:m.required,a.disabled=(C=(w=c==null?void 0:c[r.localField])==null?void 0:w.flags)==null?void 0:C.write_protected,a.showClearableButton=a.required===void 0}},{description:({property:i})=>`Hide property, item is new (${i})`,conditions:["isAssociation","!isManyToOne",({item:i})=>i._isNew],apply({column:i}){i.hidden=!0}},{alias:"isOneToMany",conditions:["isAssociation",({field:i})=>i.relation==="one_to_many"]},{alias:"isManyToMany",conditions:["isAssociation",({field:i})=>i.relation==="many_to_many"],apply({column:i}){}},{description:({property:i})=>`Add component 'moorl-media-gallery' (${i})`,conditions:["isOneToMany",({field:i,entity:a})=>i.entity===`${a}_media`],apply({column:i,attributes:a,item:r}){i.componentName="moorl-media-gallery",i.tab="general",i.card="media",a.item=r}},{description:({property:i})=>`Hide cover from 'moorl-media-gallery' (${i})`,conditions:[({field:i,entity:a})=>i.entity===`${a}_media`],apply({column:i}){i.hidden=!0}},{description:({property:i})=>`Add component 'moorl-media-field' (${i})`,conditions:["isManyToOne",Ht("media")],apply({column:i,attributes:a,entity:r}){i.componentName="moorl-media-field",i.tab="general",i.card="media",a.entity=r}},{description:({property:i})=>`Add component 'moorl-layout-card-v2' (${i})`,conditions:["isManyToOne",Ht("cms_page"),({property:i,item:a})=>i==="cmsPage"&&(a==null?void 0:a.slotConfig)!==void 0],apply({column:i}){i.componentName="moorl-layout-card-v2",i.tab="cmsPage"}},{description:({property:i})=>`Add component 'sw-entity-single-select' (${i})`,conditions:["!hasComponentName","isManyToOne",ta(Ht("media","user"))],apply({column:i}){i.cols??(i.cols=6),i.componentName="sw-entity-single-select"}},{description:({property:i})=>`Add component 'sw-category-tree-field' (${i})`,conditions:["isManyToMany",Ht("category")],apply({column:i,attributes:a,property:r,item:c}){i.componentName="sw-category-tree-field",a.categoriesCollection=c==null?void 0:c[r]}},{description:({property:i})=>`Add component 'moorl-properties' (${i})`,conditions:["isManyToMany",Ht("property_group_option")],apply({column:i}){i.model="entityCollection",i.componentName="moorl-properties"}},{description:({property:i})=>`Add component 'moorl-entity-grid-v2' (${i})`,conditions:["!hasComponentName","hasCard","isOneToMany",ia()],apply({column:i}){i.componentName="moorl-entity-grid-v2"}},{description:({property:i})=>`Add component 'moorl-entity-grid-card-v2' (${i})`,conditions:["!hasComponentName","isOneToMany",ia()],apply({column:i,property:a}){i.componentName="moorl-entity-grid-card-v2",i.label=a}},{description:({property:i})=>`Fallback for ManyToMany Association (${i})`,conditions:["!hasComponentName","isManyToMany"],apply({column:i,attributes:a,field:r}){i.model="entityCollection",i.componentName="sw-entity-many-to-many-select",a.localMode=!0}},{description:({property:i})=>`Fallback for OneToMany Association (${i})`,conditions:["!hasComponentName","isOneToMany"],apply({column:i,attributes:a,field:r}){i.model="entityCollection",i.componentName="sw-entity-multi-select",a.localMode=!0}}],Lt=(...i)=>({column:a})=>i.includes(a.componentName),or=[{alias:"isFallbackTab",conditions:[({column:i})=>i.tab===void 0],apply({column:i}){i.tab="undefined"}},{alias:"isRelationFallbackCard",description:({property:i})=>`Set column card 'relations' (${i})`,conditions:[({column:i})=>i.card===void 0,({field:i})=>i.type==="association"],apply({column:i}){i.card="relations"}},{alias:"isFallbackCard",conditions:[({column:i})=>i.card===void 0],apply({column:i}){i.card="undefined"}},{alias:"isFallbackCols",conditions:[({column:i})=>i.cols===void 0],apply({column:i}){i.cols=12}},{description:"Handle Meteor component",conditions:[({column:i})=>i.componentName.startsWith("mt-")],apply({column:i}){i.model=void 0}},{alias:"isCard",description:"Handle standalone card component",conditions:[({column:i})=>i.componentName.includes("-card")],apply({column:i}){i.card=void 0}},{description:"Component: sw-seo-url",conditions:[Lt("sw-seo-url")],apply({column:i,attributes:a,item:r,property:c}){i.card=void 0,i.model=void 0,a.hasDefaultTemplate=!1,a.urls=r[c]}},{description:"Component: sw-entity-multi-id-select",conditions:[Lt("sw-entity-multi-id-select"),({attributes:i})=>i.repository===void 0&&i.entity!==void 0],apply({attributes:i}){i.repository=Shopware.Service("repositoryFactory").create(i.entity)}},{description:"Component: sw-custom-field-set-renderer",conditions:[Lt("sw-custom-field-set-renderer")],apply({column:i,attributes:a,item:r,customFieldSets:c}){i.model=void 0,a.entity=r,a.sets=c}},{description:"Component: moorl-layout-card-v2",conditions:[Lt("moorl-layout-card-v2")],apply({column:i,attributes:a,item:r,entity:c}){i.model=void 0,a.item=r,a.entity=c,a.slotConfig=r.slotConfig}},{alias:"isEntityGridComponent",conditions:[Lt("moorl-entity-grid-v2","moorl-entity-grid-card-v2")],apply({attributes:i,field:a,item:r}){i.defaultItem=i.defaultItem??{[a.referenceField]:r[a.localField]}}},{description:"Component: moorl-entity-grid-card-v2",conditions:[Lt("moorl-entity-grid-card-v2")],apply({column:i,attributes:a,componentName:r}){i.model=void 0,a.componentName=r}}],{merge:ar,cloneDeep:nr}=Shopware.Utils.object;class Ki{constructor({entity:a,item:r,componentName:c,translationHelper:d,useTabs:h=void 0,masterMapping:m=void 0,path:w=void 0,parentColumn:C={}}){this.entity=a??c,this.item=r,this.componentName=c,this.path=w,this.useTabs=h,this.parentColumn=C,this.translationHelper=d,this.order=er,this.pageStruct={tabs:[]},this.columns=[],this.masterMapping=m,this.currency=null,this.tax=null,this.customFieldSets=[],this.initialized=!1}buildFormStruct(){if(this.pageStruct.tabs.length>0)return console.warn(`[FormBuilderHelper] Form "${this.entity}" already built`),this.pageStruct;const a=this.masterMapping??Shopware.EntityDefinition.get(this.entity).properties;this._build(a),this.useTabs===void 0&&(this.useTabs=this.columns.length>=10);for(const r of this.columns)this._addColumnToStruct(r,r.property);return this._sortStruct(),this.pageStruct}_build(a){var r,c;this._init(),this.masterMapping||ha(this.entity),ft.enrichMapping(a);for(const[d,h]of Object.entries(a)){if(h.type==="uuid"||["createdAt","updatedAt","translations"].includes(d)||(r=h.flags)!=null&&r.runtime||(c=h.flags)!=null&&c.computed)continue;const m=this._buildColumn(h,d,a);m&&this.columns.push(m)}return this.columns}_init(){if(this.initialized)return;this.mapping=nr(this.masterMapping??Qn);let a=0;for(const[c,d]of Object.entries(this.mapping))d.order=a,a+=10;if(!this.entity)return;const r=MoorlFoundation.ModuleHelper.getEntityMapping(this.entity)??{};for(const[c,d]of Object.entries(r))if(typeof d.order=="string"){const h=d.order;if(h==="first")d.order=0;else if(h==="last")d.order=9999;else{const m=h.match(/^(before|after):?(.*)$/);if(m){const[,w,C]=m,b=this.mapping[C],P=(b==null?void 0:b.order)??9999;d.order=w==="before"?P-1:P+1,b&&(d.tab??(d.tab=b.tab),d.card??(d.card=b.card))}else console.error(`[FormBuilderHelper] Invalid string in order:"${h}". Use "first", "last", "before:targetKey" or "after:targetKey"`)}}ar(this.mapping,r),this.initialized=!0}_buildColumn(a,r,c){var C;const d=this.path?`${this.path}.${r}`:r,h=Object.assign({path:d,property:r,tab:void 0,card:void 0,cols:void 0,name:r,model:"value",order:((C=this.mapping[r])==null?void 0:C.order)??9999},this.parentColumn),m={};if(this.mapping[r]&&(Object.assign(h,this.mapping[r]),this.mapping[r].attributes&&Object.assign(m,this.mapping[r].attributes)),a.type==="json_object"&&h.mapping){const P=new Ki({parentColumn:{tab:h.tab,card:h.card},item:this.item[r]??{},masterMapping:h.mapping,translationHelper:this.translationHelper,path:d})._build(h.mapping);return this.columns.push(...P),null}if(h.hidden)return null;a.value!==void 0&&this.item[r]===void 0&&(this.item[r]=a.value);const w={column:h,attributes:m,field:a,property:r,fields:c,...this.getInstanceParameters()};if(ea({configList:ir,context:w}),h.hidden)return null;if(h.componentName===void 0)return console.warn(`[FormBuilderHelper] No component found for "${r}"...`),null;for(const b of["tab","card"])a[b]!==void 0&&(h[b]=a[b]);h.label??(h.label=this.translationHelper.getLabel("field",r));for(const[b,P]of Object.entries(m))typeof P=="function"&&(m[b]=P(w));return ea({configList:or,context:w}),this._finalizeAttributes(h,m,a,r),h}_finalizeAttributes(a,r,c,d){var h;r.label=a.label,r.helpText=this.translationHelper.getLabel("helpText",d,!1),((h=this.item.translated)==null?void 0:h[d])!==void 0&&(r.placeholder=this.item.translated[d]),a.attributes=r}getInstanceParameters(){return{entity:this.entity,componentName:this.componentName,item:this.item,path:this.path,currency:this.currency,tax:this.tax,customFieldSets:this.customFieldSets}}_addColumnToStruct(a,r){const c=this.useTabs?a.tab:"undefined";let d=this.pageStruct.tabs.find(P=>P.id===c);d||(d={id:c,label:this.translationHelper.getLabel("tab",c),cards:[]},this.pageStruct.tabs.push(d));const h=!a.card,m=h?r:a.card,w=h?a.order:void 0,C=h?void 0:this.translationHelper.getLabel("card",m);let b=d.cards.find(P=>P.id===m);b||(b={id:m,label:C,order:w,standalone:h,fields:[]},d.cards.push(b)),b.fields.push(a)}_sortStruct(){const a=r=>{const c=this.order.indexOf(r);return c===-1?9999:c};this.pageStruct.tabs.sort((r,c)=>a(r.id)-a(c.id)),this.pageStruct.tabs.forEach(r=>{r.cards.sort((c,d)=>{const h=c.order??a(c.id),m=d.order??a(d.id);return h!==m?h-m:c.id.localeCompare(d.id)}),r.cards.forEach(c=>{c.fields.sort((d,h)=>{const m=d.order??9999,w=h.order??9999;return m!==w?m-w:d.name.localeCompare(h.name)})})})}}class pi{static isVisible(a,r){return!a.conditions||a.conditions.length===0?!0:pi.evaluate(a.conditions,r)}static evaluate(a=[],r={}){let c=0;for(const d of a){const{property:h,value:m,operator:w="==",callback:C}=d;let b=!1;if(typeof m=="function")b=m(r);else{let P,F;Array.isArray(h)?h.length===2&&(P=r[h[0]],F=r[h[1]]):(P=r[h],F=m),P===void 0?b=!0:b=pi._compare(P,F,w)}typeof C=="function"&&C({result:b,item:r}),b&&c++}return c===a.length}static _compare(a,r,c){switch(typeof a=="object"&&a!==null&&(a=a.value),c){case"eq":case"==":return a==r;case"===":return a===r;case"!=":return a!=r;case"!==":return a!==r;case"gt":case">":return a>r;case"lt":case"<":return a<r;case"gte":case">=":return a>=r;case"lte":case"<=":return a<=r;case"in":return Array.isArray(r)&&r.includes(a);case"nin":return Array.isArray(r)&&!r.includes(a);case"includes":return typeof a=="string"&&a.includes(r);case"notIncludes":return typeof a=="string"&&!a.includes(r);default:return!1}}}const{mergeWith:rr}=Shopware.Utils.object,{get:sr}=Shopware.Utils,Me=class Me{static fetchCmsElement(a,r){if(Gi[a]!==void 0){const h=(m,w)=>{if(Array.isArray(m))return w};r=rr({},Gi[a],r,h)}ft.enrichMapping(r);const c=ft.getCmsDefaultConfig(r),d=`moorl-abstract-cms-${a}`;return{cmsElementMapping:r,defaultConfig:c,component:d}}static getConfig(a,r){const c=this.cmsElementConfigCache[a]??{};return r!==void 0?c[r]??null:c}static registerCmsElement({icon:a,plugin:r,name:c,label:d,parent:h,cmsElementEntity:m,cmsElementMapping:w={}}){m!==void 0&&(m.criteria=ft.getEntityCriteria(m),m.propertyMapping!==void 0&&(this.propertyMapping[m.entity]=m.propertyMapping));const C=Me.fetchCmsElement(h,w);r=r??"MoorlFoundation",a=a??"regular-view-grid",this.cmsElementConfigCache[c]={cmsElementEntity:m,plugin:r,icon:a,...C};const b={cmsElementEntity:m,defaultData:Me.getDefaultData(),plugin:r,icon:a,name:c,label:d??`${C.component}.name`,configComponent:`${C.component}-config`,previewComponent:!0,...C};Shopware.Application.getContainer("service").cmsService.registerCmsElement(b)}static getDefaultData(){return{category:{name:"Demo Category",description:Me.getPlaceholderText(),media:Me.getPlaceholderMedia()},product:{name:"Demo Product",description:Me.getPlaceholderText(),cover:{media:Me.getPlaceholderMedia()}},default:{name:"Default Item",description:Me.getPlaceholderText(),media:Me.getPlaceholderMedia()}}}static getItemData({item:a,entity:r}){const c=Me.getDefaultData().default;if(a===void 0||r===void 0)return c;let d=this.propertyMapping[r];d===void 0&&(d=this.propertyMapping.default);const h=["name","description","media"];for(const m of h)d[m]!==void 0&&(c[m]=Me.getItemPropertyData(a,d[m],c[m]));return c}static getItemPropertyData(a,r,c=null){Array.isArray(r)||(r=[r]);for(const d of r){const h=sr(a,d);if(h)return h}return c}static getBaseData({element:a,entity:r,properties:c,dataSource:d}){const h=Me.getItemData({item:a.data[d],entity:r});if(c===void 0)return h;for(const m of c){if(m.config===void 0)continue;const w=m.data??m.config;if(typeof a.data[m.config]=="object"&&a.data[m.config]!==null){h[w]=a.data[m.config];continue}if(a.config[m.config].value&&!a.config[m.config].entity){h[w]=a.config[m.config].value;continue}h[w]===void 0&&(h[w]=null)}return h}static getPlaceholderMedia(){const a=Shopware.Filter.getByName("asset"),r=["preview_glasses_large","preview_mountain_large","preview_camera_large","preview_plant_large"],c=Math.floor(Math.random()*r.length);return{url:a(`administration/administration/static/img/cms/${r[c]}.jpg`),alt:"Lorem Ipsum dolor"}}static getPlaceholderText(a=30){const c=`Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi 
        ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit 
        in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia 
        deserunt mollit anim id est laborum.`.split(/\s+/),d=[];for(;d.length<a;)d.push(...c);return d.slice(0,a).join(" ").replace(/\s+/g," ").trim()+"."}};pt(Me,"propertyMapping",{category:{name:["translated.name","name"],description:["translated.description","description"],media:"media"},product:{name:["translated.name","name"],description:["translated.description","description"],media:"cover.media"},default:{name:["translated.name","name"],description:["translated.description","description"],media:"media"}}),pt(Me,"cmsElementConfigCache",{});let Yi=Me;const lr=Shopware.Service("customFieldDataProviderService"),cr=Shopware.Service("cmsPageTypeService"),dr=Shopware.Service("searchTypeService");class jt{static registerModule({icon:a,name:r,description:c=`${r}.description`,entity:d,title:h=`global.entities.${d}`,position:m,defaultSearchConfiguration:w,placeholderSnippet:C="global.sw-search-bar.placeholderSearchField",demoName:b,pageType:P,pluginName:F,entityMapping:T,properties:Q,listPath:ne,cmsElements:ee=[],navigationParent:$e="sw-settings",color:Je}){if(Je=Je??this.defaultColors[$e]??"#9aa8b5",a=a??this.defaultIcons[$e]??"regular-cog",r){ne=ne??r.replace(/-/g,".")+".list";const ve=`${d}:read`;let be,je;$e==="sw-settings"?(be="sw.settings.index",je={settingsItem:{privilege:ve,to:ne,group:"plugins",icon:a}}):(be=ne,je={navigation:[{label:h,icon:a,path:ne,position:m,parent:$e}]});const Ue={type:"plugin",name:r,description:c,entity:d,title:h,icon:a,color:Je,routes:{list:{component:`${r}-list`,path:"list",meta:{privilege:ve,parentPath:be}},detail:{component:`${r}-detail`,path:"detail/:id",meta:{privilege:ve,parentPath:ne}},create:{component:`${r}-detail`,path:"create",meta:{privilege:ve,parentPath:ne}}},defaultSearchConfiguration:w,...je};for(const Ie of["list","detail"])Shopware.Component.extend(`${r}-${Ie}`,`moorl-abstract-page-${Ie}`,{data:()=>({entity:d})});Shopware.Module.register(r,Ue),lr.addEntityName(d),w&&dr.upsertType(d,{entityName:d,placeholderSnippet:C,listPath:ne})}P&&cr.register({name:P,icon:a,title:h}),T&&(this.entityMappingCache[d]||(this.entityMappingCache[d]={}),Object.entries(T).forEach(([ve,be])=>{this.entityMappingCache[d][ve]?console.warn(`[CustomEntityMapping] Feld "${ve}" für Entity "${d}" wurde bereits registriert und wird ignoriert.`):this.entityMappingCache[d][ve]=be})),ne=ne??(r?r.replace(/-/g,".")+".list":void 0),this.pluginConfigCache.push({pageType:P,entity:d,properties:Q,pluginName:F,demoName:b,listPath:ne});for(const ve of ee)ve.plugin=ve.plugin??F,ve.cmsElementEntity&&(ve.cmsElementEntity.entity=ve.cmsElementEntity.entity??d),MoorlFoundation.CmsElementHelper.registerCmsElement(ve)}static getEntityMapping(a){return this.entityMappingCache[a]}static addPluginConfig(a){this.pluginConfigCache.push(a)}static getByPageType(a){return this.pluginConfigCache.find(r=>r.pageType===a)}static getByEntity(a){return this.pluginConfigCache.find(r=>r.entity===a)}}pt(jt,"pluginConfigCache",[]),pt(jt,"entityMappingCache",{}),pt(jt,"defaultColors",{"sw-catalogue":"#57d9a3","sw-content":"#ff3d58","sw-customer":"#F88962","sw-marketing":"#ffd700","sw-orders":"#a092f0"}),pt(jt,"defaultIcons",{"sw-catalogue":"regular-products","sw-content":"regular-content","sw-customer":"regular-users","sw-marketing":"regular-megaphone","sw-orders":"shopping-bag"});const fa={fieldsetsConfig:Gi,ListHelper:Gn,ItemHelper:Yn,TranslationHelper:Kn,RouteHelper:Xn,FormBuilderHelper:Ki,ConditionHelper:pi,CmsElementHelper:Yi,ModuleHelper:jt,MappingHelper:ft};window.MoorlFoundation=fa;Ji.default=fa;Ca.exports=Ji.default;window.dispatchEvent(new Event("MoorlFoundationReady"));Shopware.Store.register({id:"moorlFoundationState",state:()=>({unlocked:!1,unlockInfoSeen:!1,plugins:[]}),actions:{setPlugins(i){this.plugins=i},setUnlocked(i){this.unlocked=i},toggleUnlocked(){this.unlocked=!state.unlocked},reset(){}}});const qi=Shopware.Classes.ApiService;class ur extends qi{constructor(a,r,c=""){super(a,r,c)}get(a){const r=this.getApiBasePath()+a;return this.httpClient.get(r,{headers:this.getBasicHeaders()}).then(c=>qi.handleResponse(c))}post(a,r){const c=this.getApiBasePath()+a;return this.httpClient.post(c,r,{headers:this.getBasicHeaders()}).then(d=>qi.handleResponse(d))}download(a,r){const c=this.getApiBasePath()+a;if(typeof r<"u")return this.httpClient.post(c,r,{headers:this.getBasicHeaders({responseType:"blob"}),responseType:"blob"}).then(d=>{const h=d.headers["content-disposition"].split("filename=")[1],m=document.createElement("a");m.href=URL.createObjectURL(d.data),m.download=h,m.dispatchEvent(new MouseEvent("click")),m.remove()});this.httpClient({method:"get",url:c,headers:this.getBasicHeaders({responseType:"blob"}),responseType:"blob"}).then(d=>{if(d.data){const h=d.headers["content-disposition"].split("filename=")[1],m=document.createElement("a");m.href=URL.createObjectURL(d.data),m.download=h,m.dispatchEvent(new MouseEvent("click")),m.remove()}})}}Shopware.Application.addServiceProvider("foundationApiService",i=>{const a=Shopware.Application.getContainer("init");return new ur(a.httpClient,i.loginService)});const{isEmpty:mr}=Shopware.Utils.types,{snakeCase:pr}=Shopware.Utils.string;Shopware.Mixin.register("moorl-flow-action-helper",{computed:{triggerEvent(){return Store.get("swFlowState").triggerEvent},dataSelection(){return this.getEntityProperty(this.triggerEvent.data)}},methods:{isExistData(i){return this.dataSelection.find(a=>i===a.value)},generateParams:function(i){return mr(i)?[{name:"",data:""}]:[...Object.entries(i).map(([r,c])=>{const d=c.replace(/{{|}}/g,""),h=!this.isExistData(d);return{name:r,data:h?c:d,isCustomData:h}}),{data:"",name:""}]},convertParams(i){const a={};return i.forEach(r=>{r.name&&(r.isCustomData?a[r.name]=r.data:a[r.name]=r.data?`{{${r.data}}}`:"")}),a},getEntityProperty(i){const a=[];return Object.keys(i).forEach(r=>{i[r].type==="entity"&&a.push(r)}),a.reduce((r,c)=>{const d=this.convertCamelCaseToSnakeCase(c),h=Shopware.EntityDefinition.get(d).filterProperties(m=>Shopware.EntityDefinition.getScalarTypes().includes(m.type));return r.concat(Object.keys(h).map(m=>({value:`${c}.${m}`,label:`${c}.${m}`})))},[])},convertCamelCaseToSnakeCase(i){return pr(i)}}});Shopware.Mixin.register("moorl-abstract-cms-element",{mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],data(){return{isLoading:!0,cmsElementMapping:null,cmsElementEntity:null,cache:{}}},computed:{elementType(){return this.element.type}},methods:{initBase(){const i=MoorlFoundation.CmsElementHelper.getConfig(this.elementType);this.cmsElementMapping=i.cmsElementMapping??{},this.cmsElementEntity=i.cmsElementEntity??{}},initCmsComponent(){this.initBase();for(const[i,a]of Object.entries(this.element.config))a.entity&&this.$watch(()=>this.getValue(i),()=>{this.fetchEntityData(i)}),this.element.data[i]===void 0&&this.fetchEntityData(i);this.isLoading=!1},initCmsConfig(){this.initBase(),this.initElementConfig(this.elementType),this.initElementData(this.elementType),this.isLoading=!1},async fetchEntityData(i){const a=this.element.config[i];if(!a||!a.entity||!a.value){this.element.data[i]=void 0;return}const{name:r,criteria:c}=a.entity,d=this.repositoryFactory.create(r);try{let h;Array.isArray(a.value)?(c.setIds(a.value),h=await d.search(c,Shopware.Context.api)):h=await d.get(a.value,Shopware.Context.api,c),this.element.data[i]=h}catch(h){console.error(`[fetchEntityData] Failed for "${i}"`,h)}},getValue(i){var a,r;return((r=(a=this.element.config)==null?void 0:a[i])==null?void 0:r.value)??null},getData(i){return this.cache[i.id]!==void 0?this.cache[i.id]:(this.cache[i.id]=MoorlFoundation.CmsElementHelper.getItemData({item:i,entity:this.cmsElementEntity.entity}),this.cache[i.id])}}});const{Criteria:oa}=Shopware.Data,{get:di,set:aa}=Shopware.Utils.object;Shopware.Mixin.register("moorl-form",{mixins:[Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("placeholder")],inject:["customFieldDataProviderService","repositoryFactory"],props:{entity:{type:String,required:!1,default:void 0},componentName:{type:String,required:!0,default:"moorl-form"},item:{type:Object,required:!0,default:{}},pathAppend:{type:String,required:!1,default:void 0},mapping:{type:Object,required:!1,default:void 0},hideDisabledFields:{type:Boolean,required:!1,default:!1}},data(){return{formStruct:null,isLoading:!0}},computed:{masterMapping(){return this.mapping},fieldModels(){return new Proxy({},{get:(i,a)=>{const r=String(this.pathAppend?`${a}.${this.pathAppend}`:a);return di(this.item.extensions,r)!==void 0?di(this.item.extensions,r):di(this.item,r)},set:(i,a,r)=>{const c=String(this.pathAppend?`${a}.${this.pathAppend}`:a);return di(this.item.extensions,c)!==void 0?aa(this.item.extensions,c,r):aa(this.item,c,r),!0}})},translationHelper(){return new MoorlFoundation.TranslationHelper({$tc:this.$tc,componentName:this.componentName})},formBuilderHelper(){return new MoorlFoundation.FormBuilderHelper({entity:this.entity,componentName:this.componentName,item:this.item,translationHelper:this.translationHelper,masterMapping:this.masterMapping})},defaultTab(){var i,a,r;return((r=(a=(i=this.formStruct)==null?void 0:i.tabs)==null?void 0:a[0])==null?void 0:r.id)??null},taxRepository(){return this.repositoryFactory.create("tax")},currencyRepository(){return this.repositoryFactory.create("currency")}},watch:{item:{handler(){this.formStruct=this.formBuilderHelper.buildFormStruct()},deep:!1}},created(){this.createdComponent()},methods:{async createdComponent(){await this.loadCustomData(),await this.loadCurrency(),await this.loadTax(),await this.loadCustomFieldSets(),this.formStruct=await this.formBuilderHelper.buildFormStruct(),this.isLoading=!1},async loadCustomData(){return Promise.resolve()},async loadTax(){const i=new oa;this.item.taxId&&i.setIds([this.item.taxId]);const a=await this.taxRepository.search(i);this.formBuilderHelper.tax=a[0]},async loadCurrency(){const i=await this.currencyRepository.search(new oa(1,500));this.formBuilderHelper.currency=i.find(a=>a.isSystemDefault)},async loadCustomFieldSets(){if(this.item.customFields===void 0)return Promise.resolve();this.formBuilderHelper.customFieldSets=await this.customFieldDataProviderService.getCustomFieldSets(this.entity)},fieldAttributes(i){return{...i.attributes,disabled:this.isDisabled(i)}},isVisibleComponent(i){return this.hideDisabledFields?this.isVisible(i):!0},isVisible(i){return MoorlFoundation.ConditionHelper.isVisible(i,this.item)},isDisabled(i){var a;return!this.isVisible(i)||((a=i.attributes)==null?void 0:a.disabled)},getError(i){var r;if(!(!((r=i.attributes)!=null&&r.required)||!(this.item&&typeof this.item.getEntityName=="function")))return Shopware.Store.get("error").getApiError(this.item,i.name)},isDisabledTab(i){for(const a of i.cards)if(!this.isDisabledCard(a))return!1;return!0},isDisabledCard(i){for(const a of i.fields)if(this.isVisible(a))return!1;return!0},getStyle(i){return{"grid-column":`span ${i.cols}`}}}});const{Criteria:It}=Shopware.Data,{get:hr}=Shopware.Utils;Shopware.Mixin.register("moorl-listing",{inject:["repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification")],data(){return{items:[],isLoading:!0,sortBy:"createdAt",sortDirection:"ASC",naturalSorting:void 0,page:1,limit:10,total:10,term:null,listHelper:null,ready:!1,showImportModal:!1,showExportModal:!1}},computed:{translationHelper(){return new MoorlFoundation.TranslationHelper({$tc:this.$tc,componentName:this.componentName})},itemRepository(){return this.repositoryFactory.create(this.entity)},itemCriteria(){const i=new It(this.page,this.limit);if(this.naturalSorting=this.sortBy==="priority",i.resetSorting(),this.sortBy.split(",").forEach(a=>{i.addSorting(It.sort(a,this.sortDirection,this.naturalSorting))}),i.setTotalCountMode(1),i.setTerm(this.term),this.listHelper.getAssociations().forEach(a=>{i.addAssociation(a)}),this.defaultItem!==void 0)for(const[a,r]of Object.entries(this.defaultItem))a!=="taxId"&&i.addFilter(It.equals(a,r));return i},languageRepository(){return this.repositoryFactory.create("language")},languageCriteria(){const i=new It(1,25);return i.addAssociation("locale"),i.addSorting(It.sort("name","ASC",!1)),i},currencyRepository(){return this.repositoryFactory.create("currency")},columns(){return this.listHelper.columns},mediaProperty(){return this.listHelper.mediaProperty},componentName(){return this.$options.name},indexPage(){return this.$route.name.split(".").pop()==="index"},dateFilter(){return Shopware.Filter.getByName("date")},currencyFilter(){return Shopware.Filter.getByName("currency")}},methods:{async initListHelper(){if(this.listHelper)return Promise.resolve();const i=await this.currencyRepository.search(new It),a=await this.languageRepository.search(this.languageCriteria);this.listHelper=new MoorlFoundation.ListHelper({componentName:this.componentName,entity:this.entity,translationHelper:this.translationHelper,currencies:i,languages:a}),await this.listHelper.ready,this.pluginName=this.listHelper.pluginName,this.demoName=this.listHelper.demoName,this.sortBy=this.listHelper.sortBy,this.sortDirection=this.listHelper.sortDirection,this.ready=!0},async loadItems(i){this.isLoading=!0;try{const a=await this.itemRepository.search(i);this.items=a,this.total=a.total}catch(a){this.createNotificationError({message:a.message})}finally{this.isLoading=!1}},getCurrencyPriceByCurrencyId(i,a){if(Array.isArray(a)){const r=a.find(c=>c.currencyId===i);if(r)return r}return{currencyId:null,gross:null,linked:!0,net:null}},previewMediaSource(i){return hr(i,this.mediaProperty,null)},onImportModal(){this.showImportModal=!0},onExportModal(){this.showExportModal=!0},onCloseModal(){this.showImportModal=!1,this.showExportModal=!1},onRefresh(){this.getList()},onChangeLanguage(){this.getList()}}});const fr=`<div class="moorl-abstract-cms-cta-banner" :style="elementCss" > <video v-if="getValue('mediaActive') && getValue('videoActive')" autoplay muted loop class="video" > <source :src="bannerMediaUrl" type="video/mp4" /> </video> <div v-else-if="getValue('mediaActive')" class="background" :class="getValue('mediaHover')" :style="backgroundCss" ></div> <div class="banner-layer" :style="overlayCss" > <div class="container" :class="boxClass" :style="boxCss" > <div v-if="getValue('iconType') !== 'none'" class="container-icon" :style="iconCss" > <template v-if="getValue('iconType') === 'fa'"> <mt-icon name="regular-checkmark"/> </template> <template v-else-if="getValue('iconType') === 'svg'"> <span v-html="getValue('iconSvg')"></span> </template> <template v-else-if="getValue('iconType') === 'media'"> <img :src="iconMediaUrl"/> </template> </div> <div class="container-content"> <div v-if="currentType === 'custom'" v-html="$sanitize(getValue('content'))" ></div> <template v-else> <div v-html="bannerTitle"></div> <p v-html="bannerDescription"></p> <mt-button v-if="getValue('btnActive')" variant="primary" > {{ getValue('btnText') }} </mt-button> </template> </div> </div> </div> </div>`;Shopware.Component.register("moorl-abstract-cms-cta-banner",{template:fr,mixins:[Shopware.Mixin.getByName("moorl-abstract-cms-element")],computed:{currentType(){return this.getValue("elementType")},currentEntity(){var i;return(i=this.element.config[this.currentType])==null?void 0:i.entity},titleTag(){return this.getValue("titleTag")},baseData(){var i;return MoorlFoundation.CmsElementHelper.getBaseData({entity:(i=this.currentEntity)==null?void 0:i.name,element:this.element,dataSource:this.currentType,properties:[{config:"title",data:"name"},{config:"quote",data:"description"},{config:"media",data:"media"},{config:"iconMedia",data:void 0}]})},bannerTitle(){return`<${this.titleTag}>${this.baseData.name}</${this.titleTag}>`},bannerDescription(){return this.baseData.description},bannerMediaUrl(){var i;return(i=this.baseData.media)==null?void 0:i.url},iconMediaUrl(){var i;return(i=this.baseData.iconMedia)==null?void 0:i.url},elementCss(){return{"min-height":this.getValue("height"),background:this.getValue("elementBackground")}},backgroundCss(){if(this.getValue("videoActive"))return;const i=this.getValue("backgroundDisplayMode");return{"background-image":`url("${this.bannerMediaUrl}")`,"background-attachment":this.getValue("backgroundFixed")?"fixed":"initial","background-position":`${this.getValue("backgroundVerticalAlign")} ${this.getValue("backgroundHorizontalAlign")}`,"background-size":i==="custom"?`${this.getValue("backgroundSizeX")} ${this.getValue("backgroundSizeY")}`:i}},overlayCss(){return{background:this.getValue("overlayBackground"),"align-items":this.getValue("boxVerticalAlign"),"justify-content":this.getValue("boxHorizontalAlign"),"min-height":this.getValue("height"),height:"100%"}},boxCss(){return{display:this.getValue("iconPosition")==="top"?"block":"flex",margin:this.getValue("boxMargin"),padding:this.getValue("boxPadding"),background:this.getValue("boxBackground"),color:this.getValue("boxColor"),width:this.getValue("boxWidth"),height:this.getValue("boxHeight"),"text-align":this.getValue("boxTextAlign"),"border-radius":this.getValue("boxBorderRadius")}},iconCss(){return{"font-size":this.getValue("iconFontSize"),"margin-bottom":this.getValue("iconMarginBottom"),"margin-right":this.getValue("iconMarginRight")}},boxClass(){return this.getValue("boxMaxWidth")?null:["reset"]}},created(){this.initCmsComponent()}});const gr='<div class="sw-cms-el-config-moorl-cta-banner"> <moorl-form v-if="!isLoading" :item="element.config" :componentName="element.type" :entity="currentEntity.name" :mapping="cmsElementMapping" :hideDisabledFields="true" pathAppend="value" /> </div>';Shopware.Component.register("moorl-abstract-cms-cta-banner-config",{template:gr,mixins:[Shopware.Mixin.getByName("moorl-abstract-cms-element")],computed:{currentType(){return this.getValue("elementType")},currentEntity(){var i;return((i=this.element.config[this.currentType])==null?void 0:i.entity)??{}}},created(){this.initCmsConfig()}});const vr=`<div v-if="!isLoading" class="moorl-abstract-cms-listing" > <h2 v-if="getValue('listingHeaderTitle')" class="moorl-listing-header-title" > {{ getValue('listingHeaderTitle') }} </h2> <ul :style="listingCss" :class="listingClass" > <li class="navigation"> <mt-icon name="regular-chevron-left" size="24" /> </li> <li v-for="item in element.data.listingItems" :key="item.id" > <div class="moorl-listing-item-wrapper" :style="itemCss" > <div :class="itemClass"> <div class="moorl-listing-item-image"> <img v-if="getData(item).media" :src="getData(item).media.url" :class="imageClass" :style="imageCss" /> </div> <div class="moorl-listing-item-content" :style="contentCss" > <div> <div class="moorl-listing-item-title"> {{ getData(item).name }} </div> <div v-if="getData(item).description" class="moorl-listing-item-description" > {{ getData(item).description }} </div> <mt-button v-if="getValue('hasButton')" variant="primary" > {{ getValue('buttonLabel') }} </mt-button> </div> </div> </div> </div> </li> <li class="navigation"> <mt-icon name="regular-chevron-right" size="24" /> </li> </ul> </div>`;Shopware.Component.register("moorl-abstract-cms-listing",{template:vr,mixins:[Shopware.Mixin.getByName("moorl-abstract-cms-element")],computed:{listingCss(){const i=this.getValue("listingLayout"),a={"grid-gap":this.getValue("gapSize")};return i==="grid"||i==="standard"?{...a,"grid-template-columns":`repeat(auto-fit, minmax(${this.getValue("itemWidth")}, 1fr))`,"grid-auto-rows":this.getValue("itemHeight")}:i==="list"?{...a,"grid-auto-rows":this.getValue("itemHeight")}:i==="slider"?{...a,height:this.getValue("itemHeight")}:{}},listingClass(){return`moorl-listing-${this.getValue("listingLayout")}`},imageClass(){return`is-${this.getValue("displayMode")}`},imageCss(){return this.getValue("itemLayout")==="avatar"?{width:this.getValue("itemWidth"),height:this.getValue("itemWidth")}:{}},itemCss(){return{padding:this.getValue("itemPadding"),"background-color":this.getValue("itemBackgroundColor"),border:this.getValue("itemHasBorder")?"1px solid #333":null,"border-radius":this.getValue("itemHasBorder")?"6px":null,"--content-color":this.getValue("contentColor"),"--content-background-color":this.getValue("contentBackgroundColor"),"--content-highlight-color":this.getValue("contentHighlightColor")}},itemClass(){return`moorl-listing-item-${this.getValue("itemLayout")}`},contentCss(){return{padding:this.getValue("contentPadding"),"background-color":this.getValue("contentBackgroundColor"),color:this.getValue("contentColor"),"text-align":this.getValue("textAlign")}},repository(){return this.repositoryFactory.create(this.cmsElementEntity.entity)},defaultCriteria(){const i=this.cmsElementEntity.criteria;return i.setLimit(this.getValue("limit")),i.setIds([]),this.getValue("listingSource")==="select"&&i.setIds(this.getValue("listingItemIds")),i}},watch:{"element.config.listingSource.value":"getList","element.config.listingItemIds.value":"getList"},created(){this.initBase(),this.getList()},methods:{getList(){this.repository.search(this.defaultCriteria,Shopware.Context.api).then(i=>{this.element.data.listingItems=i,this.isLoading=!1})}}});const br='<div class="moorl-abstract-cms-listing-config"> <moorl-form v-if="!isLoading" :item="element.config" :componentName="element.type" :entity="cmsElementEntity.entity" :mapping="cmsElementMapping" :hideDisabledFields="true" pathAppend="value" /> <moorl-support-link path="/MoorlFoundation/listing/"/> </div>';Shopware.Component.register("moorl-abstract-cms-listing-config",{template:br,mixins:[Shopware.Mixin.getByName("moorl-abstract-cms-element")],created(){this.initCmsConfig()}});const yr=`<sw-page :class="componentName"> {% block moorl_page_detail_smart_bar_back %} {% endblock %} <template #smart-bar-header> {% block moorl_page_detail_smart_bar_header %} <h2>{{ itemName }}</h2> {% endblock %} </template> <template #smart-bar-actions> {% block moorl_page_detail_smart_bar_actions %} <mt-button variant="secondary" size="default" @click="onCancel" > {{ $tc('global.default.cancel') }} </mt-button> <sw-button-group :split-button="true"> <sw-button-process v-model:process-success="isSaveSuccessful" variant="primary" :is-loading="isLoading" :disabled="isLoading" @click="onSaveItem" > {{ $tc('global.default.save') }} </sw-button-process> <sw-context-button v-if="!isNewItem"> <template #button> <mt-button square variant="primary" :disabled="isLoading" size="default" > <mt-icon name="regular-chevron-down-xs" size="16" /> </mt-button> </template> <sw-context-menu-item @click="onDuplicateItem"> {{ $tc('sw-product.detail.buttonSaveDuplicate') }} </sw-context-menu-item> </sw-context-button> </sw-button-group> <mt-button v-if="!isNewItem" variant="critical" size="default" @click="showConfirmDeleteModal = true" > {{ $tc('global.default.delete') }} </mt-button> {% endblock %} </template> <template #language-switch> {% block moorl_page_detail_language_switch %} <sw-language-switch v-if="translatable" @on-change="onChangeLanguage" /> {% endblock %} </template> <template #content> <mt-loader v-if="isLoading" /> <template v-if="!isLoading"> {% block moorl_page_detail_content %} <moorl-page-detail v-model:item="item" :entity="entity" :componentName="componentName" /> {% endblock %} </template> <sw-confirm-modal v-if="showConfirmDeleteModal" type="delete" @confirm="onConfirmDeleteItem" @close="showConfirmDeleteModal = false" @cancel="showConfirmDeleteModal = false" /> </template> <template #sidebar> {% block moorl_page_detail_sidebar %}{% endblock %} </template> </sw-page>`,{Criteria:na}=Shopware.Data;Shopware.Component.register("moorl-abstract-page-detail",{template:yr,inject:["repositoryFactory","customFieldDataProviderService","seoUrlService"],mixins:[Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("placeholder")],shortcuts:{"SYSTEMKEY+s":"onSave",ESCAPE:"onCancel"},data(){return{entity:null,item:{},isLoading:!0,isSaveSuccessful:!1,showConfirmDeleteModal:!1,customFieldSets:null}},metaInfo(){return{title:this.$createTitle(this.itemName)}},computed:{itemHelper(){return new MoorlFoundation.ItemHelper({componentName:this.componentName,entity:this.entity})},componentName(){return this.$options.name},itemName(){for(const i of["name","label","key","technicalName"])if(this.item[i]!==void 0)return this.item[i];return this.$tc("global.default.add")},itemRepository(){return this.repositoryFactory.create(this.entity)},mediaRepository(){return this.repositoryFactory.create("media")},itemCriteria(){const i=new na;return this.itemHelper.getAssociations().forEach(a=>{i.addAssociation(a)}),this.itemHelper.hasSeoUrls()&&i.getAssociation("seoUrls").addFilter(na.equals("isCanonical",!0)),i},translatable(){var i;return!!((i=this.item)!=null&&i.translated)},isNewItem(){return!this.itemId},itemId(){return this.$route.params.id}},created(){this.createdComponent()},watch:{"$route.params.id"(){this.loadItem()}},methods:{createdComponent(){if(!this.entity){console.error(`${this.componentName} has no entity`);return}this.loadItem()},async goToRoute(i,a){let r=this.$route.name,c=r.split(".");return c.pop(),c.push(i),r=c.join("."),a===void 0?await this.$router.push({name:r}):await this.$router.push({name:r,params:{id:a}}),Promise.resolve()},onChangeLanguage(){this.loadItem()},async loadCustomFieldSets(){this.customFieldSets=await this.customFieldDataProviderService.getCustomFieldSets(this.entity)},async loadItem(){if(this.isLoading=!0,this.isNewItem){this.item=await this.itemRepository.create(Shopware.Context.api),this.onItemLoaded(),this.isLoading=!1;return}try{this.item=await this.itemRepository.get(this.itemId,Shopware.Context.api,this.itemCriteria),this.onItemLoaded()}catch(i){this.createNotificationError({message:i.message})}finally{this.isLoading=!1}},onItemLoaded(){},async onSaveItem(){this.isSaveSuccessful=!1;try{if(await this.updateSeoUrls(),await this.itemRepository.save(this.item),this.isNewItem)return await this.goToRoute("detail",this.item.id),Promise.resolve();this.isSaveSuccessful=!0,await this.loadItem()}catch(i){console.error(i),this.createNotificationError({message:i.message})}return Promise.resolve()},async onDuplicateItem(){await this.onSaveItem(),this.isLoading=!0;const i={cloneChildren:!0,overwrites:{name:`${this.itemName} [${this.$tc("global.default.duplicate")}]`,locked:!1}},a=await this.itemRepository.clone(this.itemId,i,Shopware.Context.api);return await this.goToRoute("detail",a.id),await this.loadItem(),Promise.resolve()},onConfirmDeleteItem(){this.isLoading=!0,this.itemRepository.delete(this.itemId).then(()=>{this.onCancel()})},async updateSeoUrls(){if(!Shopware.Store.list().includes("swSeoUrl"))return Promise.resolve();const i=Shopware.Store.get("swSeoUrl").newOrModifiedUrls;return Promise.all(i.map(a=>a.seoPathInfo?(a.isModified=!0,this.seoUrlService.updateCanonicalUrl(a,a.languageId)):Promise.resolve()))},onCancel(){this.goToRoute("list")}}});Shopware.Component.extend("moorl-abstract-page-create","moorl-abstract-page-detail");const _r=`<sw-page :class="componentName"> <template #search-bar> <sw-search-bar :initial-search-type="entity" :initial-search="term" @search="onSearch" /> </template> <template #smart-bar-actions> <mt-button v-if="!indexPage" variant="primary" size="default" @click="onCreateItem" > {{ $tc('global.default.add') }} </mt-button> <moorl-demo-button v-if="pluginName && demoName" :pluginName="pluginName" :name="demoName" @on-finish="getList" /> </template> <template #language-switch> <sw-language-switch @on-change="onChangeLanguage"/> </template> <template #sidebar> <sw-sidebar> <sw-sidebar-item icon="regular-redo" :title="$tc('moorl-foundation.button.refresh')" @click="getList" /> <sw-sidebar-item icon="regular-cloud-upload" :title="$tc('moorl-foundation.button.import')" @click="onImportModal" /> <sw-sidebar-item icon="regular-cloud-download" :title="$tc('moorl-foundation.button.export')" @click="onExportModal" /> </sw-sidebar> </template> <template #content> <sw-entity-listing v-if="ready && entitySearchable" :identifier="componentName" :detailRoute="getItemRoute('detail')" :items="items" :repository="itemRepository" :showSelection="true" :columns="columns" :is-loading="isLoading" :criteria-limit="limit" :sort-by="sortBy" :sort-direction="sortDirection" :disable-data-fetching="true" @select-item="updateSelection" @page-change="onPageChange" @column-sort="onSortColumn" @update-records="updateTotal" > <template #[\`preview-\${listHelper.getPreviewColumn()}\`]="{ item }"> <sw-media-preview-v2 v-if="mediaProperty" :source="previewMediaSource(item)" /> </template> <template v-for="dateProperty in listHelper.dateProperties" #[\`column-\${dateProperty}\`]="{ item }" > {{ dateFilter(item[dateProperty], { hour: '2-digit', minute: '2-digit' }) }} </template> <template v-for="props in listHelper.getCurrenciesAndPriceProperties()" #[\`column-\${props.priceProperty}-\${props.currency.isoCode}\`]="{ item }" > {{ currencyFilter( getCurrencyPriceByCurrencyId(props.currency.id,item[props.priceProperty]).gross,props.currency.isoCode ) }} </template> <template #more-actions="{ item }"> <sw-context-menu-item @click="onDuplicate(item)"> {{ $tc('sw-product.list.buttonDuplicate') }} </sw-context-menu-item> </template> </sw-entity-listing> <moorl-csv-import v-if="showImportModal" :entity="entity" :onCloseModal="onCloseModal" :onFinishImport="getList" /> <moorl-csv-export v-if="showExportModal" :entity="entity" :onCloseModal="onCloseModal" :selectedItems="selection" /> </template> </sw-page>`;Shopware.Component.register("moorl-abstract-page-list",{template:_r,inject:["filterFactory"],mixins:[Shopware.Mixin.getByName("listing"),Shopware.Mixin.getByName("moorl-listing")],data(){return{entity:null,pluginName:null,demoName:null,items:null,showImportModal:!1,showExportModal:!1,isLoading:!0,activeFilterNumber:0,filterCriteria:[]}},metaInfo(){return{title:this.$createTitle()}},computed:{indexPage(){return this.$route.name.split(".").pop()==="index"}},methods:{async getList(){this.isLoading=!0,await this.initListHelper(),this.searchConfigEntity=this.entity,this.storeKey=`grid.filter.${this.entity}`;let i=await Shopware.Service("filterService").mergeWithStoredFilters(this.storeKey,this.itemCriteria);if(i=await this.addQueryScores(this.term,i),!this.entitySearchable)return this.total=0,this.isLoading=!1,!1;this.freshSearchTerm&&i.resetSorting(),await this.loadItems(i)},getItemRoute(i){if(this.indexPage)return;let r=this.$route.name.split(".");return r.pop(),r.push(i??"detail"),r.join(".")},onCreateItem(){this.$router.push({name:this.getItemRoute("create")})},async onDuplicate(i){const a={cloneChildren:!0,overwrites:{name:`${i.name} [${this.$tc("global.default.duplicate")}]`,locked:!1}},r=await this.itemRepository.clone(i.id,a,Shopware.Context.api);return this.indexPage?(this.getList(),Promise.resolve()):(await this.$router.push({name:this.getItemRoute("detail"),params:{id:r.id}}),Promise.resolve())},updateSelection(i){this.selection=i},updateTotal({total:i}){this.total=i},onCloseModal(){this.showImportModal=!1,this.showExportModal=!1,this.showModal=!1},onRefresh(){this.getList()},onChangeLanguage(){this.getList()},onImportModal(){this.showImportModal=!0},onExportModal(){this.showExportModal=!0}}});const wr='<moorl-animation-field v-model:item="element.config.moorlAnimation.value"/>';Shopware.Component.register("moorl-element-animation",{template:wr,props:{element:{type:Object,required:!0}},created(){this.element.config=Object.assign({moorlAnimation:{source:"static",value:null}},this.element.config)}});const Cr=`<div class="moorl-block-behaviour"> <moorl-bs-config v-if="isInitialized" v-model:value="block.customFields.moorl_block_behaviour" :label="$tc('moorl-block-behaviour.title')" :showOrder="false" :showWidth="false" /> </div>`;Shopware.Component.register("moorl-block-behaviour",{template:Cr,props:{block:{type:Object,required:!0}},computed:{isInitialized(){var i,a;return!(!this.block||!((a=(i=this.block)==null?void 0:i.customFields)!=null&&a.moorl_block_behaviour))}},watch:{block(){this.initValue()}},created(){this.initValue()},methods:{initValue(){this.block.customFields||(this.block.customFields={}),this.block.customFields.moorl_block_behaviour||(this.block.customFields.moorl_block_behaviour={xs:{inherit:!0,show:!0,width:12,order:0},sm:{inherit:!0,show:!0,width:12,order:0},md:{inherit:!0,show:!0,width:12,order:0},lg:{inherit:!0,show:!0,width:12,order:0},xl:{inherit:!0,show:!0,width:12,order:0}})}}});const Sr=`<div class="moorl-section-grid-config"> <moorl-select-field v-model:value="section.customFields.moorl_section_column_count" :label="$tc('moorl-section-grid-config.label.sectionColumnCount')" @update:value="initCustomFields" set="bsGridColumns" /> <mt-number-field v-model="section.customFields.moorl_section_spacing" :label="$tc('moorl-section-grid-config.label.sectionSpacing')" @change="initCustomFields" /> <div v-for="(configItem, configIndex) in section.customFields.moorl_section_grid_config" :key="configIndex" > <div class="sw-cms-sidebar__navigator-section-spacer"></div> <moorl-bs-config :label="$tc('moorl-section-grid-config.label.colNumber') + (configIndex + 1)" v-model:value="configItem.value" /> <mt-switch bordered :label="$tc('moorl-section-grid-config.label.isSidebar')" v-model="configItem.isSidebar" /> <mt-switch bordered :label="$tc('moorl-section-grid-config.label.isSticky')" v-model="configItem.isSticky" /> <mt-text-field v-if="configItem.isSticky" :label="$tc('moorl-section-grid-config.label.offsetTop')" v-model="configItem.offsetTop" /> <moorl-select-field :label="$tc('moorl-section-grid-config.label.justifyContent')" v-model:value="configItem.justifyContent" set="cssJustifyContent" /> <moorl-select-field :label="$tc('moorl-section-grid-config.label.alignItems')" v-model:value="configItem.alignItems" set="cssJustifyContent" /> </div> </div>`;Shopware.Component.register("moorl-section-grid-config",{template:Sr,props:{section:{type:Object,required:!0}},created(){this.initCustomFields()},methods:{initCustomFields(){if(this.section){this.section.customFields||(this.section.customFields={}),this.section.customFields.moorl_section_column_count||(this.section.customFields.moorl_section_column_count=3),Number.isInteger(this.section.customFields.moorl_section_spacing)||(this.section.customFields.moorl_section_spacing=30),this.section.customFields.moorl_section_grid_config||(this.section.customFields.moorl_section_grid_config=[]),this.section.customFields.moorl_section_grid_config.length=this.section.customFields.moorl_section_column_count;for(let i=0;i<this.section.customFields.moorl_section_column_count;i++)this.section.customFields.moorl_section_grid_config[i]||(this.section.customFields.moorl_section_grid_config[i]={alignItems:"normal",justifyContent:"normal",isSidebar:!1,isSticky:!1,offsetTop:"30px",value:{lg:{show:!0,order:0,width:3,inherit:!1},md:{show:!0,order:0,width:12,inherit:!0},sm:{show:!0,order:0,width:12,inherit:!0},xl:{show:!0,order:0,width:3,inherit:!1},xs:{show:!0,order:0,width:12,inherit:!0}}})}}}});const xr=`<div class="moorl-section-config"> <div class="sw-cms-section__action" @click="show = true" > <mt-icon name="regular-cog" size="20" :color="iconColor" /> </div> <sw-modal class="sw-cms-slot__config-modal" v-if="show" :title="$tc('moorl-section-config.title')" @modal-close="show = false" > <sw-tabs class="moorl-section-config__tabs" default-item="content" > <template #default="{ active }"> <sw-tabs-item v-if="section.type === 'moorl-grid'" name="grid" :activeTab="active" > {{ $tc('moorl-section-config.tab.grid') }} </sw-tabs-item> <sw-tabs-item name="content" :activeTab="active" > {{ $tc('moorl-section-config.tab.content') }} </sw-tabs-item> <sw-tabs-item name="background" :activeTab="active" > {{ $tc('moorl-section-config.tab.background') }} </sw-tabs-item> <sw-tabs-item name="offset" :activeTab="active" > {{ $tc('moorl-section-config.tab.offset') }} </sw-tabs-item> <sw-tabs-item name="transition" :activeTab="active" > {{ $tc('moorl-section-config.tab.transition') }} </sw-tabs-item> <sw-tabs-item name="visibility" :activeTab="active" > {{ $tc('moorl-section-config.tab.visibility') }} </sw-tabs-item> </template> <template #content="{ active }"> <moorl-section-grid-config v-if="active === 'grid'" v-bind="{ section }" /> <sw-container v-if="active === 'content'"> <sw-single-select :label="$tc('moorl-section-config.label.color')" :helpText="$tc('moorl-section-config.helpText.color')" :options="colorOptions" v-model:value="section.customFields.moorl_section_config.color" show-clearable-button @update:value="initCustomFields" /> </sw-container> <sw-container v-if="active === 'background'"> <sw-single-select :label="$tc('moorl-section-config.label.backgroundColor')" :helpText="$tc('moorl-section-config.helpText.backgroundColor')" :options="colorOptions" v-model:value="section.customFields.moorl_section_config.backgroundColor" show-clearable-button /> <mt-switch :label="$tc('moorl-section-config.label.fixedBackground')" :helpText="$tc('moorl-section-config.helpText.fixedBackground')" bordered v-model="section.customFields.moorl_section_config.fixedBackground" /> <sw-single-select :label="$tc('moorl-section-config.label.backgroundPaint')" :helpText="$tc('moorl-section-config.helpText.backgroundPaint')" :options="paintOptions" v-model:value="section.customFields.moorl_section_config.backgroundPaint" show-clearable-button /> </sw-container> <sw-container v-if="active === 'offset'"> <sw-single-select :label="$tc('moorl-section-config.label.offsetTop')" :helpText="$tc('moorl-section-config.helpText.offsetTop')" :options="offsetOptions" v-model:value="section.customFields.moorl_section_config.offsetTop" show-clearable-button /> <sw-single-select :label="$tc('moorl-section-config.label.offsetBottom')" :helpText="$tc('moorl-section-config.helpText.offsetBottom')" :options="offsetOptions" v-model:value="section.customFields.moorl_section_config.offsetBottom" show-clearable-button /> </sw-container> <sw-container v-if="active === 'transition'"> <sw-single-select :label="$tc('moorl-section-config.label.top')" :helpText="$tc('moorl-section-config.helpText.top')" :options="separatorOptions" v-model:value="section.customFields.moorl_section_config.top" show-clearable-button /> <sw-single-select :label="$tc('moorl-section-config.label.bottom')" :helpText="$tc('moorl-section-config.helpText.bottom')" :options="separatorOptions" v-model:value="section.customFields.moorl_section_config.bottom" show-clearable-button /> <sw-single-select :label="$tc('moorl-section-config.label.separatorBackground')" :helpText="$tc('moorl-section-config.helpText.separatorBackground')" :options="colorOptions" v-model:value="section.customFields.moorl_section_config.separatorBackground" show-clearable-button /> </sw-container> <sw-container v-if="active === 'visibility'"> <sw-entity-multi-id-select :label="$tc('moorl-section-config.label.salesChannel')" :helpText="$tc('moorl-section-config.helpText.salesChannel')" v-model:value="section.customFields.moorl_section_config.salesChannel" :repository="salesChannelRepository" /> <sw-entity-multi-id-select :label="$tc('moorl-section-config.label.customerGroup')" :helpText="$tc('moorl-section-config.helpText.customerGroup')" v-model:value="section.customFields.moorl_section_config.customerGroup" :repository="customerGroupRepository" /> </sw-container> </template> </sw-tabs> <template #modal-footer> <mt-button variant="primary" @click="show = false" > {{ $tc('sw-cms.detail.label.buttonElementSettingsConfirm') }} </mt-button> </template> </sw-modal> </div>`;Shopware.Component.register("moorl-section-config",{template:xr,props:{section:{type:Object,required:!0}},inject:["repositoryFactory"],data(){return{show:!1}},computed:{iconColor(){var i,a,r,c,d,h,m,w;return(c=(r=(a=(i=this.section)==null?void 0:i.customFields)==null?void 0:a.moorl_section_config)==null?void 0:r.salesChannel)!=null&&c.length?"#FF0000":(w=(m=(h=(d=this.section)==null?void 0:d.customFields)==null?void 0:h.moorl_section_config)==null?void 0:m.customerGroup)!=null&&w.length?"#00FF00":null},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},customerGroupRepository(){return this.repositoryFactory.create("customer_group")},separatorOptions(){return[{value:"scratch",label:"scratch"},{value:"toothed",label:"toothed"},{value:"waves",label:"waves"},{value:"papercut",label:"papercut"}]},offsetOptions(){return[{value:"50",label:"50"},{value:"100",label:"100"},{value:"150",label:"150"},{value:"200",label:"200"}]},colorOptions(){return[{value:"primary",label:"primary"},{value:"primary-dark",label:"primary-dark"},{value:"primary-light",label:"primary-light"},{value:"secondary",label:"secondary"},{value:"light",label:"light"},{value:"dark",label:"dark"},{value:"text-color",label:"text-color"},{value:"background-color",label:"background-color"},{value:"primary-top-secondary-bottom",label:"primary-top-secondary-bottom"},{value:"primary-top-dark-bottom",label:"primary-top-dark-bottom"},{value:"primary-top-light-bottom",label:"primary-top-light-bottom"},{value:"primary-top-background-bottom",label:"primary-top-background-bottom"},{value:"primary-top-text-bottom",label:"primary-top-text-bottom"},{value:"primary-top-indigo-bottom",label:"primary-top-indigo-bottom"},{value:"indigo-top-primary-bottom",label:"indigo-top-primary-bottom"},{value:"light-top-primary-bottom",label:"light-top-primary-bottom"},{value:"dark-top-primary-bottom",label:"dark-top-primary-bottom"},{value:"background-top-text-bottom",label:"background-top-text-bottom"},{value:"background-top-primary-bottom",label:"background-top-primary-bottom"}]},filterOptions(){return[{value:"grayscale",label:"grayscale"},{value:"blur",label:"blur"}]},paintOptions(){return[{value:"dots",label:"dots"},{value:"generateddots",label:"generateddots"}]}},created(){this.initCustomFields()},methods:{initCustomFields(){this.section&&(this.section.customFields||(this.section.customFields={}),this.section.customFields.moorl_section_config||(this.section.customFields.moorl_section_config={color:null}),Array.isArray(this.section.customFields.moorl_section_config)&&(this.section.customFields.moorl_section_config={color:null}))}}});const kr=`<div class="moorl-collapse" :class="expanded ? 'expanded' : ''" > <div class="moorl-collapse__header"> <slot name="header" v-bind="{ expanded }" > <h4 @click="collapseItem">{{ label }}</h4> <div> <slot name="header-content"></slot> </div> <div @click="collapseItem"> <mt-icon v-if="expanded" small name="regular-chevron-down-s" /> <mt-icon v-else small name="regular-chevron-right-s" /> </div> </slot> </div> <div v-if="expanded" class="moorl-collapse__content" > <slot name="content"></slot> </div> </div>`;Shopware.Component.register("moorl-collapse",{template:kr,props:{label:{type:String,required:!1,default:"Collapse Label"},expandOnLoading:{type:Boolean,required:!1,default:!1}},data(){return{expanded:this.expandOnLoading}},methods:{collapseItem(){this.expanded=!this.expanded}}});const Lr=`{% block moorl_form_detail %} <mt-loader v-if="isLoading" /> <sw-tabs v-if="!isLoading" :key="entity" :default-item="defaultTab" class="moorl-form" > <template v-if="formStruct.tabs.length > 1" #default="{ active }" > <sw-tabs-item v-for="tab in formStruct.tabs" :key="tab.id" :name="tab.id" :activeTab="active" :disabled="isDisabledTab(tab)" > {{ tab.label }} </sw-tabs-item> {% block moorl_form_detail_tabs %} {% endblock %} </template> <template #content="{ active }"> <template v-for="tab in formStruct.tabs" :key="tab.id" > <template v-if="active === tab.id"> <template v-for="card in tab.cards" :key="card.id" > <template v-if="card.standalone"> <template v-for="field in card.fields" :key="field.name" > <component v-if="isVisible(field)" :is="field.componentName" v-bind="field.attributes" :style="getStyle(field)" /> </template> </template> <mt-card v-else :title="card.label" :class="card.id + '-card moorl-form__card'" > <mt-banner v-if="translationHelper.getNotification(card.id)" variant="attention" > {{ translationHelper.getNotification(card.id) }} </mt-banner> <template v-for="field in card.fields" :key="field.name" > <div v-if="field.newline" class="newline" ></div> <div v-if="isVisibleComponent(field)" :style="getStyle(field)" > <component v-if="field.model === undefined" :is="field.componentName" v-model="fieldModels[field.path]" v-bind="fieldAttributes(field)" :error="getError(field)" /> <component v-else :is="field.componentName" v-model:[field.model]="fieldModels[field.path]" v-bind="fieldAttributes(field)" :error="getError(field)" /> </div> </template> </mt-card> </template> </template> </template> {% block moorl_form_detail_content %} {% endblock %} </template> </sw-tabs> {% endblock %}`,ra=MoorlFoundation.fieldsetsConfig;Shopware.Component.register("moorl-form",{template:Lr,mixins:[Shopware.Mixin.getByName("moorl-form")],props:{fieldset:{type:[String,Array],default:void 0}},computed:{masterMapping(){if(!this.fieldset&&!this.mapping)return;const i={},a=Array.isArray(this.fieldset)?this.fieldset:[this.fieldset];for(const r of a)if(r){if(!ra[r]){console.error(`[moorl-form] Fieldset "${r}" not defined`);continue}Object.assign(i,ra[r])}return Object.assign(i,this.mapping??{})}}});const Ir='{% block moorl_page_detail %} <sw-card-view class="moorl-page-detail"> <moorl-form :item="item" :entity="entity" :componentName="componentName" /> </sw-card-view> {% endblock %}';Shopware.Component.register("moorl-page-detail",{template:Ir,props:{entity:{type:String,required:!0},componentName:{type:String,required:!0},item:{type:Object,required:!0}}});const Pr=`<sw-modal :title="itemName" variant="large" :closable="false" class="moorl-modal-detail" > <moorl-form v-if="!isLoading" v-bind="{ item, entity, componentName }" /> <template #modal-footer> <mt-button @click="onCloseModal" variant="secondary" size="default" > {{ $tc('global.default.cancel') }} </mt-button> <sw-button-process v-model:process-success="isSaveSuccessful" variant="primary" :is-loading="isLoading" :disabled="isLoading" @click="onSaveItem" > {{ $tc('global.default.save') }} </sw-button-process> </template> </sw-modal>`,{Criteria:Mr}=Shopware.Data;Shopware.Component.register("moorl-modal-detail",{template:Pr,inject:["repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification")],emits:["update:value"],props:{value:{type:String,required:!1,default:null},entity:{type:String,required:!0},componentName:{type:String,required:!0},defaultItem:{type:Object,required:!1,default:{}}},data(){return{item:void 0,showEditModal:!1,isSaveSuccessful:!1,isLoading:!0}},computed:{itemHelper(){return new MoorlFoundation.ItemHelper({componentName:this.componentName,entity:this.entity})},itemRepository(){return this.repositoryFactory.create(this.entity)},itemCriteria(){const i=new Mr;return this.itemHelper.getAssociations().forEach(a=>{i.addAssociation(a)}),i},itemName(){if(this.item===void 0)return this.$tc("global.default.add");for(const i of["name","label","key","technicalName"])if(this.item[i]!==void 0)return this.item[i];return this.$tc("global.default.add")}},created(){this.loadItem()},methods:{async onSaveItem(){this.isSaveSuccessful=!1;try{await this.itemRepository.save(this.item),this.isSaveSuccessful=!0,this.$emit("update:value",this.item.id),this.onCloseModal()}catch(i){console.error(i),this.createNotificationError({message:i.message})}return Promise.resolve()},async loadItem(){this.value!==null?this.item=await this.itemRepository.get(this.value,Shopware.Context.api,this.itemCriteria):(this.item=this.itemRepository.create(Shopware.Context.api),this.item.id=Shopware.Utils.createId(),Object.assign(this.item,this.defaultItem)),this.isLoading=!1},onCloseModal(){this.isLoading=!0,setTimeout(()=>{this.$emit("close")},50)}}});const Tr=`<sw-modal v-if="showImportModal" :title="$tc('moorl-csv-import.title')" @modal-close="onCancel" variant="large" class="moorl-csv-import" :closable="false" > <sw-container class="moorl-csv-import__top-bar" columns="1fr" gap="10px" > <template v-if="step == 1"> <sw-file-input v-model:value="csvFile" :allowed-mime-types="['text/csv']" @update:value="onFileInputChange" > <template #caption-label> {{ $tc('sw-import-export.importer.labelUploadCaption') }} </template> </sw-file-input> </template> <template v-if="step == 2"> <mt-switch bordered :label="$t('moorl-csv-import.overwriteLabel', { properties: getUniquePropertyLabels() })" v-model="options.overwrite" /> <mt-switch bordered :label="$tc('moorl-csv-import.pauseLabel')" v-model="options.pause" /> <mt-switch bordered :label="$tc('moorl-csv-import.validateIdsLabel')" v-model="options.validateIds" /> <sw-entity-single-select :placeholder="$tc('moorl-csv-import.mediaFolder')" v-model:value="options.mediaFolderId" entity="media_folder" /> <p class="info"> {{ $t('moorl-csv-import.loadedText', { count: rowCount }) }} </p> </template> <template v-if="step == 3"> <mt-progress-bar :value="rowsDone" :maxValue="rowCount" /> <p class="info">{{ statusMessage }}</p> </template> <template v-if="step == 4"> <mt-progress-bar :value="rowsDone" :maxValue="rowCount" /> <p class="info"> {{ $t('moorl-csv-import.completedMessage', { skipped: rowsSkipped, new: rowsNew, total: rowsDone, errors: errorCount }) }} </p> </template> </sw-container> <template v-if="step == 2"> <div class="sw-data-grid is-scroll-x"> <div class="sw-data-grid__wrapper"> <table class="sw-data-grid__table"> <thead class="sw-data-grid__header"> <tr class="sw-data-grid__row"> <th class="sw-data-grid__cell sw-data-grid__cell--header" > <div class="sw-data-grid__cell-content"> <span class="sw-data-grid__cell-value"> {{ $tc('moorl-csv-import.property') }} </span> </div> </th> <th class="sw-data-grid__cell sw-data-grid__cell--header" > <div class="sw-data-grid__cell-content"> <span class="sw-data-grid__cell-value"> {{ $t('moorl-csv-import.mapping') }} </span> </div> </th> </tr> </thead> <tbody class="sw-data-grid__body"> <tr v-for="column in columns" class="sw-data-grid__row" > <td class="sw-data-grid__cell"> <div class="sw-data-grid__cell-content"> <span class="sw-data-grid__cell-value" :class="column.flags.required ? 'required' : ''" > {{ column.localField || column.property }} {{ column.flags.required ? '*' : '' }} </span> </div> </td> <td class="sw-data-grid__cell"> <div class="sw-data-grid__cell-content"> <moorl-select-field v-if="column.localField" v-model:value="mapping[column.localField]" :customSet="properties" :placeholder="column.property" showClearableButton /> <moorl-select-field v-else v-model:value="mapping[column.property]" :customSet="properties" showClearableButton /> </div> </td> </tr> </tbody> </table> </div> </div> </template> <template #modal-footer> <mt-button @click="onCancel" size="small" variant="secondary" > {{ $tc('global.default.cancel') }} </mt-button> <mt-button v-if="step > 1" @click="onClickBack" variant="secondary" size="small" > {{ $tc('moorl-foundation.button.back') }} </mt-button> <mt-button v-if="step == 2" @click="onClickImport" variant="primary" size="small" > {{ $tc('global.default.apply') }} </mt-button> <mt-button v-if="step == 3 && options.pause" @click="onClickPause" size="small" variant="secondary" > {{ pause ? $tc('moorl-foundation.button.resume') : $tc('moorl-foundation.button.pause') }} </mt-button> </template> </sw-modal>`;function ga(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mi={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var Ar=mi.exports,sa;function $r(){return sa||(sa=1,function(i,a){((r,c)=>{i.exports=c()})(Ar,function r(){var c=typeof self<"u"?self:typeof window<"u"?window:c!==void 0?c:{},d,h=!c.document&&!!c.postMessage,m=c.IS_PAPA_WORKER||!1,w={},C=0,b={};function P(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(g){var _=Ue(g);_.chunkSize=parseInt(_.chunkSize),g.step||g.chunk||(_.chunkSize=null),this._handle=new ee(_),(this._handle.streamer=this)._config=_}).call(this,p),this.parseChunk=function(g,_){var S=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<S){let W=this._config.newline;W||(x=this._config.quoteChar||'"',W=this._handle.guessLineEndings(g,x)),g=[...g.split(W).slice(S)].join(W)}this.isFirstChunk&&oe(this._config.beforeFirstChunk)&&(x=this._config.beforeFirstChunk(g))!==void 0&&(g=x),this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+g,x=(this._partialLine="",this._handle.parse(S,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(g=x.meta.cursor,S=(this._finished||(this._partialLine=S.substring(g-this._baseIndex),this._baseIndex=g),x&&x.data&&(this._rowCount+=x.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),m)c.postMessage({results:x,workerId:b.WORKER_ID,finished:S});else if(oe(this._config.chunk)&&!_){if(this._config.chunk(x,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=x=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(x.data),this._completeResults.errors=this._completeResults.errors.concat(x.errors),this._completeResults.meta=x.meta),this._completed||!S||!oe(this._config.complete)||x&&x.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||x&&x.meta.paused||this._nextChunk(),x}this._halted=!0},this._sendError=function(g){oe(this._config.error)?this._config.error(g):m&&this._config.error&&c.postMessage({workerId:b.WORKER_ID,error:g,finished:!1})}}function F(p){var g;(p=p||{}).chunkSize||(p.chunkSize=b.RemoteChunkSize),P.call(this,p),this._nextChunk=h?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(_){this._input=_,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),h||(g.onload=Ie(this._chunkLoaded,this),g.onerror=Ie(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!h),this._config.downloadRequestHeaders){var _,S=this._config.downloadRequestHeaders;for(_ in S)g.setRequestHeader(_,S[_])}var x;this._config.chunkSize&&(x=this._start+this._config.chunkSize-1,g.setRequestHeader("Range","bytes="+this._start+"-"+x));try{g.send(this._config.downloadRequestBody)}catch(W){this._chunkError(W.message)}h&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize||g.responseText.length,this._finished=!this._config.chunkSize||this._start>=(_=>(_=_.getResponseHeader("Content-Range"))!==null?parseInt(_.substring(_.lastIndexOf("/")+1)):-1)(g),this.parseChunk(g.responseText)))},this._chunkError=function(_){_=g.statusText||_,this._sendError(new Error(_))}}function T(p){(p=p||{}).chunkSize||(p.chunkSize=b.LocalChunkSize),P.call(this,p);var g,_,S=typeof FileReader<"u";this.stream=function(x){this._input=x,_=x.slice||x.webkitSlice||x.mozSlice,S?((g=new FileReader).onload=Ie(this._chunkLoaded,this),g.onerror=Ie(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var x=this._input,W=(this._config.chunkSize&&(W=Math.min(this._start+this._config.chunkSize,this._input.size),x=_.call(x,this._start,W)),g.readAsText(x,this._config.encoding));S||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(x){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(x.target.result)},this._chunkError=function(){this._sendError(g.error)}}function Q(p){var g;P.call(this,p=p||{}),this.stream=function(_){return g=_,this._nextChunk()},this._nextChunk=function(){var _,S;if(!this._finished)return _=this._config.chunkSize,g=_?(S=g.substring(0,_),g.substring(_)):(S=g,""),this._finished=!g,this.parseChunk(S)}}function ne(p){P.call(this,p=p||{});var g=[],_=!0,S=!1;this.pause=function(){P.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){P.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(x){this._input=x,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):_=!0},this._streamData=Ie(function(x){try{g.push(typeof x=="string"?x:x.toString(this._config.encoding)),_&&(_=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(W){this._streamError(W)}},this),this._streamError=Ie(function(x){this._streamCleanUp(),this._sendError(x)},this),this._streamEnd=Ie(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=Ie(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ee(p){var g,_,S,x,W=Math.pow(2,53),ae=-W,Te=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,re=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,q=this,M=0,N=0,$=!1,A=!1,O=[],I={data:[],errors:[],meta:{}};function j(R){return p.skipEmptyLines==="greedy"?R.join("").trim()==="":R.length===1&&R[0].length===0}function D(){if(I&&S&&(me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+b.DefaultDelimiter+"'"),S=!1),p.skipEmptyLines&&(I.data=I.data.filter(function(ie){return!j(ie)})),B()){let ie=function(pe,le){oe(p.transformHeader)&&(pe=p.transformHeader(pe,le)),O.push(pe)};var H=ie;if(I)if(Array.isArray(I.data[0])){for(var R=0;B()&&R<I.data.length;R++)I.data[R].forEach(ie);I.data.splice(0,1)}else I.data.forEach(ie)}function K(ie,pe){for(var le=p.header?{}:[],te=0;te<ie.length;te++){var U=te,ye=ie[te],ye=((Y,ce)=>(he=>(p.dynamicTypingFunction&&p.dynamicTyping[he]===void 0&&(p.dynamicTyping[he]=p.dynamicTypingFunction(he)),(p.dynamicTyping[he]||p.dynamicTyping)===!0))(Y)?ce==="true"||ce==="TRUE"||ce!=="false"&&ce!=="FALSE"&&((he=>{if(Te.test(he)&&(he=parseFloat(he),ae<he&&he<W))return 1})(ce)?parseFloat(ce):re.test(ce)?new Date(ce):ce===""?null:ce):ce)(U=p.header?te>=O.length?"__parsed_extra":O[te]:U,ye=p.transform?p.transform(ye,U):ye);U==="__parsed_extra"?(le[U]=le[U]||[],le[U].push(ye)):le[U]=ye}return p.header&&(te>O.length?me("FieldMismatch","TooManyFields","Too many fields: expected "+O.length+" fields but parsed "+te,N+pe):te<O.length&&me("FieldMismatch","TooFewFields","Too few fields: expected "+O.length+" fields but parsed "+te,N+pe)),le}var se;I&&(p.header||p.dynamicTyping||p.transform)&&(se=1,!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(K),se=I.data.length):I.data=K(I.data,0),p.header&&I.meta&&(I.meta.fields=O),N+=se)}function B(){return p.header&&O.length===0}function me(R,K,se,H){R={type:R,code:K,message:se},H!==void 0&&(R.row=H),I.errors.push(R)}oe(p.step)&&(x=p.step,p.step=function(R){I=R,B()?D():(D(),I.data.length!==0&&(M+=R.data.length,p.preview&&M>p.preview?_.abort():(I.data=I.data[0],x(I,q))))}),this.parse=function(R,K,se){var H=p.quoteChar||'"',H=(p.newline||(p.newline=this.guessLineEndings(R,H)),S=!1,p.delimiter?oe(p.delimiter)&&(p.delimiter=p.delimiter(R),I.meta.delimiter=p.delimiter):((H=((ie,pe,le,te,U)=>{var ye,Y,ce,he;U=U||[",","	","|",";",b.RECORD_SEP,b.UNIT_SEP];for(var Ve=0;Ve<U.length;Ve++){for(var Ee,at=U[Ve],Ce=0,Oe=0,fe=0,xe=(ce=void 0,new Je({comments:te,delimiter:at,newline:pe,preview:10}).parse(ie)),De=0;De<xe.data.length;De++)le&&j(xe.data[De])?fe++:(Ee=xe.data[De].length,Oe+=Ee,ce===void 0?ce=Ee:0<Ee&&(Ce+=Math.abs(Ee-ce),ce=Ee));0<xe.data.length&&(Oe/=xe.data.length-fe),(Y===void 0||Ce<=Y)&&(he===void 0||he<Oe)&&1.99<Oe&&(Y=Ce,ye=at,he=Oe)}return{successful:!!(p.delimiter=ye),bestDelimiter:ye}})(R,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=H.bestDelimiter:(S=!0,p.delimiter=b.DefaultDelimiter),I.meta.delimiter=p.delimiter),Ue(p));return p.preview&&p.header&&H.preview++,g=R,_=new Je(H),I=_.parse(g,K,se),D(),$?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return $},this.pause=function(){$=!0,_.abort(),g=oe(p.chunk)?"":g.substring(_.getCharIndex())},this.resume=function(){q.streamer._halted?($=!1,q.streamer.parseChunk(g,!0)):setTimeout(q.resume,3)},this.aborted=function(){return A},this.abort=function(){A=!0,_.abort(),I.meta.aborted=!0,oe(p.complete)&&p.complete(I),g=""},this.guessLineEndings=function(ie,H){ie=ie.substring(0,1048576);var H=new RegExp($e(H)+"([^]*?)"+$e(H),"gm"),se=(ie=ie.replace(H,"")).split("\r"),H=ie.split(`
`),ie=1<H.length&&H[0].length<se[0].length;if(se.length===1||ie)return`
`;for(var pe=0,le=0;le<se.length;le++)se[le][0]===`
`&&pe++;return pe>=se.length/2?`\r
`:"\r"}}function $e(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Je(p){var g=(p=p||{}).delimiter,_=p.newline,S=p.comments,x=p.step,W=p.preview,ae=p.fastMode,Te=null,re=!1,q=p.quoteChar==null?'"':p.quoteChar,M=q;if(p.escapeChar!==void 0&&(M=p.escapeChar),(typeof g!="string"||-1<b.BAD_DELIMITERS.indexOf(g))&&(g=","),S===g)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<b.BAD_DELIMITERS.indexOf(S))&&(S=!1),_!==`
`&&_!=="\r"&&_!==`\r
`&&(_=`
`);var N=0,$=!1;this.parse=function(A,O,I){if(typeof A!="string")throw new Error("Input must be a string");var j=A.length,D=g.length,B=_.length,me=S.length,R=oe(x),K=[],se=[],H=[],ie=N=0;if(!A)return Ce();if(ae||ae!==!1&&A.indexOf(q)===-1){for(var pe=A.split(_),le=0;le<pe.length;le++){if(H=pe[le],N+=H.length,le!==pe.length-1)N+=_.length;else if(I)return Ce();if(!S||H.substring(0,me)!==S){if(R){if(K=[],he(H.split(g)),Oe(),$)return Ce()}else he(H.split(g));if(W&&W<=le)return K=K.slice(0,W),Ce(!0)}}return Ce()}for(var te=A.indexOf(g,N),U=A.indexOf(_,N),ye=new RegExp($e(M)+$e(q),"g"),Y=A.indexOf(q,N);;)if(A[N]===q)for(Y=N,N++;;){if((Y=A.indexOf(q,Y+1))===-1)return I||se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:N}),Ee();if(Y===j-1)return Ee(A.substring(N,Y).replace(ye,q));if(q===M&&A[Y+1]===M)Y++;else if(q===M||Y===0||A[Y-1]!==M){te!==-1&&te<Y+1&&(te=A.indexOf(g,Y+1));var ce=Ve((U=U!==-1&&U<Y+1?A.indexOf(_,Y+1):U)===-1?te:Math.min(te,U));if(A.substr(Y+1+ce,D)===g){H.push(A.substring(N,Y).replace(ye,q)),A[N=Y+1+ce+D]!==q&&(Y=A.indexOf(q,N)),te=A.indexOf(g,N),U=A.indexOf(_,N);break}if(ce=Ve(U),A.substring(Y+1+ce,Y+1+ce+B)===_){if(H.push(A.substring(N,Y).replace(ye,q)),at(Y+1+ce+B),te=A.indexOf(g,N),Y=A.indexOf(q,N),R&&(Oe(),$))return Ce();if(W&&K.length>=W)return Ce(!0);break}se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:N}),Y++}}else if(S&&H.length===0&&A.substring(N,N+me)===S){if(U===-1)return Ce();N=U+B,U=A.indexOf(_,N),te=A.indexOf(g,N)}else if(te!==-1&&(te<U||U===-1))H.push(A.substring(N,te)),N=te+D,te=A.indexOf(g,N);else{if(U===-1)break;if(H.push(A.substring(N,U)),at(U+B),R&&(Oe(),$))return Ce();if(W&&K.length>=W)return Ce(!0)}return Ee();function he(fe){K.push(fe),ie=N}function Ve(fe){var xe=0;return xe=fe!==-1&&(fe=A.substring(Y+1,fe))&&fe.trim()===""?fe.length:xe}function Ee(fe){return I||(fe===void 0&&(fe=A.substring(N)),H.push(fe),N=j,he(H),R&&Oe()),Ce()}function at(fe){N=fe,he(H),H=[],U=A.indexOf(_,N)}function Ce(fe){if(p.header&&!O&&K.length&&!re){var xe=K[0],De={},Pt=new Set(xe);let Mt=!1;for(let Qe=0;Qe<xe.length;Qe++){let ze=xe[Qe];if(De[ze=oe(p.transformHeader)?p.transformHeader(ze,Qe):ze]){let nt,gt=De[ze];for(;nt=ze+"_"+gt,gt++,Pt.has(nt););Pt.add(nt),xe[Qe]=nt,De[ze]++,Mt=!0,(Te=Te===null?{}:Te)[nt]=ze}else De[ze]=1,xe[Qe]=ze;Pt.add(ze)}Mt&&console.warn("Duplicate headers found and renamed."),re=!0}return{data:K,errors:se,meta:{delimiter:g,linebreak:_,aborted:$,truncated:!!fe,cursor:ie+(O||0),renamedHeaders:Te}}}function Oe(){x(Ce()),K=[],se=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return N}}function ve(p){var g=p.data,_=w[g.workerId],S=!1;if(g.error)_.userError(g.error,g.file);else if(g.results&&g.results.data){var x={abort:function(){S=!0,be(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:je,resume:je};if(oe(_.userStep)){for(var W=0;W<g.results.data.length&&(_.userStep({data:g.results.data[W],errors:g.results.errors,meta:g.results.meta},x),!S);W++);delete g.results}else oe(_.userChunk)&&(_.userChunk(g.results,x,g.file),delete g.results)}g.finished&&!S&&be(g.workerId,g.results)}function be(p,g){var _=w[p];oe(_.userComplete)&&_.userComplete(g),_.terminate(),delete w[p]}function je(){throw new Error("Not implemented.")}function Ue(p){if(typeof p!="object"||p===null)return p;var g,_=Array.isArray(p)?[]:{};for(g in p)_[g]=Ue(p[g]);return _}function Ie(p,g){return function(){p.apply(g,arguments)}}function oe(p){return typeof p=="function"}return b.parse=function(p,g){var _=(g=g||{}).dynamicTyping||!1;if(oe(_)&&(g.dynamicTypingFunction=_,_={}),g.dynamicTyping=_,g.transform=!!oe(g.transform)&&g.transform,!g.worker||!b.WORKERS_SUPPORTED)return _=null,b.NODE_STREAM_INPUT,typeof p=="string"?(p=(S=>S.charCodeAt(0)!==65279?S:S.slice(1))(p),_=new(g.download?F:Q)(g)):p.readable===!0&&oe(p.read)&&oe(p.on)?_=new ne(g):(c.File&&p instanceof File||p instanceof Object)&&(_=new T(g)),_.stream(p);(_=(()=>{var S;return!!b.WORKERS_SUPPORTED&&(S=(()=>{var x=c.URL||c.webkitURL||null,W=r.toString();return b.BLOB_URL||(b.BLOB_URL=x.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))})(),(S=new c.Worker(S)).onmessage=ve,S.id=C++,w[S.id]=S)})()).userStep=g.step,_.userChunk=g.chunk,_.userComplete=g.complete,_.userError=g.error,g.step=oe(g.step),g.chunk=oe(g.chunk),g.complete=oe(g.complete),g.error=oe(g.error),delete g.worker,_.postMessage({input:p,config:g,workerId:_.id})},b.unparse=function(p,g){var _=!1,S=!0,x=",",W=`\r
`,ae='"',Te=ae+ae,re=!1,q=null,M=!1,N=((()=>{if(typeof g=="object"){if(typeof g.delimiter!="string"||b.BAD_DELIMITERS.filter(function(O){return g.delimiter.indexOf(O)!==-1}).length||(x=g.delimiter),typeof g.quotes!="boolean"&&typeof g.quotes!="function"&&!Array.isArray(g.quotes)||(_=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(re=g.skipEmptyLines),typeof g.newline=="string"&&(W=g.newline),typeof g.quoteChar=="string"&&(ae=g.quoteChar),typeof g.header=="boolean"&&(S=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");q=g.columns}g.escapeChar!==void 0&&(Te=g.escapeChar+ae),g.escapeFormulae instanceof RegExp?M=g.escapeFormulae:typeof g.escapeFormulae=="boolean"&&g.escapeFormulae&&(M=/^[=+\-@\t\r].*$/)}})(),new RegExp($e(ae),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return $(null,p,re);if(typeof p[0]=="object")return $(q||Object.keys(p[0]),p,re)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||q),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),$(p.fields||[],p.data||[],re);throw new Error("Unable to serialize unrecognized input");function $(O,I,j){var D="",B=(typeof O=="string"&&(O=JSON.parse(O)),typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(O)&&0<O.length),me=!Array.isArray(I[0]);if(B&&S){for(var R=0;R<O.length;R++)0<R&&(D+=x),D+=A(O[R],R);0<I.length&&(D+=W)}for(var K=0;K<I.length;K++){var se=(B?O:I[K]).length,H=!1,ie=B?Object.keys(I[K]).length===0:I[K].length===0;if(j&&!B&&(H=j==="greedy"?I[K].join("").trim()==="":I[K].length===1&&I[K][0].length===0),j==="greedy"&&B){for(var pe=[],le=0;le<se;le++){var te=me?O[le]:le;pe.push(I[K][te])}H=pe.join("").trim()===""}if(!H){for(var U=0;U<se;U++){0<U&&!ie&&(D+=x);var ye=B&&me?O[U]:U;D+=A(I[K][ye],U)}K<I.length-1&&(!j||0<se&&!ie)&&(D+=W)}}return D}function A(O,I){var j,D;return O==null?"":O.constructor===Date?JSON.stringify(O).slice(1,25):(D=!1,M&&typeof O=="string"&&M.test(O)&&(O="'"+O,D=!0),j=O.toString().replace(N,Te),(D=D||_===!0||typeof _=="function"&&_(O,I)||Array.isArray(_)&&_[I]||((B,me)=>{for(var R=0;R<me.length;R++)if(-1<B.indexOf(me[R]))return!0;return!1})(j,b.BAD_DELIMITERS)||-1<j.indexOf(x)||j.charAt(0)===" "||j.charAt(j.length-1)===" ")?ae+j+ae:j)}},b.RECORD_SEP="",b.UNIT_SEP="",b.BYTE_ORDER_MARK="\uFEFF",b.BAD_DELIMITERS=["\r",`
`,'"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!h&&!!c.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=",",b.Parser=Je,b.ParserHandle=ee,b.NetworkStreamer=F,b.FileStreamer=T,b.StringStreamer=Q,b.ReadableStreamStreamer=ne,c.jQuery&&((d=c.jQuery).fn.parse=function(p){var g=p.config||{},_=[];return this.each(function(W){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&c.FileReader)||!this.files||this.files.length===0)return!0;for(var ae=0;ae<this.files.length;ae++)_.push({file:this.files[ae],inputElem:this,instanceConfig:d.extend({},g)})}),S(),this;function S(){if(_.length===0)oe(p.complete)&&p.complete();else{var W,ae,Te,re,q=_[0];if(oe(p.before)){var M=p.before(q.file,q.inputElem);if(typeof M=="object"){if(M.action==="abort")return W="AbortError",ae=q.file,Te=q.inputElem,re=M.reason,void(oe(p.error)&&p.error({name:W},ae,Te,re));if(M.action==="skip")return void x();typeof M.config=="object"&&(q.instanceConfig=d.extend(q.instanceConfig,M.config))}else if(M==="skip")return void x()}var N=q.instanceConfig.complete;q.instanceConfig.complete=function($){oe(N)&&N($,q.file,q.inputElem),x()},b.parse(q.file,q.instanceConfig)}}function x(){_.splice(0,1),S()}}),m&&(c.onmessage=function(p){p=p.data,b.WORKER_ID===void 0&&p&&(b.WORKER_ID=p.workerId),typeof p.input=="string"?c.postMessage({workerId:b.WORKER_ID,results:b.parse(p.input,p.config),finished:!0}):(c.File&&p.input instanceof File||p.input instanceof Object)&&(p=b.parse(p.input,p.config))&&c.postMessage({workerId:b.WORKER_ID,results:p,finished:!0})}),(F.prototype=Object.create(P.prototype)).constructor=F,(T.prototype=Object.create(P.prototype)).constructor=T,(Q.prototype=Object.create(Q.prototype)).constructor=Q,(ne.prototype=Object.create(P.prototype)).constructor=ne,b})}(mi)),mi.exports}var Er=$r();const va=ga(Er),Br=["createdAt","updatedAt","translations","salesChannel","versionId","translated"],{Criteria:Be}=Shopware.Data;Shopware.Component.register("moorl-csv-import",{template:Tr,inject:["repositoryFactory","context","mediaService"],mixins:[Shopware.Mixin.getByName("notification")],props:{entity:{type:String,required:!0},onCloseModal:{type:Function,required:!0,default:null},onFinishImport:{type:Function,required:!0,default:null},defaultItem:{type:Object,required:!1,default(){return{}}}},data(){return{pause:!1,step:1,options:{overwrite:!0,pause:!0,validateIds:!0,mediaFolderId:null},requiredColumns:[],selectedItem:null,tags:null,rowCount:0,csvFile:null,rowsDone:0,rowsLeft:0,rowsSkipped:0,rowsNew:0,errorCount:0,data:null,properties:{},mapping:{},columns:null,showImportModal:!0,statusMessage:null}},computed:{repository(){return this.repositoryFactory.create(this.entity)},mediaRepository(){return this.repositoryFactory.create("media")},tagRepository(){return this.repositoryFactory.create("tag")}},created(){this.createdComponent()},mounted(){},watch:{},methods:{async getItemById(i,a){if(typeof a>"u"||!a)return null;let r=null;return typeof i<"u"&&i!==this.entity?await this.repositoryFactory.create(i).get(a.toLowerCase(),Shopware.Context.api,new Be).then(async c=>{r=c}):await this.repository.get(a.toLowerCase(),Shopware.Context.api,new Be).then(async c=>{r=c}),r||null},async getItemByUniqueProperties(i){const a=/^[a-f0-9]{32}$/i,r=new Be(1,1);if(i.id&&a.test(i.id))r.addFilter(Be.equals("id",i.id));else{let d=[],h=[];for(let m of this.columns)(m.flags.moorl_unique||m.flags.primary_key)&&i[m.property]&&d.push(Be.equals(m.property,i[m.property]));if(d.length===0)return null;for(const[m,w]of Object.entries(this.defaultItem))h.push(Be.equals(m,w));r.addFilter(Be.multi("AND",[Be.multi("OR",d),Be.multi("AND",h)]))}let c=null;return await this.repository.search(r,Shopware.Context.api).then(async d=>{c=d.first()}),c},async getMediaIdByFileName(i,a){const r=new Be;r.addFilter(Be.equals("fileName",i)),r.addFilter(Be.equals("fileExtension",a));let c=null;return await this.mediaRepository.search(r,Shopware.Context.api).then(d=>{c=d.first()}),c?c.id:null},createdComponent(){this.initEditColumns(),this.tagRepository.search(new Be,Shopware.Context.api).then(i=>{this.tags=i})},onCancel(){this.pause=!0,this.onCloseModal()},initEditColumns(){let i=[],a=Shopware.EntityDefinition.get(this.entity).properties;for(const[r,c]of Object.entries(a))c.relation!=="one_to_many"&&(c.relation==="many_to_many"&&c.localField!==null&&(delete c.flags.required,delete c.localField,delete c.referenceField),Br.indexOf(r)===-1&&Object.keys(this.defaultItem).indexOf(r)===-1&&(c.localField&&a[c.localField].flags.required&&(c.flags.required=!0),c.property=r,c.label=this.$tc(`moorl-foundation.field.${r}`),i.push(c)));this.columns=i},getUniquePropertyLabels(){let i=[];for(let a of this.columns)(a.flags.primary_key||a.flags.moorl_unique)&&i.push(a.property);return i.join(", ")},validateItem(){this.properties=Object.keys(this.data[0]),this.matches=0;const i=(a,r)=>a.findIndex(c=>r.toLowerCase().replace(/[\W_]+/g,"")===c.toLowerCase().replace(/[\W_]+/g,""));for(let a of this.columns)if(a.localField){let r=i(this.properties,a.localField);r!==-1&&(this.mapping[a.localField]=this.properties[r],this.matches++)}else{let r=i(this.properties,a.property);r!==-1&&(this.mapping[a.property]=this.properties[r],this.matches++)}},onClickUpload(){this.$refs.fileInput.click()},onFileInputChange(){console.log(this.csvFile),va.parse(this.csvFile,{header:!0,skipEmptyLines:!0,complete:i=>{if(i.errors&&i.errors.length>0){console.error(i.errors),this.onCloseModal();return}this.data=i.data,this.validateItem(),this.rowCount=this.data.length,this.rowsDone=0,this.step=2,this.initSelectedItem()}})},initSelectedItem(){this.selectedItem={};for(let i of this.columns)if(i.relation==="many_to_many"||i.relation==="one_to_many"){let a=this.repositoryFactory.create(i.entity);this.selectedItem[i.property]=new Shopware.Data.EntityCollection(a.route,a.entityName,Shopware.Context.api)}else i.relation==="many_to_one"&&i.localField&&(this.selectedItem[i.localField]=null);Object.assign(this.selectedItem,this.defaultItem)},onClickBack(){this.step--},onClickPause(){this.pause=!this.pause,this.pause=!this.pause,this.pause||this.importItem()},mountedComponent(){},onClickImport(){this.step=3,this.importItem()},async prepareSaveItem(i){const a=Object.assign({},this.selectedItem,i);let r=await this.getItemByUniqueProperties(a);if(!r)r=this.repository.create(Shopware.Context.api),this.rowsNew++;else if(this.rowsSkipped++,!this.options.overwrite)return this.onError("Error: ("+this.getUniquePropertyLabels()+") is already in Database. Please chose overwrite and try again");Object.assign(r,a),this.saveItem(r)},saveItem(i){this.repository.save(i,Shopware.Context.api).then(()=>{this.statusMessage=this.rowsDone+" of "+this.rowCount+" done",this.importItem()}).catch(a=>{this.onError(a)})},async importItem(){if(this.rowsLeft=this.data.length,this.rowsLeft<1){this.step=4,this.onFinishImport();return}this.rowsDone++;let i=this.data.shift();i=await this.sanitizeItem(i),!(this.pause&&this.options.pause)&&(this.pause=!1,await this.prepareSaveItem(i))},onError(i){this.errorCount++,this.statusMessage=i,this.pause=!0},isValidHttpUrl(i){let a;try{a=new URL(i)}catch{return!1}return a.protocol==="http:"||a.protocol==="https:"},async sanitizeItem(i){const a={},r=/^\s*(true|1|on|yes|y|j|ja|an|si|x|check)\s*$/i,c=/^[a-f0-9]{32}$/i;for(const[d,h]of Object.entries(this.mapping)){const m=i[h];if(m){const w=this.columns.find(b=>b.property===d||b.localField===d);if(!w)return this.onError(d+" - import validation error: unknown column");const C=typeof m=="string"&&c.test(m)?m.toLowerCase():null;switch(w.type){case"association":if(w.relation==="one_to_one"||w.relation==="many_to_one")if(w.entity==="media"&&!C){const b=this.mediaRepository.create(Shopware.Context.api);let P,F;this.isValidHttpUrl(m)?(F=new URL(m),P=F.pathname.split("/").pop().split(".")):P=m.split("."),P.length===1?b.fileName=P[0].replace(/[^a-zA-Z0-9_\- ]/g,""):(b.fileName=P[0].replace(/[^a-zA-Z0-9_\- ]/g,""),b.fileExtension=P.pop()),b.mediaFolderId=this.options.mediaFolderId;let T=await this.getMediaIdByFileName(b.fileName,b.fileExtension);T?a[w.localField]=T:this.isValidHttpUrl(m)&&(a[w.localField]=b.id,this.mediaRepository.save(b,Shopware.Context.api).then(()=>{this.mediaService.uploadMediaFromUrl(b.id,F,b.fileExtension,b.fileName)}))}else if(!this.options.validateIds||await this.getItemById(w.entity,C))a[d]=C;else return this.onError(d+" - import "+w.entity+" validation error: unknown ID ("+C+")");else if(w.relation==="many_to_many"||w.relation==="one_to_many"){let b=m.split("|");if(b.length!==0){a[d]=[];for(const P of b)if(c.test(P)&&(!this.options.validateIds||await this.getItemById(w.entity,P)))a[d].push({id:P});else if(w.entity==="tag"){let T=!1;for(let Q of this.tags)Q.name===P&&(a[d].push(Q),T=!0);if(T===!1){const Q=this.tagRepository.create(Shopware.Context.api);Q.name=P,Q.id=Shopware.Utils.createId(),await this.tagRepository.save(Q,Shopware.Context.api),this.tags.add(Q),a[d].push(Q)}}else return this.onError(d+" - import validation error: unknown/invalid ID ("+P+")")}}break;case"boolean":a[d]=r.test(m);break;case"int":a[d]=parseInt(m,10);break;case"float":a[d]=parseFloat(m);break;case"uuid":if(C)a[d]=C;else return this.onError(d+" - import validation error: unknown ID ("+C+")");break;case"date":break;case"json_object":try{a[d]=JSON.parse(m)}catch{a[d]=null}break;default:a[d]=m}}}return a}}});const Or=`<sw-modal v-if="showExportModal" :title="$tc('moorl-csv-export.title')" @modal-close="onCancel" variant="default" class="moorl-csv-export" :closable="false" > <sw-container class="moorl-csv-export__top-bar" columns="1fr" gap="10px" > <template v-if="step == 1"> <mt-switch bordered :label="$tc('moorl-csv-export.localTable')" v-model="options.localTable" /> <p class="info"> {{ $t('moorl-csv-export.introText') }} </p> </template> <template v-if="step == 2 && items.length > 0"> <mt-progress-bar :value="items.length" :maxValue="total" /> <p class="info"> {{ $tc('moorl-csv-export.process') }} </p> </template> <template v-if="step == 3"> <p class="info"> {{ $tc('moorl-csv-export.completedMessage') }} </p> </template> </sw-container> <template #modal-footer> <mt-button @click="onCancel" size="small" variant="secondary" > {{ $tc('global.default.cancel') }} </mt-button> <mt-button v-if="step == 1" @click="onClickExport" variant="primary" size="small" > {{ $tc('global.default.apply') }} </mt-button> </template> </sw-modal>`,Dr=["createdAt","updatedAt","translations","salesChannel","versionId","translated"],{Criteria:Zi}=Shopware.Data;Shopware.Component.register("moorl-csv-export",{template:Or,inject:["repositoryFactory","context","mediaService"],mixins:[Shopware.Mixin.getByName("notification")],props:{entity:{type:String,required:!0},onCloseModal:{type:Function,required:!0,default:null},criteria:{type:Object,required:!1,default(){return new Zi}},selectedItems:{type:Object,required:!1,default(){return{}}},defaultItem:{type:Object,required:!1,default(){return{}}}},data(){return{step:1,options:{localTable:!0},items:[],exportItems:[],tags:null,rowCount:0,rowsDone:0,rowsLeft:0,rowsSkipped:0,rowsNew:0,errorCount:0,data:null,properties:{},columns:null,showExportModal:!0,statusMessage:null,total:0,page:1,limit:50}},computed:{repository(){return this.repositoryFactory.create(this.entity)},mediaRepository(){return this.repositoryFactory.create("media")},tagRepository(){return this.repositoryFactory.create("tag")}},created(){this.createdComponent()},mounted(){},watch:{},methods:{createdComponent(){this.initExportColumns()},async getItems(){const i=this.criteria;i.setLimit(this.limit),i.setPage(this.page),await this.repository.search(i,Shopware.Context.api).then(async a=>{this.items=[...this.items,...a],this.total=a.total,this.total>this.items.length&&(this.page++,await this.getItems())}).catch(()=>{this.isLoading=!1})},sanitizeItems(){do{let i=this.items.shift();this.exportItems.push(this.sanitizeItem(i))}while(this.items.length>0)},sanitizeItem(i){const a={};for(let r of this.columns)r.relation==="many_to_many"||r.relation==="one_to_many"?i[r.property]&&i[r.property].length>0?r.entity==="tag"?a[r.property]=i[r.property].map(c=>c.name).join("|"):a[r.property]=i[r.property].map(c=>c.id).join("|"):a[r.property]=null:r.relation==="one_to_one"||r.relation==="many_to_one"?(a[r.localField]=i[r.localField],i[r.property]&&r.entity==="media"&&i[r.property].url&&(a[r.property]=i[r.property].url)):r.type==="json_object"?a[r.property]=JSON.stringify(i[r.property]):a[r.property]=i[r.property];return a},onCancel(){this.onCloseModal()},initExportCriteria(){this.criteria.setTotalCountMode(1);for(let i of this.columns)i.relation&&this.criteria.addAssociation(i.property);if(this.selectedItems){let i=Object.keys(this.selectedItems);i.length>0&&this.criteria.addFilter(Zi.equalsAny("id",i))}if(this.options.localTable&&this.defaultItem)for(const[i,a]of Object.entries(this.defaultItem))this.criteria.addFilter(Zi.equals(i,a))},initExportColumns(){let i=[],a=Shopware.EntityDefinition.get(this.entity).properties;for(const[r,c]of Object.entries(a))Dr.indexOf(r)===-1&&(c.localField&&a[c.localField].flags.required&&(c.flags.required=!0),c.property=r,c.label=this.$tc(`moorl-foundation.field.${r}`),i.push(c));this.columns=i},async onClickExport(){this.initExportCriteria(),this.step=2,await this.getItems(),this.sanitizeItems();let i=va.unparse(this.exportItems,{delimiter:";",newline:`
`});const a=new Blob([i]);if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(a,this.entity+".csv");else{let r=window.document.createElement("a");r.href=window.URL.createObjectURL(a,{type:"text/plain"}),r.download=this.entity+".csv",document.body.appendChild(r),r.click(),document.body.removeChild(r)}this.step=3}}});const zr=`<div class="moorl-entity-grid-v2"> <sw-container v-if="topBarOptions.length > 0" :columns="topBarColumns" gap="0 10px" class="moorl-entity-grid__top-bar" > <mt-text-field v-if="topBarOptions.includes('search')" :placeholder="$tc('moorl-foundation.field.search')" v-model="term" @update:model-value="onSearch" /> <mt-button v-if="topBarOptions.includes('new')" variant="primary" :block="true" size="small" @click="onEditItem(null)" > <span> <mt-icon name="regular-plus" size="12" /> {{ $tc('global.default.add') }} </span> </mt-button> <mt-button v-if="topBarOptions.includes('import')" variant="primary" :block="true" size="small" @click="onImportModal" > <span> <mt-icon name="regular-cloud-upload" size="12" /> {{ $tc('moorl-foundation.button.import') }} </span> </mt-button> <mt-button v-if="topBarOptions.includes('export')" variant="primary" :block="true" :disabled="items.length === 0" size="small" @click="onExportModal" > <span> <mt-icon name="regular-cloud-download" size="12" /> {{ $tc('moorl-foundation.button.export') }} </span> </mt-button> </sw-container> <sw-data-grid v-if="ready && total > 0" :dataSource="items" :columns="columns" :showSelection="false" :showSettings="false" :isLoading="isLoading" :sortBy="sortBy" :sortDirection="sortDirection" :allowColumnEdit="false" :allowInlineEdit="true" :compactMode="false" @column-sort="onSortColumn" @select-all-items="onSelectionChanged" @selection-change="onSelectionChanged" @inline-edit-save="onSaveItem" > {% block moorl_entity_grid_templates %}{% endblock %} <template #[\`preview-\${listHelper.getPreviewColumn()}\`]="{ item }"> <sw-media-preview-v2 v-if="mediaProperty" :source="previewMediaSource(item)" /> </template> <template v-for="dateProperty in listHelper.dateProperties" #[\`column-\${dateProperty}\`]="{ item }" > {{ dateFilter(item[dateProperty], { hour: '2-digit', minute: '2-digit' }) }} </template> <template v-for="language in listHelper.languages" #[\`column-languageIds-\${language.id}\`]="{ item, isInlineEdit }" > <moorl-grid-column-language v-model:value="item.languageIds" :languageId="language.id" :is-inline-edit="isInlineEdit" /> </template> <template v-for="props in listHelper.getCurrenciesAndPriceProperties()" #[\`column-\${props.priceProperty}-\${props.currency.isoCode}\`]="{ item }" > {{ currencyFilter(getCurrencyPriceByCurrencyId(props.currency.id,item[props.priceProperty]).gross,props.currency.isoCode) }} </template> <template #actions="{ item }"> {% block moorl_entity_grid_actions %}{% endblock %} <sw-context-menu-item v-if="path" @click="$router.push({ name: path, params: {id: item.id} })" > {{ $tc('global.default.edit') }} </sw-context-menu-item> <sw-context-menu-item v-else @click="onEditItem(item.id)" > {{ $tc('global.default.edit') }} </sw-context-menu-item> <sw-context-menu-item variant="danger" @click="onDeleteItem(item)" > {{ $tc('global.default.delete') }} </sw-context-menu-item> </template> <template #bulk> <a class="link link-danger" @click="onDeleteSelectedItems" > {{ $tc('global.default.delete') }} </a> </template> <template #pagination> <sw-pagination :total="total" :limit="limit" :page="page" :total-visible="gridPagesVisible" :steps="gridSteps" @page-change="onPageChange" /> </template> </sw-data-grid> <moorl-modal-detail v-if="showEditModal" v-model:value="editId" :entity="entity" :defaultItem="defaultItem" :componentName="componentName" @close="onCloseModal" /> <sw-confirm-modal v-if="deleteId" type="yesno" @close="deleteId = null" @cancel="deleteId = null" @confirm="onDeleteItemId" /> <moorl-csv-import v-if="showImportModal" :entity="entity" :onCloseModal="onCloseModal" :onFinishImport="getItems" :default-item="defaultItem" /> <moorl-csv-export v-if="showExportModal" :entity="entity" :onCloseModal="onCloseModal" :selectedItems="selectedItems" :default-item="defaultItem" /> </div>`;Shopware.Component.register("moorl-entity-grid-v2",{inject:["acl"],template:zr,mixins:[Shopware.Mixin.getByName("moorl-listing")],props:{entity:{type:String,required:!0},componentName:{type:String,required:!1,default:"moorl-foundation"},defaultItem:{type:Object,required:!1,default:void 0},topBarOptions:{type:Array,required:!1,default:["search","new","import","export"]},confirmDelete:{type:Boolean,required:!1,default:!0}},data(){return{selectedItems:null,page:1,limit:10,term:null,isLoading:!0,sortBy:"createdAt",sortDirection:"ASC",showEditModal:!1,showImportModal:!1,showExportModal:!1,deleteId:null,editId:null}},computed:{gridPagesVisible(){return 7},gridSteps(){return[10,25,50,100,500]},topBarColumns(){if(this.topBarOptions.length===4)return"4fr 1fr 1fr 1fr";if(this.topBarOptions.length===3)return"1fr 1fr 1fr";if(this.topBarOptions.length===2)return"1fr 1fr";if(this.topBarOptions.length===1)return"1fr"}},created(){this.createdComponent()},methods:{async createdComponent(){await this.initListHelper(),this.sortBy=this.listHelper.sortBy,this.sortDirection=this.listHelper.sortDirection,this.getItems()},async getItems(){await this.loadItems(this.itemCriteria)},onPageChange(i){this.page=i.page,this.limit=i.limit,this.getItems()},onSelectionChanged(i){this.selectedItems=i},onSortColumn(i){if(i.dataIndex!==this.sortBy){this.sortBy=i.dataIndex,this.sortDirection="ASC",this.getItems();return}this.sortDirection==="ASC"?this.sortDirection="DESC":this.sortDirection="ASC",this.getItems()},onSearch(){this.page=1,this.getItems()},onDeleteItem(i){this.deleteId=i.id,!this.confirmDelete&&this.onDeleteItemId()},onDeleteItemId(){this.itemRepository.delete(this.deleteId,Shopware.Context.api).then(()=>{this.deleteId=null,this.getItems()})},onDeleteSelectedItems(){this.isLoading=!0;const i=[];Object.keys(this.selectedItems).forEach(a=>{i.push(this.itemRepository.delete(a,Shopware.Context.api))}),this.selectedItems={},Promise.all(i).then(()=>{this.getItems()})},onSaveItem(i){return this.itemRepository.save(i,Shopware.Context.api).then(()=>this.onSearch())},onEditItem(i){this.editId=i,this.showEditModal=!0},onImportModal(){this.showImportModal=!0},onExportModal(){this.showExportModal=!0},onCloseModal(){this.showEditModal=!1,this.showExportModal=!1,this.showImportModal=!1,this.onSearch()}}});const Fr=`<div class="moorl-parameter-grid sw-field"> <mt-banner v-if="helpText" variant="info" > {{ helpText }} </mt-banner> <div v-if="label" class="sw-field__label" > <label> {{ label}} </label> </div> <sw-data-grid :data-source="items" :columns="gridColumns" :show-selection="false" :plain-appearance="true" :show-actions="showActions" > <template v-if="!fixed" #column-name="{ item, itemIndex }" > <mt-text-field v-model="item.name" size="small" :placeholder="$tc('moorl-foundation.field.name')" @update:model-value="onChangeItem(item, itemIndex)" :disabled="item.fixed" /> </template> <template #column-data="{ item, itemIndex }"> <sw-single-select v-if="!item.isCustom && dataSelection.length" v-model:value="item.data" size="small" :options="dataSelection" :placeholder="$tc('moorl-foundation.field.data')" @update:value="onChangeItem(item, itemIndex)" show-clearable-button /> <mt-text-field v-if="item.isCustom || !dataSelection.length" v-model="item.data" size="small" :placeholder="$tc('moorl-foundation.field.data')" @update:model-value="onChangeItem(item, itemIndex)" /> </template> <template #actions="{ item, itemIndex }"> <sw-context-menu-item :disabled="!dataSelection.length" @click="toggleCustomValue(item, itemIndex)" > {{ item.isCustom ? $tc('moorl-parameter-grid.placeholderValue') : $tc('moorl-parameter-grid.customValue') }} </sw-context-menu-item> <sw-context-menu-item variant="danger" :disabled="fixed || item.fixed" @click="deleteItem(itemIndex)" > {{ $tc('moorl-parameter-grid.removeItem') }} </sw-context-menu-item> </template> </sw-data-grid> <mt-button v-if="!fixed" :block="true" @click="addItem" variant="ghost" > <span> <mt-icon name="regular-plus-s" :small="true" /> {{ $tc('moorl-parameter-grid.addItem') }} </span> </mt-button> </div>`;Shopware.Component.register("moorl-parameter-grid",{template:Fr,emits:["update:parameters"],props:{label:{type:String,default:null,required:!1},helpText:{type:String,default:null,required:!1},parameters:{type:Array,required:!0},dataSelection:{type:Array,default:[],required:!0},fixed:{type:Boolean,default:!0,required:!1},showActions:{type:Boolean,default:!0,required:!1}},data(){return{items:this.parameters}},computed:{gridColumns(){const i=[{label:this.$tc("moorl-parameter-grid.properties.name"),property:"name",dataIndex:"name",primary:!0}];return this.fixed&&i.push({label:this.$tc("moorl-parameter-grid.properties.label"),property:"label",dataIndex:"label",primary:!0}),i.push({label:this.$tc("moorl-parameter-grid.properties.data"),property:"data",dataIndex:"data",primary:!0,width:"320px"}),i}},methods:{toggleCustomValue(i,a){this.items[a]={...i,isCustom:!i.isCustom},this.$emit("update:parameters",this.items)},onChangeItem(i,a){!i.name||!i.data||a!==this.items.length-1||this.$emit("update:parameters",this.items)},addItem(){this.items.push({data:"",name:""}),this.$emit("update:parameters",this.items)},deleteItem(i){this.items.splice(i,1),this.$emit("update:parameters",this.items)}}});const Nr=`<div class="moorl-flow-crm-mapping"> <div class="moorl-link-field"> <sw-entity-single-select :label="propertiesClientId" :helpText="helpTextClientId" entity="moorl_client" :criteria="clientCriteria" v-model:value="config.clientId" @update:value="onChangeClient" /> <router-link v-if="config.clientId" target="_blank" rel="noopener" :to="{ name: 'moorl.client.detail', params: { id: config.clientId } }" > {{ $tc('global.default.edit') }} </router-link> <router-link v-else target="_blank" rel="noopener" :to="{ name: 'moorl.client.create' }" > {{ $tc('global.default.add') }} </router-link> </div> <sw-single-select :label="propertiesFormId" :helpText="helpTextFormId" :options="formOptions" v-model:value="config.formId" :disabled="!config.clientId" @update:value="onChangeForm" show-clearable-button /> <mt-loader v-if="config.formId && !activeFormFields.length" size="50px" /> <div v-if="activeFormFields.length"> <mt-banner variant="info"> {{ description }} </mt-banner> <moorl-parameter-grid v-model:parameters="config.mapping" :dataSelection="dataSelection" :showActions="true" /> </div> </div>`,{snakeCase:Rr}=Shopware.Utils.string;Shopware.Component.register("moorl-flow-crm-mapping",{template:Nr,props:{name:{type:String,required:!1,default:"Hubspot"},activeFormFields:{type:Array,required:!0},formOptions:{type:Array,required:!0},config:{type:Object,required:!0},clientCriteria:{type:Object,required:!0},elementFieldNames:{type:Array,required:!1,default:[]}},data(){return{objects:{contactFormData:["email","firstName","lastName","phone","subject","comment"],reviewFormData:["email","firstName","lastName","name","points","title","content"]}}},computed:{triggerEvent(){var i;return(i=Store.get("swFlowState"))==null?void 0:i.triggerEvent},dataSelection(){return this.elementFieldNames.length?this.elementFieldNames:this.triggerEvent?this.getEntityProperty(this.triggerEvent.data).concat(this.getObjectProperty(this.triggerEvent.data)):[]},description(){return this.$tc("moorl-flow-crm-mapping.description",0,{name:this.name})},propertiesClientId(){return this.$tc("moorl-flow-crm-mapping.properties.clientId",0,{name:this.name})},helpTextClientId(){return this.$tc("moorl-flow-crm-mapping.helpText.clientId",0,{name:this.name})},propertiesFormId(){return this.$tc("moorl-flow-crm-mapping.properties.formId",0,{name:this.name})},helpTextFormId(){return this.$tc("moorl-flow-crm-mapping.helpText.formId",0,{name:this.name})}},created(){this.createdComponent()},watch:{activeFormFields:{handler(i){var a,r;!i||!i.length||(r=(a=this.config)==null?void 0:a.mapping)!=null&&r.length||(this.config.mapping=i)}}},methods:{createdComponent(){var i,a;(a=(i=this.config)==null?void 0:i.mapping)!=null&&a.length||(this.config.mapping=this.activeFormFields),this.$emit("change-client")},getObjectProperty(i){const a=this.objects,r=[];return Object.keys(i).forEach(c=>{Object.keys(a).forEach(d=>{c===d&&a[c].forEach(h=>{r.push({value:`{{ ${d}.${h} }}`,label:`${d}.${h}`})})})}),r},getEntityProperty(i){const a=[];return Object.keys(i).forEach(r=>{i[r].type==="entity"&&a.push(r)}),a.length===0?[]:a.reduce((r,c)=>{const d=Rr(c),h=Shopware.EntityDefinition.get(d).filterProperties(m=>Shopware.EntityDefinition.getScalarTypes().includes(m.type));return r.concat(Object.keys(h).map(m=>({value:`{{ ${c}.${m} }}`,label:`${c}.${m}`})))},[])},onChangeClient(){this.$emit("change-client")},onChangeForm(){this.config.mapping=[],this.$emit("change-form")},onChangeMapping(){this.$emit("change-mapping")}}});Shopware.Component.extend("moorl-grid-column-language","sw-data-grid-column-boolean",{props:{value:{type:Array,required:!0,default:[]},languageId:{type:String,required:!0,default:null}},computed:{currentValue:{get(){return this.value.includes(this.languageId)},set(i){const a=new Set(this.value);i?a.add(this.languageId):a.delete(this.languageId),this.$emit("update:value",[...a])}}}});const qr=`<div class="moorl-animation"> <sw-collapse v-for="currentConfig, index in value" :ref="'moorl-animation_' + index" class="moorl-collapse" > <template #header="{ expanded }"> <h4> {{ $tc('moorl-animation.label.cssSelector') }} </h4> <mt-text-field v-model="currentConfig.cssSelector" :placeholder="$tc('moorl-animation.placeholder.cssSelector')" /> <div> <mt-icon @click="deleteEntry(index)" name="regular-trash" small /> </div> <div> <mt-icon v-if="expanded" small name="regular-chevron-down-s" /> <mt-icon v-else small name="regular-chevron-right-s" /> </div> </template> <template #content> <moorl-animation-field v-model:item="currentConfig"/> </template> </sw-collapse> <mt-button :block="true" @click="addEntry" variant="ghost" > <span> <mt-icon name="regular-plus-s" :small="true" /> {{ $tc('moorl-animation.label.add') }} </span> </mt-button> </div>`;Shopware.Component.register("moorl-animation",{template:qr,emits:["update:value"],props:{value:{type:Array,required:!1,default:[]}},data(){return{currentValue:null}},watch:{value(){this.$emit("change",this.value)}},created(){this.currentValue=JSON.parse(JSON.stringify(this.value))},methods:{addEntry(){this.value.push({cssSelector:".cms-block",in:{active:!1,name:"none",condition:"isInViewport",duration:1e3,delay:0},out:{active:!1,name:"none",condition:"isInViewport",duration:1e3,delay:0},hover:{active:!1,name:"none",condition:"isInViewport",duration:1e3,delay:0}}),this.$emit("update:value",this.value),this.$forceUpdate()},deleteEntry(i){this.value.splice(i,1),this.$emit("update:value",this.value),this.$forceUpdate()}}});const Zr='<div class="moorl-listing-config"> <moorl-form v-if="!isLoading" :item="value" componentName="moorl-listing-config" :mapping="cmsElementMapping" pathAppend="value" /> </div>',Hr={hidden:!0},jr={hidden:!0},Ur={hidden:!0},Vr={hidden:!0},Wr={hidden:!0},Gr={listingSource:Hr,listingSorting:jr,foreignKey:Ur,limit:Vr,listingItemIds:Wr};Shopware.Component.register("moorl-listing-config",{template:Zr,emits:["update:value"],props:{value:{type:Object,required:!1,default:null}},data(){return{isLoading:!0,cmsElementMapping:null}},created(){const i=MoorlFoundation.CmsElementHelper.fetchCmsElement("listing",Gr);this.value?this.$emit("update:value",Object.assign({},i.defaultConfig,this.value)):this.$emit("update:value",i.defaultConfig),this.cmsElementMapping=i.cmsElementMapping,this.isLoading=!1}});const Yr='<div class="moorl-location" id="moorlLocation" ref="moorlLocation"/>';var Ut={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Kr=Ut.exports,la;function Xr(){return la||(la=1,function(i,a){(function(r,c){c(a)})(Kr,function(r){var c="1.9.4";function d(e){var t,o,n,s;for(o=1,n=arguments.length;o<n;o++){s=arguments[o];for(t in s)e[t]=s[t]}return e}var h=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function m(e,t){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var n=o.call(arguments,2);return function(){return e.apply(t,n.length?n.concat(o.call(arguments)):arguments)}}var w=0;function C(e){return"_leaflet_id"in e||(e._leaflet_id=++w),e._leaflet_id}function b(e,t,o){var n,s,l,u;return u=function(){n=!1,s&&(l.apply(o,s),s=!1)},l=function(){n?s=arguments:(e.apply(o,arguments),setTimeout(u,t),n=!0)},l}function P(e,t,o){var n=t[1],s=t[0],l=n-s;return e===n&&o?e:((e-s)%l+l)%l+s}function F(){return!1}function T(e,t){if(t===!1)return e;var o=Math.pow(10,t===void 0?6:t);return Math.round(e*o)/o}function Q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ne(e){return Q(e).split(/\s+/)}function ee(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?h(e.options):{});for(var o in t)e.options[o]=t[o];return e.options}function $e(e,t,o){var n=[];for(var s in e)n.push(encodeURIComponent(o?s.toUpperCase():s)+"="+encodeURIComponent(e[s]));return(!t||t.indexOf("?")===-1?"?":"&")+n.join("&")}var Je=/\{ *([\w_ -]+) *\}/g;function ve(e,t){return e.replace(Je,function(o,n){var s=t[n];if(s===void 0)throw new Error("No value provided for variable "+o);return typeof s=="function"&&(s=s(t)),s})}var be=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function je(e,t){for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1}var Ue="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ie(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var oe=0;function p(e){var t=+new Date,o=Math.max(0,16-(t-oe));return oe=t+o,window.setTimeout(e,o)}var g=window.requestAnimationFrame||Ie("RequestAnimationFrame")||p,_=window.cancelAnimationFrame||Ie("CancelAnimationFrame")||Ie("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function S(e,t,o){if(o&&g===p)e.call(t);else return g.call(window,m(e,t))}function x(e){e&&_.call(window,e)}var W={__proto__:null,extend:d,create:h,bind:m,get lastId(){return w},stamp:C,throttle:b,wrapNum:P,falseFn:F,formatNum:T,trim:Q,splitWords:ne,setOptions:ee,getParamString:$e,template:ve,isArray:be,indexOf:je,emptyImageUrl:Ue,requestFn:g,cancelFn:_,requestAnimFrame:S,cancelAnimFrame:x};function ae(){}ae.extend=function(e){var t=function(){ee(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=t.__super__=this.prototype,n=h(o);n.constructor=t,t.prototype=n;for(var s in this)Object.prototype.hasOwnProperty.call(this,s)&&s!=="prototype"&&s!=="__super__"&&(t[s]=this[s]);return e.statics&&d(t,e.statics),e.includes&&(Te(e.includes),d.apply(null,[n].concat(e.includes))),d(n,e),delete n.statics,delete n.includes,n.options&&(n.options=o.options?h(o.options):{},d(n.options,e.options)),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var l=0,u=n._initHooks.length;l<u;l++)n._initHooks[l].call(this)}},t},ae.include=function(e){var t=this.prototype.options;return d(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},ae.mergeOptions=function(e){return d(this.prototype.options,e),this},ae.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function Te(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=be(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(e,t,o){if(typeof e=="object")for(var n in e)this._on(n,e[n],t);else{e=ne(e);for(var s=0,l=e.length;s<l;s++)this._on(e[s],t,o)}return this},off:function(e,t,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var n in e)this._off(n,e[n],t);else{e=ne(e);for(var s=arguments.length===1,l=0,u=e.length;l<u;l++)s?this._off(e[l]):this._off(e[l],t,o)}return this},_on:function(e,t,o,n){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,o)===!1){o===this&&(o=void 0);var s={fn:t,ctx:o};n&&(s.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(s)}},_off:function(e,t,o){var n,s,l;if(this._events&&(n=this._events[e],!!n)){if(arguments.length===1){if(this._firingCount)for(s=0,l=n.length;s<l;s++)n[s].fn=F;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var u=this._listens(e,t,o);if(u!==!1){var f=n[u];this._firingCount&&(f.fn=F,this._events[e]=n=n.slice()),n.splice(u,1)}}},fire:function(e,t,o){if(!this.listens(e,o))return this;var n=d({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var s=this._events[e];if(s){this._firingCount=this._firingCount+1||1;for(var l=0,u=s.length;l<u;l++){var f=s[l],v=f.fn;f.once&&this.off(e,v,f.ctx),v.call(f.ctx||this,n)}this._firingCount--}}return o&&this._propagateEvent(n),this},listens:function(e,t,o,n){typeof e!="string"&&console.warn('"string" type argument expected');var s=t;typeof t!="function"&&(n=!!t,s=void 0,o=void 0);var l=this._events&&this._events[e];if(l&&l.length&&this._listens(e,s,o)!==!1)return!0;if(n){for(var u in this._eventParents)if(this._eventParents[u].listens(e,t,o,n))return!0}return!1},_listens:function(e,t,o){if(!this._events)return!1;var n=this._events[e]||[];if(!t)return!!n.length;o===this&&(o=void 0);for(var s=0,l=n.length;s<l;s++)if(n[s].fn===t&&n[s].ctx===o)return s;return!1},once:function(e,t,o){if(typeof e=="object")for(var n in e)this._on(n,e[n],t,!0);else{e=ne(e);for(var s=0,l=e.length;s<l;s++)this._on(e[s],t,o,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[C(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[C(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,d({layer:e.target,propagatedFrom:e.target},e),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var q=ae.extend(re);function M(e,t,o){this.x=o?Math.round(e):e,this.y=o?Math.round(t):t}var N=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};M.prototype={clone:function(){return new M(this.x,this.y)},add:function(e){return this.clone()._add($(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract($(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new M(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new M(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(e){e=$(e);var t=e.x-this.x,o=e.y-this.y;return Math.sqrt(t*t+o*o)},equals:function(e){return e=$(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=$(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function $(e,t,o){return e instanceof M?e:be(e)?new M(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new M(e.x,e.y):new M(e,t,o)}function A(e,t){if(e)for(var o=t?[e,t]:e,n=0,s=o.length;n<s;n++)this.extend(o[n])}A.prototype={extend:function(e){var t,o;if(!e)return this;if(e instanceof M||typeof e[0]=="number"||"x"in e)t=o=$(e);else if(e=O(e),t=e.min,o=e.max,!t||!o)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=o.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(e){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,o;return typeof e[0]=="number"||e instanceof M?e=$(e):e=O(e),e instanceof A?(t=e.min,o=e.max):t=o=e,t.x>=this.min.x&&o.x<=this.max.x&&t.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=O(e);var t=this.min,o=this.max,n=e.min,s=e.max,l=s.x>=t.x&&n.x<=o.x,u=s.y>=t.y&&n.y<=o.y;return l&&u},overlaps:function(e){e=O(e);var t=this.min,o=this.max,n=e.min,s=e.max,l=s.x>t.x&&n.x<o.x,u=s.y>t.y&&n.y<o.y;return l&&u},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,o=this.max,n=Math.abs(t.x-o.x)*e,s=Math.abs(t.y-o.y)*e;return O($(t.x-n,t.y-s),$(o.x+n,o.y+s))},equals:function(e){return e?(e=O(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function O(e,t){return!e||e instanceof A?e:new A(e,t)}function I(e,t){if(e)for(var o=t?[e,t]:e,n=0,s=o.length;n<s;n++)this.extend(o[n])}I.prototype={extend:function(e){var t=this._southWest,o=this._northEast,n,s;if(e instanceof D)n=e,s=e;else if(e instanceof I){if(n=e._southWest,s=e._northEast,!n||!s)return this}else return e?this.extend(B(e)||j(e)):this;return!t&&!o?(this._southWest=new D(n.lat,n.lng),this._northEast=new D(s.lat,s.lng)):(t.lat=Math.min(n.lat,t.lat),t.lng=Math.min(n.lng,t.lng),o.lat=Math.max(s.lat,o.lat),o.lng=Math.max(s.lng,o.lng)),this},pad:function(e){var t=this._southWest,o=this._northEast,n=Math.abs(t.lat-o.lat)*e,s=Math.abs(t.lng-o.lng)*e;return new I(new D(t.lat-n,t.lng-s),new D(o.lat+n,o.lng+s))},getCenter:function(){return new D((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new D(this.getNorth(),this.getWest())},getSouthEast:function(){return new D(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof D||"lat"in e?e=B(e):e=j(e);var t=this._southWest,o=this._northEast,n,s;return e instanceof I?(n=e.getSouthWest(),s=e.getNorthEast()):n=s=e,n.lat>=t.lat&&s.lat<=o.lat&&n.lng>=t.lng&&s.lng<=o.lng},intersects:function(e){e=j(e);var t=this._southWest,o=this._northEast,n=e.getSouthWest(),s=e.getNorthEast(),l=s.lat>=t.lat&&n.lat<=o.lat,u=s.lng>=t.lng&&n.lng<=o.lng;return l&&u},overlaps:function(e){e=j(e);var t=this._southWest,o=this._northEast,n=e.getSouthWest(),s=e.getNorthEast(),l=s.lat>t.lat&&n.lat<o.lat,u=s.lng>t.lng&&n.lng<o.lng;return l&&u},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=j(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function j(e,t){return e instanceof I?e:new I(e,t)}function D(e,t,o){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,o!==void 0&&(this.alt=+o)}D.prototype={equals:function(e,t){if(!e)return!1;e=B(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+T(this.lat,e)+", "+T(this.lng,e)+")"},distanceTo:function(e){return R.distance(this,B(e))},wrap:function(){return R.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,o=t/Math.cos(Math.PI/180*this.lat);return j([this.lat-t,this.lng-o],[this.lat+t,this.lng+o])},clone:function(){return new D(this.lat,this.lng,this.alt)}};function B(e,t,o){return e instanceof D?e:be(e)&&typeof e[0]!="object"?e.length===3?new D(e[0],e[1],e[2]):e.length===2?new D(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new D(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new D(e,t,o)}var me={latLngToPoint:function(e,t){var o=this.projection.project(e),n=this.scale(t);return this.transformation._transform(o,n)},pointToLatLng:function(e,t){var o=this.scale(t),n=this.transformation.untransform(e,o);return this.projection.unproject(n)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,o=this.scale(e),n=this.transformation.transform(t.min,o),s=this.transformation.transform(t.max,o);return new A(n,s)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?P(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?P(e.lat,this.wrapLat,!0):e.lat,n=e.alt;return new D(o,t,n)},wrapLatLngBounds:function(e){var t=e.getCenter(),o=this.wrapLatLng(t),n=t.lat-o.lat,s=t.lng-o.lng;if(n===0&&s===0)return e;var l=e.getSouthWest(),u=e.getNorthEast(),f=new D(l.lat-n,l.lng-s),v=new D(u.lat-n,u.lng-s);return new I(f,v)}},R=d({},me,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var o=Math.PI/180,n=e.lat*o,s=t.lat*o,l=Math.sin((t.lat-e.lat)*o/2),u=Math.sin((t.lng-e.lng)*o/2),f=l*l+Math.cos(n)*Math.cos(s)*u*u,v=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f));return this.R*v}}),K=6378137,se={R:K,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,o=this.MAX_LATITUDE,n=Math.max(Math.min(o,e.lat),-o),s=Math.sin(n*t);return new M(this.R*e.lng*t,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(e){var t=180/Math.PI;return new D((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=K*Math.PI;return new A([-e,-e],[e,e])}()};function H(e,t,o,n){if(be(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=o,this._d=n}H.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new M((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function ie(e,t,o,n){return new H(e,t,o,n)}var pe=d({},R,{code:"EPSG:3857",projection:se,transformation:function(){var e=.5/(Math.PI*se.R);return ie(e,.5,-e,.5)}()}),le=d({},pe,{code:"EPSG:900913"});function te(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function U(e,t){var o="",n,s,l,u,f,v;for(n=0,l=e.length;n<l;n++){for(f=e[n],s=0,u=f.length;s<u;s++)v=f[s],o+=(s?"L":"M")+v.x+" "+v.y;o+=t?E.svg?"z":"x":""}return o||"M0 0"}var ye=document.documentElement.style,Y="ActiveXObject"in window,ce=Y&&!document.addEventListener,he="msLaunchUri"in navigator&&!("documentMode"in document),Ve=We("webkit"),Ee=We("android"),at=We("android 2")||We("android 3"),Ce=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oe=Ee&&We("Google")&&Ce<537&&!("AudioNode"in window),fe=!!window.opera,xe=!he&&We("chrome"),De=We("gecko")&&!Ve&&!fe&&!Y,Pt=!xe&&We("safari"),Mt=We("phantom"),Qe="OTransition"in ye,ze=navigator.platform.indexOf("Win")===0,nt=Y&&"transition"in ye,gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,Qi="MozPerspective"in ye,Sa=!window.L_DISABLE_3D&&(nt||gt||Qi)&&!Qe&&!Mt,Tt=typeof orientation<"u"||We("mobile"),xa=Tt&&Ve,ka=Tt&&gt,eo=!window.PointerEvent&&window.MSPointerEvent,to=!!(window.PointerEvent||eo),io="ontouchstart"in window||!!window.TouchEvent,La=!window.L_NO_TOUCH&&(io||to),Ia=Tt&&fe,Pa=Tt&&De,Ma=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ta=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",F,t),window.removeEventListener("testPassiveEventSupport",F,t)}catch{}return e}(),Aa=function(){return!!document.createElement("canvas").getContext}(),hi=!!(document.createElementNS&&te("svg").createSVGRect),$a=!!hi&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ea=!hi&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch{return!1}}(),Ba=navigator.platform.indexOf("Mac")===0,Oa=navigator.platform.indexOf("Linux")===0;function We(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var E={ie:Y,ielt9:ce,edge:he,webkit:Ve,android:Ee,android23:at,androidStock:Oe,opera:fe,chrome:xe,gecko:De,safari:Pt,phantom:Mt,opera12:Qe,win:ze,ie3d:nt,webkit3d:gt,gecko3d:Qi,any3d:Sa,mobile:Tt,mobileWebkit:xa,mobileWebkit3d:ka,msPointer:eo,pointer:to,touch:La,touchNative:io,mobileOpera:Ia,mobileGecko:Pa,retina:Ma,passiveEvents:Ta,canvas:Aa,svg:hi,vml:Ea,inlineSvg:$a,mac:Ba,linux:Oa},oo=E.msPointer?"MSPointerDown":"pointerdown",ao=E.msPointer?"MSPointerMove":"pointermove",no=E.msPointer?"MSPointerUp":"pointerup",ro=E.msPointer?"MSPointerCancel":"pointercancel",fi={touchstart:oo,touchmove:ao,touchend:no,touchcancel:ro},so={touchstart:qa,touchmove:Vt,touchend:Vt,touchcancel:Vt},vt={},lo=!1;function Da(e,t,o){return t==="touchstart"&&Ra(),so[t]?(o=so[t].bind(this,o),e.addEventListener(fi[t],o,!1),o):(console.warn("wrong event specified:",t),F)}function za(e,t,o){if(!fi[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(fi[t],o,!1)}function Fa(e){vt[e.pointerId]=e}function Na(e){vt[e.pointerId]&&(vt[e.pointerId]=e)}function co(e){delete vt[e.pointerId]}function Ra(){lo||(document.addEventListener(oo,Fa,!0),document.addEventListener(ao,Na,!0),document.addEventListener(no,co,!0),document.addEventListener(ro,co,!0),lo=!0)}function Vt(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var o in vt)t.touches.push(vt[o]);t.changedTouches=[t],e(t)}}function qa(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&ke(t),Vt(e,t)}function Za(e){var t={},o,n;for(n in e)o=e[n],t[n]=o&&o.bind?o.bind(e):o;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var Ha=200;function ja(e,t){e.addEventListener("dblclick",t);var o=0,n;function s(l){if(l.detail!==1){n=l.detail;return}if(!(l.pointerType==="mouse"||l.sourceCapabilities&&!l.sourceCapabilities.firesTouchEvents)){var u=fo(l);if(!(u.some(function(v){return v instanceof HTMLLabelElement&&v.attributes.for})&&!u.some(function(v){return v instanceof HTMLInputElement||v instanceof HTMLSelectElement}))){var f=Date.now();f-o<=Ha?(n++,n===2&&t(Za(l))):n=1,o=f}}}return e.addEventListener("click",s),{dblclick:t,simDblclick:s}}function Ua(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var gi=Yt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),At=Yt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),uo=At==="webkitTransition"||At==="OTransition"?At+"End":"transitionend";function mo(e){return typeof e=="string"?document.getElementById(e):e}function $t(e,t){var o=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!o||o==="auto")&&document.defaultView){var n=document.defaultView.getComputedStyle(e,null);o=n?n[t]:null}return o==="auto"?null:o}function J(e,t,o){var n=document.createElement(e);return n.className=t||"",o&&o.appendChild(n),n}function ue(e){var t=e.parentNode;t&&t.removeChild(e)}function Wt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function bt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function yt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function vi(e,t){if(e.classList!==void 0)return e.classList.contains(t);var o=Gt(e);return o.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(o)}function V(e,t){if(e.classList!==void 0)for(var o=ne(t),n=0,s=o.length;n<s;n++)e.classList.add(o[n]);else if(!vi(e,t)){var l=Gt(e);bi(e,(l?l+" ":"")+t)}}function ge(e,t){e.classList!==void 0?e.classList.remove(t):bi(e,Q((" "+Gt(e)+" ").replace(" "+t+" "," ")))}function bi(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function Gt(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Fe(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Va(e,t)}function Va(e,t){var o=!1,n="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(n)}catch{if(t===1)return}t=Math.round(t*100),o?(o.Enabled=t!==100,o.Opacity=t):e.style.filter+=" progid:"+n+"(opacity="+t+")"}function Yt(e){for(var t=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in t)return e[o];return!1}function lt(e,t,o){var n=t||new M(0,0);e.style[gi]=(E.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(o?" scale("+o+")":"")}function _e(e,t){e._leaflet_pos=t,E.any3d?lt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function ct(e){return e._leaflet_pos||new M(0,0)}var Et,Bt,yi;if("onselectstart"in document)Et=function(){Z(window,"selectstart",ke)},Bt=function(){de(window,"selectstart",ke)};else{var Ot=Yt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Et=function(){if(Ot){var e=document.documentElement.style;yi=e[Ot],e[Ot]="none"}},Bt=function(){Ot&&(document.documentElement.style[Ot]=yi,yi=void 0)}}function _i(){Z(window,"dragstart",ke)}function wi(){de(window,"dragstart",ke)}var Kt,Ci;function Si(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Xt(),Kt=e,Ci=e.style.outlineStyle,e.style.outlineStyle="none",Z(window,"keydown",Xt))}function Xt(){Kt&&(Kt.style.outlineStyle=Ci,Kt=void 0,Ci=void 0,de(window,"keydown",Xt))}function po(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function xi(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Wa={__proto__:null,TRANSFORM:gi,TRANSITION:At,TRANSITION_END:uo,get:mo,getStyle:$t,create:J,remove:ue,empty:Wt,toFront:bt,toBack:yt,hasClass:vi,addClass:V,removeClass:ge,setClass:bi,getClass:Gt,setOpacity:Fe,testProp:Yt,setTransform:lt,setPosition:_e,getPosition:ct,get disableTextSelection(){return Et},get enableTextSelection(){return Bt},disableImageDrag:_i,enableImageDrag:wi,preventOutline:Si,restoreOutline:Xt,getSizedParentNode:po,getScale:xi};function Z(e,t,o,n){if(t&&typeof t=="object")for(var s in t)Li(e,s,t[s],o);else{t=ne(t);for(var l=0,u=t.length;l<u;l++)Li(e,t[l],o,n)}return this}var Ge="_leaflet_events";function de(e,t,o,n){if(arguments.length===1)ho(e),delete e[Ge];else if(t&&typeof t=="object")for(var s in t)Ii(e,s,t[s],o);else if(t=ne(t),arguments.length===2)ho(e,function(f){return je(t,f)!==-1});else for(var l=0,u=t.length;l<u;l++)Ii(e,t[l],o,n);return this}function ho(e,t){for(var o in e[Ge]){var n=o.split(/\d/)[0];(!t||t(n))&&Ii(e,n,null,null,o)}}var ki={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Li(e,t,o,n){var s=t+C(o)+(n?"_"+C(n):"");if(e[Ge]&&e[Ge][s])return this;var l=function(f){return o.call(n||e,f||window.event)},u=l;!E.touchNative&&E.pointer&&t.indexOf("touch")===0?l=Da(e,t,l):E.touch&&t==="dblclick"?l=ja(e,l):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(ki[t]||t,l,E.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(l=function(f){f=f||window.event,Mi(e,f)&&u(f)},e.addEventListener(ki[t],l,!1)):e.addEventListener(t,u,!1):e.attachEvent("on"+t,l),e[Ge]=e[Ge]||{},e[Ge][s]=l}function Ii(e,t,o,n,s){s=s||t+C(o)+(n?"_"+C(n):"");var l=e[Ge]&&e[Ge][s];if(!l)return this;!E.touchNative&&E.pointer&&t.indexOf("touch")===0?za(e,t,l):E.touch&&t==="dblclick"?Ua(e,l):"removeEventListener"in e?e.removeEventListener(ki[t]||t,l,!1):e.detachEvent("on"+t,l),e[Ge][s]=null}function dt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Pi(e){return Li(e,"wheel",dt),this}function Dt(e){return Z(e,"mousedown touchstart dblclick contextmenu",dt),e._leaflet_disable_click=!0,this}function ke(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function ut(e){return ke(e),dt(e),this}function fo(e){if(e.composedPath)return e.composedPath();for(var t=[],o=e.target;o;)t.push(o),o=o.parentNode;return t}function go(e,t){if(!t)return new M(e.clientX,e.clientY);var o=xi(t),n=o.boundingClientRect;return new M((e.clientX-n.left)/o.x-t.clientLeft,(e.clientY-n.top)/o.y-t.clientTop)}var Ga=E.linux&&E.chrome?window.devicePixelRatio:E.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vo(e){return E.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Ga:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Mi(e,t){var o=t.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var Ya={__proto__:null,on:Z,off:de,stopPropagation:dt,disableScrollPropagation:Pi,disableClickPropagation:Dt,preventDefault:ke,stop:ut,getPropagationPath:fo,getMousePosition:go,getWheelDelta:vo,isExternalTarget:Mi,addListener:Z,removeListener:de},bo=q.extend({run:function(e,t,o,n){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=ct(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,o=this._duration*1e3;t<o?this._runFrame(this._easeOut(t/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var o=this._startPos.add(this._offset.multiplyBy(e));t&&o._round(),_e(this._el,o),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),X=q.extend({options:{crs:pe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=ee(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(B(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=At&&E.any3d&&!E.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Z(this._proxy,uo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,o){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(B(e),t,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=d({animate:o.animate},o.zoom),o.pan=d({animate:o.animate,duration:o.duration},o.pan));var n=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,o.zoom):this._tryAnimatedPan(e,o.pan);if(n)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,o.pan&&o.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(E.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(E.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,o){var n=this.getZoomScale(t),s=this.getSize().divideBy(2),l=e instanceof M?e:this.latLngToContainerPoint(e),u=l.subtract(s).multiplyBy(1-1/n),f=this.containerPointToLatLng(s.add(u));return this.setView(f,t,{zoom:o})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():j(e);var o=$(t.paddingTopLeft||t.padding||[0,0]),n=$(t.paddingBottomRight||t.padding||[0,0]),s=this.getBoundsZoom(e,!1,o.add(n));if(s=typeof t.maxZoom=="number"?Math.min(t.maxZoom,s):s,s===1/0)return{center:e.getCenter(),zoom:s};var l=n.subtract(o).divideBy(2),u=this.project(e.getSouthWest(),s),f=this.project(e.getNorthEast(),s),v=this.unproject(u.add(f).divideBy(2).add(l),s);return{center:v,zoom:s}},fitBounds:function(e,t){if(e=j(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,t);return this.setView(o.center,o.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=$(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){V(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,o){if(o=o||{},o.animate===!1||!E.any3d)return this.setView(e,t,o);this._stop();var n=this.project(this.getCenter()),s=this.project(e),l=this.getSize(),u=this._zoom;e=B(e),t=t===void 0?u:t;var f=Math.max(l.x,l.y),v=f*this.getZoomScale(u,t),y=s.distanceTo(n)||1,k=1.42,z=k*k;function G(we){var ci=we?-1:1,Fn=we?v:f,Nn=v*v-f*f+ci*z*z*y*y,Rn=2*Fn*z*y,Ri=Nn/Rn,Jo=Math.sqrt(Ri*Ri+1)-Ri,qn=Jo<1e-9?-18:Math.log(Jo);return qn}function Pe(we){return(Math.exp(we)-Math.exp(-we))/2}function Se(we){return(Math.exp(we)+Math.exp(-we))/2}function Re(we){return Pe(we)/Se(we)}var Ae=G(0);function kt(we){return f*(Se(Ae)/Se(Ae+k*we))}function Bn(we){return f*(Se(Ae)*Re(Ae+k*we)-Pe(Ae))/z}function On(we){return 1-Math.pow(1-we,1.5)}var Dn=Date.now(),Ko=(G(1)-Ae)/k,zn=o.duration?1e3*o.duration:1e3*Ko*.8;function Xo(){var we=(Date.now()-Dn)/zn,ci=On(we)*Ko;we<=1?(this._flyToFrame=S(Xo,this),this._move(this.unproject(n.add(s.subtract(n).multiplyBy(Bn(ci)/y)),u),this.getScaleZoom(f/kt(ci),u),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),Xo.call(this),this},flyToBounds:function(e,t){var o=this._getBoundsCenterZoom(e,t);return this.flyTo(o.center,o.zoom,t)},setMaxBounds:function(e){return e=j(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var o=this.getCenter(),n=this._limitCenter(o,this._zoom,j(e));return o.equals(n)||this.panTo(n,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var o=$(t.paddingTopLeft||t.padding||[0,0]),n=$(t.paddingBottomRight||t.padding||[0,0]),s=this.project(this.getCenter()),l=this.project(e),u=this.getPixelBounds(),f=O([u.min.add(o),u.max.subtract(n)]),v=f.getSize();if(!f.contains(l)){this._enforcingBounds=!0;var y=l.subtract(f.getCenter()),k=f.extend(l).getSize().subtract(v);s.x+=y.x<0?-k.x:k.x,s.y+=y.y<0?-k.y:k.y,this.panTo(this.unproject(s),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=d({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),n=t.divideBy(2).round(),s=o.divideBy(2).round(),l=n.subtract(s);return!l.x&&!l.y?this:(e.animate&&e.pan?this.panBy(l):(e.pan&&this._rawPanBy(l),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=d({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=m(this._handleGeolocationResponse,this),o=m(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,o,e):navigator.geolocation.getCurrentPosition(t,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,o=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,o=e.coords.longitude,n=new D(t,o),s=n.toBounds(e.coords.accuracy*2),l=this._locateOptions;if(l.setView){var u=this.getBoundsZoom(s);this.setView(n,l.maxZoom?Math.min(u,l.maxZoom):u)}var f={latlng:n,bounds:s,timestamp:e.timestamp};for(var v in e.coords)typeof e.coords[v]=="number"&&(f[v]=e.coords[v]);this.fire("locationfound",f)}},addHandler:function(e,t){if(!t)return this;var o=this[e]=new t(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ue(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),n=J("div",o,t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new I(t,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,o){e=j(e),o=$(o||[0,0]);var n=this.getZoom()||0,s=this.getMinZoom(),l=this.getMaxZoom(),u=e.getNorthWest(),f=e.getSouthEast(),v=this.getSize().subtract(o),y=O(this.project(f,n),this.project(u,n)).getSize(),k=E.any3d?this.options.zoomSnap:1,z=v.x/y.x,G=v.y/y.y,Pe=t?Math.max(z,G):Math.min(z,G);return n=this.getScaleZoom(Pe,n),k&&(n=Math.round(n/(k/100))*(k/100),n=t?Math.ceil(n/k)*k:Math.floor(n/k)*k),Math.max(s,Math.min(l,n))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var o=this._getTopLeftPoint(e,t);return new A(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var o=this.options.crs;return t=t===void 0?this._zoom:t,o.scale(e)/o.scale(t)},getScaleZoom:function(e,t){var o=this.options.crs;t=t===void 0?this._zoom:t;var n=o.zoom(e*o.scale(t));return isNaN(n)?1/0:n},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(B(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng($(e),t)},layerPointToLatLng:function(e){var t=$(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(B(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(B(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(j(e))},distance:function(e,t){return this.options.crs.distance(B(e),B(t))},containerPointToLayerPoint:function(e){return $(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return $(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint($(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(e)))},mouseEventToContainerPoint:function(e){return go(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=mo(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Z(t,"scroll",this._onScroll,this),this._containerId=C(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&E.any3d,V(e,"leaflet-container"+(E.touch?" leaflet-touch":"")+(E.retina?" leaflet-retina":"")+(E.ielt9?" leaflet-oldie":"")+(E.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=$t(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&t!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(V(e.markerPane,"leaflet-zoom-hide"),V(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,o){_e(this._mapPane,new M(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var s=this._zoom!==t;this._moveStart(s,o)._move(e,t)._moveEnd(s),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,o,n){t===void 0&&(t=this._zoom);var s=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),n?o&&o.pinch&&this.fire("zoom",o):((s||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){_e(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[C(this._container)]=this;var t=e?de:Z;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),E.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=S(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var o=[],n,s=t==="mouseout"||t==="mouseover",l=e.target||e.srcElement,u=!1;l;){if(n=this._targets[C(l)],n&&(t==="click"||t==="preclick")&&this._draggableMoved(n)){u=!0;break}if(n&&n.listens(t,!0)&&(s&&!Mi(l,e)||(o.push(n),s))||l===this._container)break;l=l.parentNode}return!o.length&&!u&&!s&&this.listens(t,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var o=e.type;o==="mousedown"&&Si(t),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,o){if(e.type==="click"){var n=d({},e);n.type="preclick",this._fireDOMEvent(n,n.type,o)}var s=this._findEventTargets(e,t);if(o){for(var l=[],u=0;u<o.length;u++)o[u].listens(t,!0)&&l.push(o[u]);s=l.concat(s)}if(s.length){t==="contextmenu"&&ke(e);var f=s[0],v={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var y=f.getLatLng&&(!f._radius||f._radius<=10);v.containerPoint=y?this.latLngToContainerPoint(f.getLatLng()):this.mouseEventToContainerPoint(e),v.layerPoint=this.containerPointToLayerPoint(v.containerPoint),v.latlng=y?f.getLatLng():this.layerPointToLatLng(v.layerPoint)}for(u=0;u<s.length;u++)if(s[u].fire(t,v,!0),v.originalEvent._stopped||s[u].options.bubblingMouseEvents===!1&&je(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return ct(this._mapPane)||new M(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var o=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var o=this.getSize()._divideBy(2);return this.project(e,t)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,o){var n=this._getNewPixelOrigin(o,t);return this.project(e,t)._subtract(n)},_latLngBoundsToNewLayerBounds:function(e,t,o){var n=this._getNewPixelOrigin(o,t);return O([this.project(e.getSouthWest(),t)._subtract(n),this.project(e.getNorthWest(),t)._subtract(n),this.project(e.getSouthEast(),t)._subtract(n),this.project(e.getNorthEast(),t)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,o){if(!o)return e;var n=this.project(e,t),s=this.getSize().divideBy(2),l=new A(n.subtract(s),n.add(s)),u=this._getBoundsOffset(l,o,t);return Math.abs(u.x)<=1&&Math.abs(u.y)<=1?e:this.unproject(n.add(u),t)},_limitOffset:function(e,t){if(!t)return e;var o=this.getPixelBounds(),n=new A(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(n,t))},_getBoundsOffset:function(e,t,o){var n=O(this.project(t.getNorthEast(),o),this.project(t.getSouthWest(),o)),s=n.min.subtract(e.min),l=n.max.subtract(e.max),u=this._rebound(s.x,-l.x),f=this._rebound(s.y,-l.y);return new M(u,f)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),o=this.getMaxZoom(),n=E.any3d?this.options.zoomSnap:1;return n&&(e=Math.round(e/n)*n),Math.max(t,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var o=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,t),!0)},_createAnimProxy:function(){var e=this._proxy=J("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var o=gi,n=this._proxy.style[o];lt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ue(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();lt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(t),s=this._getCenterOffset(e)._divideBy(1-1/n);return o.animate!==!0&&!this.getSize().contains(s)?!1:(S(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,o,n){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,V(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:n}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ka(e,t){return new X(e,t)}var Ze=ae.extend({options:{position:"topright"},initialize:function(e){ee(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),o=this.getPosition(),n=e._controlCorners[o];return V(t,"leaflet-control"),o.indexOf("bottom")!==-1?n.insertBefore(t,n.firstChild):n.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ue(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),zt=function(e){return new Ze(e)};X.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",o=this._controlContainer=J("div",t+"control-container",this._container);function n(s,l){var u=t+s+" "+t+l;e[s+l]=J("div",u,o)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ue(this._controlCorners[e]);ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yo=Ze.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,o,n){return o<n?-1:n<o?1:0}},initialize:function(e,t,o){ee(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var n in e)this._addLayer(e[n],n);for(n in t)this._addLayer(t[n],n,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ze.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(C(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){V(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(V(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=J("div",e),o=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Dt(t),Pi(t);var n=this._section=J("section",e+"-list");o&&(this._map.on("click",this.collapse,this),Z(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var s=this._layersLink=J("a",e+"-toggle",t);s.href="#",s.title="Layers",s.setAttribute("role","button"),Z(s,{keydown:function(l){l.keyCode===13&&this._expandSafely()},click:function(l){ke(l),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=J("div",e+"-base",n),this._separator=J("div",e+"-separator",n),this._overlaysList=J("div",e+"-overlays",n),t.appendChild(n)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&C(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:o}),this.options.sortLayers&&this._layers.sort(m(function(n,s){return this.options.sortFunction(n.layer,s.layer,n.name,s.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Wt(this._baseLayersList),Wt(this._overlaysList),this._layerControlInputs=[];var e,t,o,n,s=0;for(o=0;o<this._layers.length;o++)n=this._layers[o],this._addItem(n),t=t||n.overlay,e=e||!n.overlay,s+=n.overlay?0:1;return this.options.hideSingleBase&&(e=e&&s>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(C(e.target)),o=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,t)},_createRadioElement:function(e,t){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=o,n.firstChild},_addItem:function(e){var t=document.createElement("label"),o=this._map.hasLayer(e.layer),n;e.overlay?(n=document.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=o):n=this._createRadioElement("leaflet-base-layers_"+C(this),o),this._layerControlInputs.push(n),n.layerId=C(e.layer),Z(n,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+e.name;var l=document.createElement("span");t.appendChild(l),l.appendChild(n),l.appendChild(s);var u=e.overlay?this._overlaysList:this._baseLayersList;return u.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,o,n=[],s=[];this._handlingClick=!0;for(var l=e.length-1;l>=0;l--)t=e[l],o=this._getLayer(t.layerId).layer,t.checked?n.push(o):t.checked||s.push(o);for(l=0;l<s.length;l++)this._map.hasLayer(s[l])&&this._map.removeLayer(s[l]);for(l=0;l<n.length;l++)this._map.hasLayer(n[l])||this._map.addLayer(n[l]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,o,n=this._map.getZoom(),s=e.length-1;s>=0;s--)t=e[s],o=this._getLayer(t.layerId).layer,t.disabled=o.options.minZoom!==void 0&&n<o.options.minZoom||o.options.maxZoom!==void 0&&n>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Z(e,"click",ke),this.expand();var t=this;setTimeout(function(){de(e,"click",ke),t._preventClick=!1})}}),Xa=function(e,t,o){return new yo(e,t,o)},Ti=Ze.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",o=J("div",t+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,t+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,t+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,o,n,s){var l=J("a",o,n);return l.innerHTML=e,l.href="#",l.title=t,l.setAttribute("role","button"),l.setAttribute("aria-label",t),Dt(l),Z(l,"click",ut),Z(l,"click",s,this),Z(l,"click",this._refocusOnMap,this),l},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ge(this._zoomInButton,t),ge(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(V(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(V(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});X.mergeOptions({zoomControl:!0}),X.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ti,this.addControl(this.zoomControl))});var Ja=function(e){return new Ti(e)},_o=Ze.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",o=J("div",t),n=this.options;return this._addScales(n,t+"-line",o),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,o){e.metric&&(this._mScale=J("div",t,o)),e.imperial&&(this._iScale=J("div",t,o))},_update:function(){var e=this._map,t=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),o=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,o,t/e)},_updateImperial:function(e){var t=e*3.2808399,o,n,s;t>5280?(o=t/5280,n=this._getRoundNum(o),this._updateScale(this._iScale,n+" mi",n/o)):(s=this._getRoundNum(t),this._updateScale(this._iScale,s+" ft",s/t))},_updateScale:function(e,t,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),o=e/t;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,t*o}}),Qa=function(e){return new _o(e)},en='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ai=Ze.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(E.inlineSvg?en+" ":"")+"Leaflet</a>"},initialize:function(e){ee(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=J("div","leaflet-control-attribution"),Dt(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});X.mergeOptions({attributionControl:!0}),X.addInitHook(function(){this.options.attributionControl&&new Ai().addTo(this)});var tn=function(e){return new Ai(e)};Ze.Layers=yo,Ze.Zoom=Ti,Ze.Scale=_o,Ze.Attribution=Ai,zt.layers=Xa,zt.zoom=Ja,zt.scale=Qa,zt.attribution=tn;var Ye=ae.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ye.addTo=function(e,t){return e.addHandler(t,this),this};var on={Events:re},wo=E.touch?"touchstart mousedown":"mousedown",rt=q.extend({options:{clickTolerance:3},initialize:function(e,t,o,n){ee(this,n),this._element=e,this._dragStartTarget=t||e,this._preventOutline=o},enable:function(){this._enabled||(Z(this._dragStartTarget,wo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rt._dragging===this&&this.finishDrag(!0),de(this._dragStartTarget,wo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!vi(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){rt._dragging===this&&this.finishDrag();return}if(!(rt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(rt._dragging=this,this._preventOutline&&Si(this._element),_i(),Et(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,o=po(this._element);this._startPoint=new M(t.clientX,t.clientY),this._startPos=ct(this._element),this._parentScale=xi(o);var n=e.type==="mousedown";Z(document,n?"mousemove":"touchmove",this._onMove,this),Z(document,n?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,o=new M(t.clientX,t.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,ke(e),this._moved||(this.fire("dragstart"),this._moved=!0,V(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),V(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),_e(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),de(document,"mousemove touchmove",this._onMove,this),de(document,"mouseup touchend touchcancel",this._onUp,this),wi(),Bt();var t=this._moved&&this._moving;this._moving=!1,rt._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Co(e,t,o){var n,s=[1,4,2,8],l,u,f,v,y,k,z,G;for(l=0,k=e.length;l<k;l++)e[l]._code=mt(e[l],t);for(f=0;f<4;f++){for(z=s[f],n=[],l=0,k=e.length,u=k-1;l<k;u=l++)v=e[l],y=e[u],v._code&z?y._code&z||(G=Jt(y,v,z,t,o),G._code=mt(G,t),n.push(G)):(y._code&z&&(G=Jt(y,v,z,t,o),G._code=mt(G,t),n.push(G)),n.push(v));e=n}return e}function So(e,t){var o,n,s,l,u,f,v,y,k;if(!e||e.length===0)throw new Error("latlngs not passed");Ne(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var z=B([0,0]),G=j(e),Pe=G.getNorthWest().distanceTo(G.getSouthWest())*G.getNorthEast().distanceTo(G.getNorthWest());Pe<1700&&(z=$i(e));var Se=e.length,Re=[];for(o=0;o<Se;o++){var Ae=B(e[o]);Re.push(t.project(B([Ae.lat-z.lat,Ae.lng-z.lng])))}for(f=v=y=0,o=0,n=Se-1;o<Se;n=o++)s=Re[o],l=Re[n],u=s.y*l.x-l.y*s.x,v+=(s.x+l.x)*u,y+=(s.y+l.y)*u,f+=u*3;f===0?k=Re[0]:k=[v/f,y/f];var kt=t.unproject($(k));return B([kt.lat+z.lat,kt.lng+z.lng])}function $i(e){for(var t=0,o=0,n=0,s=0;s<e.length;s++){var l=B(e[s]);t+=l.lat,o+=l.lng,n++}return B([t/n,o/n])}var an={__proto__:null,clipPolygon:Co,polygonCenter:So,centroid:$i};function xo(e,t){if(!t||!e.length)return e.slice();var o=t*t;return e=sn(e,o),e=rn(e,o),e}function ko(e,t,o){return Math.sqrt(Ft(e,t,o,!0))}function nn(e,t,o){return Ft(e,t,o)}function rn(e,t){var o=e.length,n=typeof Uint8Array<"u"?Uint8Array:Array,s=new n(o);s[0]=s[o-1]=1,Ei(e,s,t,0,o-1);var l,u=[];for(l=0;l<o;l++)s[l]&&u.push(e[l]);return u}function Ei(e,t,o,n,s){var l=0,u,f,v;for(f=n+1;f<=s-1;f++)v=Ft(e[f],e[n],e[s],!0),v>l&&(u=f,l=v);l>o&&(t[u]=1,Ei(e,t,o,n,u),Ei(e,t,o,u,s))}function sn(e,t){for(var o=[e[0]],n=1,s=0,l=e.length;n<l;n++)ln(e[n],e[s])>t&&(o.push(e[n]),s=n);return s<l-1&&o.push(e[l-1]),o}var Lo;function Io(e,t,o,n,s){var l=n?Lo:mt(e,o),u=mt(t,o),f,v,y;for(Lo=u;;){if(!(l|u))return[e,t];if(l&u)return!1;f=l||u,v=Jt(e,t,f,o,s),y=mt(v,o),f===l?(e=v,l=y):(t=v,u=y)}}function Jt(e,t,o,n,s){var l=t.x-e.x,u=t.y-e.y,f=n.min,v=n.max,y,k;return o&8?(y=e.x+l*(v.y-e.y)/u,k=v.y):o&4?(y=e.x+l*(f.y-e.y)/u,k=f.y):o&2?(y=v.x,k=e.y+u*(v.x-e.x)/l):o&1&&(y=f.x,k=e.y+u*(f.x-e.x)/l),new M(y,k,s)}function mt(e,t){var o=0;return e.x<t.min.x?o|=1:e.x>t.max.x&&(o|=2),e.y<t.min.y?o|=4:e.y>t.max.y&&(o|=8),o}function ln(e,t){var o=t.x-e.x,n=t.y-e.y;return o*o+n*n}function Ft(e,t,o,n){var s=t.x,l=t.y,u=o.x-s,f=o.y-l,v=u*u+f*f,y;return v>0&&(y=((e.x-s)*u+(e.y-l)*f)/v,y>1?(s=o.x,l=o.y):y>0&&(s+=u*y,l+=f*y)),u=e.x-s,f=e.y-l,n?u*u+f*f:new M(s,l)}function Ne(e){return!be(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Po(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ne(e)}function Mo(e,t){var o,n,s,l,u,f,v,y;if(!e||e.length===0)throw new Error("latlngs not passed");Ne(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var k=B([0,0]),z=j(e),G=z.getNorthWest().distanceTo(z.getSouthWest())*z.getNorthEast().distanceTo(z.getNorthWest());G<1700&&(k=$i(e));var Pe=e.length,Se=[];for(o=0;o<Pe;o++){var Re=B(e[o]);Se.push(t.project(B([Re.lat-k.lat,Re.lng-k.lng])))}for(o=0,n=0;o<Pe-1;o++)n+=Se[o].distanceTo(Se[o+1])/2;if(n===0)y=Se[0];else for(o=0,l=0;o<Pe-1;o++)if(u=Se[o],f=Se[o+1],s=u.distanceTo(f),l+=s,l>n){v=(l-n)/s,y=[f.x-v*(f.x-u.x),f.y-v*(f.y-u.y)];break}var Ae=t.unproject($(y));return B([Ae.lat+k.lat,Ae.lng+k.lng])}var cn={__proto__:null,simplify:xo,pointToSegmentDistance:ko,closestPointOnSegment:nn,clipSegment:Io,_getEdgeIntersection:Jt,_getBitCode:mt,_sqClosestPointOnSegment:Ft,isFlat:Ne,_flat:Po,polylineCenter:Mo},Bi={project:function(e){return new M(e.lng,e.lat)},unproject:function(e){return new D(e.y,e.x)},bounds:new A([-180,-90],[180,90])},Oi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,o=this.R,n=e.lat*t,s=this.R_MINOR/o,l=Math.sqrt(1-s*s),u=l*Math.sin(n),f=Math.tan(Math.PI/4-n/2)/Math.pow((1-u)/(1+u),l/2);return n=-o*Math.log(Math.max(f,1e-10)),new M(e.lng*t*o,n)},unproject:function(e){for(var t=180/Math.PI,o=this.R,n=this.R_MINOR/o,s=Math.sqrt(1-n*n),l=Math.exp(-e.y/o),u=Math.PI/2-2*Math.atan(l),f=0,v=.1,y;f<15&&Math.abs(v)>1e-7;f++)y=s*Math.sin(u),y=Math.pow((1-y)/(1+y),s/2),v=Math.PI/2-2*Math.atan(l*y)-u,u+=v;return new D(u*t,e.x*t/o)}},dn={__proto__:null,LonLat:Bi,Mercator:Oi,SphericalMercator:se},un=d({},R,{code:"EPSG:3395",projection:Oi,transformation:function(){var e=.5/(Math.PI*Oi.R);return ie(e,.5,-e,.5)}()}),To=d({},R,{code:"EPSG:4326",projection:Bi,transformation:ie(1/180,1,-1/180,.5)}),mn=d({},me,{projection:Bi,transformation:ie(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var o=t.lng-e.lng,n=t.lat-e.lat;return Math.sqrt(o*o+n*n)},infinite:!0});me.Earth=R,me.EPSG3395=un,me.EPSG3857=pe,me.EPSG900913=le,me.EPSG4326=To,me.Simple=mn;var He=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[C(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[C(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var o=this.getEvents();t.on(o,this),this.once("remove",function(){t.off(o,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});X.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=C(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=C(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return C(e)in this._layers},eachLayer:function(e,t){for(var o in this._layers)e.call(t,this._layers[o]);return this},_addLayers:function(e){e=e?be(e)?e:[e]:[];for(var t=0,o=e.length;t<o;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[C(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=C(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,o=this._getZoomSpan();for(var n in this._zoomBoundLayers){var s=this._zoomBoundLayers[n].options;e=s.minZoom===void 0?e:Math.min(e,s.minZoom),t=s.maxZoom===void 0?t:Math.max(t,s.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _t=He.extend({initialize:function(e,t){ee(this,t),this._layers={};var o,n;if(e)for(o=0,n=e.length;o<n;o++)this.addLayer(e[o])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),o,n;for(o in this._layers)n=this._layers[o],n[e]&&n[e].apply(n,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var o in this._layers)e.call(t,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return C(e)}}),pn=function(e,t){return new _t(e,t)},et=_t.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),_t.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),_t.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new I;for(var t in this._layers){var o=this._layers[t];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),hn=function(e,t){return new et(e,t)},wt=ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){ee(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(o,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(n,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),n},_setIconStyles:function(e,t){var o=this.options,n=o[t+"Size"];typeof n=="number"&&(n=[n,n]);var s=$(n),l=$(t==="shadow"&&o.shadowAnchor||o.iconAnchor||s&&s.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(o.className||""),l&&(e.style.marginLeft=-l.x+"px",e.style.marginTop=-l.y+"px"),s&&(e.style.width=s.x+"px",e.style.height=s.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return E.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function fn(e){return new wt(e)}var Nt=wt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Nt.imagePath!="string"&&(Nt.imagePath=this._detectIconPath()),(this.options.imagePath||Nt.imagePath)+wt.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(o,n,s){var l=n.exec(o);return l&&l[s]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=J("div","leaflet-default-icon-path",document.body),t=$t(e,"background-image")||$t(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Ao=Ye.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new rt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),V(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,o=t._map,n=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,l=ct(t._icon),u=o.getPixelBounds(),f=o.getPixelOrigin(),v=O(u.min._subtract(f).add(s),u.max._subtract(f).subtract(s));if(!v.contains(l)){var y=$((Math.max(v.max.x,l.x)-v.max.x)/(u.max.x-v.max.x)-(Math.min(v.min.x,l.x)-v.min.x)/(u.min.x-v.min.x),(Math.max(v.max.y,l.y)-v.max.y)/(u.max.y-v.max.y)-(Math.min(v.min.y,l.y)-v.min.y)/(u.min.y-v.min.y)).multiplyBy(n);o.panBy(y,{animate:!1}),this._draggable._newPos._add(y),this._draggable._startPos._add(y),_e(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=S(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,o=t._shadow,n=ct(t._icon),s=t._map.layerPointToLatLng(n);o&&_e(o,n),t._latlng=s,e.latlng=s,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Qt=He.extend({options:{icon:new Nt,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){ee(this,t),this._latlng=B(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),n=!1;o!==this._icon&&(this._icon&&this._removeIcon(),n=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),V(o,t),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Z(o,"focus",this._panOnFocus,this);var s=e.icon.createShadow(this._shadow),l=!1;s!==this._shadow&&(this._removeShadow(),l=!0),s&&(V(s,t),s.alt=""),this._shadow=s,e.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&l&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&de(this._icon,"focus",this._panOnFocus,this),ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ue(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&_e(this._icon,e),this._shadow&&_e(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(V(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ao)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ao(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Fe(this._icon,e),this._shadow&&Fe(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,o=t.iconSize?$(t.iconSize):$(0,0),n=t.iconAnchor?$(t.iconAnchor):$(0,0);e.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:o.subtract(n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gn(e,t){return new Qt(e,t)}var st=He.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return ee(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ei=st.extend({options:{fill:!0,radius:10},initialize:function(e,t){ee(this,t),this._latlng=B(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return st.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,o=this._clickTolerance(),n=[e+o,t+o];this._pxBounds=new A(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vn(e,t){return new ei(e,t)}var Di=ei.extend({initialize:function(e,t,o){if(typeof t=="number"&&(t=d({},o,{radius:t})),ee(this,t),this._latlng=B(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new I(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:st.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,o=this._map,n=o.options.crs;if(n.distance===R.distance){var s=Math.PI/180,l=this._mRadius/R.R/s,u=o.project([t+l,e]),f=o.project([t-l,e]),v=u.add(f).divideBy(2),y=o.unproject(v).lat,k=Math.acos((Math.cos(l*s)-Math.sin(t*s)*Math.sin(y*s))/(Math.cos(t*s)*Math.cos(y*s)))/s;(isNaN(k)||k===0)&&(k=l/Math.cos(Math.PI/180*t)),this._point=v.subtract(o.getPixelOrigin()),this._radius=isNaN(k)?0:v.x-o.project([y,e-k]).x,this._radiusY=v.y-u.y}else{var z=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(z).x}this._updateBounds()}});function bn(e,t,o){return new Di(e,t,o)}var tt=st.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){ee(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,o=null,n=Ft,s,l,u=0,f=this._parts.length;u<f;u++)for(var v=this._parts[u],y=1,k=v.length;y<k;y++){s=v[y-1],l=v[y];var z=n(e,s,l,!0);z<t&&(t=z,o=n(e,s,l))}return o&&(o.distance=Math.sqrt(t)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=B(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new I,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ne(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],o=Ne(e),n=0,s=e.length;n<s;n++)o?(t[n]=B(e[n]),this._bounds.extend(t[n])):t[n]=this._convertLatLngs(e[n]);return t},_project:function(){var e=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new M(e,e);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,o){var n=e[0]instanceof D,s=e.length,l,u;if(n){for(u=[],l=0;l<s;l++)u[l]=this._map.latLngToLayerPoint(e[l]),o.extend(u[l]);t.push(u)}else for(l=0;l<s;l++)this._projectLatlngs(e[l],t,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,o,n,s,l,u,f,v;for(o=0,s=0,l=this._rings.length;o<l;o++)for(v=this._rings[o],n=0,u=v.length;n<u-1;n++)f=Io(v[n],v[n+1],e,n,!0),f&&(t[s]=t[s]||[],t[s].push(f[0]),(f[1]!==v[n+1]||n===u-2)&&(t[s].push(f[1]),s++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,o=0,n=e.length;o<n;o++)e[o]=xo(e[o],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var o,n,s,l,u,f,v=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,l=this._parts.length;o<l;o++)for(f=this._parts[o],n=0,u=f.length,s=u-1;n<u;s=n++)if(!(!t&&n===0)&&ko(e,f[s],f[n])<=v)return!0;return!1}});function yn(e,t){return new tt(e,t)}tt._flat=Po;var Ct=tt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return So(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=tt.prototype._convertLatLngs.call(this,e),o=t.length;return o>=2&&t[0]instanceof D&&t[0].equals(t[o-1])&&t.pop(),t},_setLatLngs:function(e){tt.prototype._setLatLngs.call(this,e),Ne(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ne(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,o=new M(t,t);if(e=new A(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var n=0,s=this._rings.length,l;n<s;n++)l=Co(this._rings[n],e,!0),l.length&&this._parts.push(l)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,o,n,s,l,u,f,v,y;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(l=0,v=this._parts.length;l<v;l++)for(o=this._parts[l],u=0,y=o.length,f=y-1;u<y;f=u++)n=o[u],s=o[f],n.y>e.y!=s.y>e.y&&e.x<(s.x-n.x)*(e.y-n.y)/(s.y-n.y)+n.x&&(t=!t);return t||tt.prototype._containsPoint.call(this,e,!0)}});function _n(e,t){return new Ct(e,t)}var it=et.extend({initialize:function(e,t){ee(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=be(e)?e:e.features,o,n,s;if(t){for(o=0,n=t.length;o<n;o++)s=t[o],(s.geometries||s.geometry||s.features||s.coordinates)&&this.addData(s);return this}var l=this.options;if(l.filter&&!l.filter(e))return this;var u=ti(e,l);return u?(u.feature=ai(e),u.defaultOptions=u.options,this.resetStyle(u),l.onEachFeature&&l.onEachFeature(e,u),this.addLayer(u)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=d({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function ti(e,t){var o=e.type==="Feature"?e.geometry:e,n=o?o.coordinates:null,s=[],l=t&&t.pointToLayer,u=t&&t.coordsToLatLng||zi,f,v,y,k;if(!n&&!o)return null;switch(o.type){case"Point":return f=u(n),$o(l,e,f,t);case"MultiPoint":for(y=0,k=n.length;y<k;y++)f=u(n[y]),s.push($o(l,e,f,t));return new et(s);case"LineString":case"MultiLineString":return v=ii(n,o.type==="LineString"?0:1,u),new tt(v,t);case"Polygon":case"MultiPolygon":return v=ii(n,o.type==="Polygon"?1:2,u),new Ct(v,t);case"GeometryCollection":for(y=0,k=o.geometries.length;y<k;y++){var z=ti({geometry:o.geometries[y],type:"Feature",properties:e.properties},t);z&&s.push(z)}return new et(s);case"FeatureCollection":for(y=0,k=o.features.length;y<k;y++){var G=ti(o.features[y],t);G&&s.push(G)}return new et(s);default:throw new Error("Invalid GeoJSON object.")}}function $o(e,t,o,n){return e?e(t,o):new Qt(o,n&&n.markersInheritOptions&&n)}function zi(e){return new D(e[1],e[0],e[2])}function ii(e,t,o){for(var n=[],s=0,l=e.length,u;s<l;s++)u=t?ii(e[s],t-1,o):(o||zi)(e[s]),n.push(u);return n}function Fi(e,t){return e=B(e),e.alt!==void 0?[T(e.lng,t),T(e.lat,t),T(e.alt,t)]:[T(e.lng,t),T(e.lat,t)]}function oi(e,t,o,n){for(var s=[],l=0,u=e.length;l<u;l++)s.push(t?oi(e[l],Ne(e[l])?0:t-1,o,n):Fi(e[l],n));return!t&&o&&s.length>0&&s.push(s[0].slice()),s}function St(e,t){return e.feature?d({},e.feature,{geometry:t}):ai(t)}function ai(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Ni={toGeoJSON:function(e){return St(this,{type:"Point",coordinates:Fi(this.getLatLng(),e)})}};Qt.include(Ni),Di.include(Ni),ei.include(Ni),tt.include({toGeoJSON:function(e){var t=!Ne(this._latlngs),o=oi(this._latlngs,t?1:0,!1,e);return St(this,{type:(t?"Multi":"")+"LineString",coordinates:o})}}),Ct.include({toGeoJSON:function(e){var t=!Ne(this._latlngs),o=t&&!Ne(this._latlngs[0]),n=oi(this._latlngs,o?2:t?1:0,!0,e);return t||(n=[n]),St(this,{type:(o?"Multi":"")+"Polygon",coordinates:n})}}),_t.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(o){t.push(o.toGeoJSON(e).geometry.coordinates)}),St(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var o=t==="GeometryCollection",n=[];return this.eachLayer(function(s){if(s.toGeoJSON){var l=s.toGeoJSON(e);if(o)n.push(l.geometry);else{var u=ai(l);u.type==="FeatureCollection"?n.push.apply(n,u.features):n.push(u)}}}),o?St(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});function Eo(e,t){return new it(e,t)}var wn=Eo,ni=He.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,o){this._url=e,this._bounds=j(t),ee(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(V(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&bt(this._image),this},bringToBack:function(){return this._map&&yt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=j(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:J("img");if(V(t,"leaflet-image-layer"),this._zoomAnimated&&V(t,"leaflet-zoom-animated"),this.options.className&&V(t,this.options.className),t.onselectstart=F,t.onmousemove=F,t.onload=m(this.fire,this,"load"),t.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;lt(this._image,o,t)},_reset:function(){var e=this._image,t=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=t.getSize();_e(e,t.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){Fe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Cn=function(e,t,o){return new ni(e,t,o)},Bo=ni.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:J("video");if(V(t,"leaflet-image-layer"),this._zoomAnimated&&V(t,"leaflet-zoom-animated"),this.options.className&&V(t,this.options.className),t.onselectstart=F,t.onmousemove=F,t.onloadeddata=m(this.fire,this,"load"),e){for(var o=t.getElementsByTagName("source"),n=[],s=0;s<o.length;s++)n.push(o[s].src);this._url=o.length>0?n:[t.src];return}be(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var l=0;l<this._url.length;l++){var u=J("source");u.src=this._url[l],t.appendChild(u)}}});function Sn(e,t,o){return new Bo(e,t,o)}var Oo=ni.extend({_initImage:function(){var e=this._image=this._url;V(e,"leaflet-image-layer"),this._zoomAnimated&&V(e,"leaflet-zoom-animated"),this.options.className&&V(e,this.options.className),e.onselectstart=F,e.onmousemove=F}});function xn(e,t,o){return new Oo(e,t,o)}var Ke=He.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof D||be(e))?(this._latlng=B(e),ee(this,t)):(ee(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Fe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Fe(this._container,1),this.bringToFront(),this.options.interactive&&(V(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Fe(this._container,0),this._removeTimeout=setTimeout(m(ue,void 0,this._container),200)):ue(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=B(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bt(this._container),this},bringToBack:function(){return this._map&&yt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof et){t=null;var o=this._source._layers;for(var n in o)if(o[n]._map){t=o[n];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=$(this.options.offset),o=this._getAnchor();this._zoomAnimated?_e(this._container,e.add(o)):t=t.add(e).add(o);var n=this._containerBottom=-t.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=n+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}});X.include({_initOverlay:function(e,t,o,n){var s=t;return s instanceof e||(s=new e(n).setContent(t)),o&&s.setLatLng(o),s}}),He.include({_initOverlay:function(e,t,o,n){var s=o;return s instanceof e?(ee(s,n),s._source=this):(s=t&&!n?t:new e(n,this),s.setContent(o)),s}});var ri=Ke.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ke.prototype.openOn.call(this,e)},onAdd:function(e){Ke.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof st||this._source.on("preclick",dt))},onRemove:function(e){Ke.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof st||this._source.off("preclick",dt))},getEvents:function(){var e=Ke.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=J("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=J("div",e+"-content-wrapper",t);if(this._contentNode=J("div",e+"-content",o),Dt(t),Pi(this._contentNode),Z(t,"contextmenu",dt),this._tipContainer=J("div",e+"-tip-container",t),this._tip=J("div",e+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=J("a",e+"-close-button",t);n.setAttribute("role","button"),n.setAttribute("aria-label","Close popup"),n.href="#close",n.innerHTML='<span aria-hidden="true">&#215;</span>',Z(n,"click",function(s){ke(s),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),t.width=o+1+"px",t.whiteSpace="",t.height="";var n=e.offsetHeight,s=this.options.maxHeight,l="leaflet-popup-scrolled";s&&n>s?(t.height=s+"px",V(e,l)):ge(e,l),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();_e(this._container,t.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt($t(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+t,n=this._containerWidth,s=new M(this._containerLeft,-o-this._containerBottom);s._add(ct(this._container));var l=e.layerPointToContainerPoint(s),u=$(this.options.autoPanPadding),f=$(this.options.autoPanPaddingTopLeft||u),v=$(this.options.autoPanPaddingBottomRight||u),y=e.getSize(),k=0,z=0;l.x+n+v.x>y.x&&(k=l.x+n-y.x+v.x),l.x-k-f.x<0&&(k=l.x-f.x),l.y+o+v.y>y.y&&(z=l.y+o-y.y+v.y),l.y-z-f.y<0&&(z=l.y-f.y),(k||z)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([k,z]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),kn=function(e,t){return new ri(e,t)};X.mergeOptions({closePopupOnClick:!0}),X.include({openPopup:function(e,t,o){return this._initOverlay(ri,e,t,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),He.include({bindPopup:function(e,t){return this._popup=this._initOverlay(ri,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof et||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){ut(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof st)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var si=Ke.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ke.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ke.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ke.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=J("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+C(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,o,n=this._map,s=this._container,l=n.latLngToContainerPoint(n.getCenter()),u=n.layerPointToContainerPoint(e),f=this.options.direction,v=s.offsetWidth,y=s.offsetHeight,k=$(this.options.offset),z=this._getAnchor();f==="top"?(t=v/2,o=y):f==="bottom"?(t=v/2,o=0):f==="center"?(t=v/2,o=y/2):f==="right"?(t=0,o=y/2):f==="left"?(t=v,o=y/2):u.x<l.x?(f="right",t=0,o=y/2):(f="left",t=v+(k.x+z.x)*2,o=y/2),e=e.subtract($(t,o,!0)).add(k).add(z),ge(s,"leaflet-tooltip-right"),ge(s,"leaflet-tooltip-left"),ge(s,"leaflet-tooltip-top"),ge(s,"leaflet-tooltip-bottom"),V(s,"leaflet-tooltip-"+f),_e(s,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Fe(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ln=function(e,t){return new si(e,t)};X.include({openTooltip:function(e,t,o){return this._initOverlay(si,e,t,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),He.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(si,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[t](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof et||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&(Z(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Z(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,o,n;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(o),t=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(t)}});var Do=wt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Wt(t),t.appendChild(o.html)):t.innerHTML=o.html!==!1?o.html:"",o.bgPos){var n=$(o.bgPos);t.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function In(e){return new Do(e)}wt.Default=Nt;var Rt=He.extend({options:{tileSize:256,opacity:1,updateWhenIdle:E.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){ee(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ue(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof M?e:new M(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,o=-e(-1/0,1/0),n=0,s=t.length,l;n<s;n++)l=t[n].style.zIndex,t[n]!==this._container&&l&&(o=e(o,+l));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!E.ielt9){Fe(this._container,this.options.opacity);var e=+new Date,t=!1,o=!1;for(var n in this._tiles){var s=this._tiles[n];if(!(!s.current||!s.loaded)){var l=Math.min(1,(e-s.loaded)/200);Fe(s.el,l),l<1?t=!0:(s.active?o=!0:this._onOpaqueTile(s),s.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),t&&(x(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:F,_initContainer:function(){this._container||(this._container=J("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=t-Math.abs(e-o),this._onUpdateLevel(o)):(ue(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var n=this._levels[e],s=this._map;return n||(n=this._levels[e]={},n.el=J("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=t,n.origin=s.project(s.unproject(s.getPixelOrigin()),e).round(),n.zoom=e,this._setZoomTransform(n,s.getCenter(),s.getZoom()),F(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:F,_onRemoveLevel:F,_onCreateLevel:F,_pruneTiles:function(){if(this._map){var e,t,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ue(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,o,n){var s=Math.floor(e/2),l=Math.floor(t/2),u=o-1,f=new M(+s,+l);f.z=+u;var v=this._tileCoordsToKey(f),y=this._tiles[v];return y&&y.active?(y.retain=!0,!0):(y&&y.loaded&&(y.retain=!0),u>n?this._retainParent(s,l,u,n):!1)},_retainChildren:function(e,t,o,n){for(var s=2*e;s<2*e+2;s++)for(var l=2*t;l<2*t+2;l++){var u=new M(s,l);u.z=o+1;var f=this._tileCoordsToKey(u),v=this._tiles[f];if(v&&v.active){v.retain=!0;continue}else v&&v.loaded&&(v.retain=!0);o+1<n&&this._retainChildren(s,l,o+1,n)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,o,n){var s=Math.round(t);this.options.maxZoom!==void 0&&s>this.options.maxZoom||this.options.minZoom!==void 0&&s<this.options.minZoom?s=void 0:s=this._clampZoom(s);var l=this.options.updateWhenZooming&&s!==this._tileZoom;(!n||l)&&(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,t)},_setZoomTransform:function(e,t,o){var n=this._map.getZoomScale(o,e.zoom),s=e.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(t,o)).round();E.any3d?lt(e.el,s,n):_e(e.el,s)},_resetGrid:function(){var e=this._map,t=e.options.crs,o=this._tileSize=this.getTileSize(),n=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],n).x/o.x),Math.ceil(e.project([0,t.wrapLng[1]],n).x/o.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],n).y/o.x),Math.ceil(e.project([t.wrapLat[1],0],n).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,o=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),n=t.getZoomScale(o,this._tileZoom),s=t.project(e,this._tileZoom).floor(),l=t.getSize().divideBy(n*2);return new A(s.subtract(l),s.add(l))},_update:function(e){var t=this._map;if(t){var o=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var n=this._getTiledPixelBounds(e),s=this._pxBoundsToTileRange(n),l=s.getCenter(),u=[],f=this.options.keepBuffer,v=new A(s.getBottomLeft().subtract([f,-f]),s.getTopRight().add([f,-f]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var y in this._tiles){var k=this._tiles[y].coords;(k.z!==this._tileZoom||!v.contains(new M(k.x,k.y)))&&(this._tiles[y].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var z=s.min.y;z<=s.max.y;z++)for(var G=s.min.x;G<=s.max.x;G++){var Pe=new M(G,z);if(Pe.z=this._tileZoom,!!this._isValidTile(Pe)){var Se=this._tiles[this._tileCoordsToKey(Pe)];Se?Se.current=!0:u.push(Pe)}}if(u.sort(function(Ae,kt){return Ae.distanceTo(l)-kt.distanceTo(l)}),u.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Re=document.createDocumentFragment();for(G=0;G<u.length;G++)this._addTile(u[G],Re);this._level.el.appendChild(Re)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var o=this._globalTileRange;if(!t.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!t.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(e);return j(this.options.bounds).overlaps(n)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,o=this.getTileSize(),n=e.scaleBy(o),s=n.add(o),l=t.unproject(n,e.z),u=t.unproject(s,e.z);return[l,u]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),o=new I(t[0],t[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),o=new M(+t[0],+t[1]);return o.z=+t[2],o},_removeTile:function(e){var t=this._tiles[e];t&&(ue(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){V(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=F,e.onmousemove=F,E.ielt9&&this.options.opacity<1&&Fe(e,this.options.opacity)},_addTile:function(e,t){var o=this._getTilePos(e),n=this._tileCoordsToKey(e),s=this.createTile(this._wrapCoords(e),m(this._tileReady,this,e));this._initTile(s),this.createTile.length<2&&S(m(this._tileReady,this,e,null,s)),_e(s,o),this._tiles[n]={el:s,coords:e,current:!0},t.appendChild(s),this.fire("tileloadstart",{tile:s,coords:e})},_tileReady:function(e,t,o){t&&this.fire("tileerror",{error:t,tile:o,coords:e});var n=this._tileCoordsToKey(e);o=this._tiles[n],o&&(o.loaded=+new Date,this._map._fadeAnimated?(Fe(o.el,0),x(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),t||(V(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),E.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new M(this._wrapX?P(e.x,this._wrapX):e.x,this._wrapY?P(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new A(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Pn(e){return new Rt(e)}var xt=Rt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=ee(this,t),t.detectRetina&&E.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var o=document.createElement("img");return Z(o,"load",m(this._tileOnLoad,this,t,o)),Z(o,"error",m(this._tileOnError,this,t,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var t={r:E.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=o),t["-y"]=o}return ve(this._url,d(t,this.options))},_tileOnLoad:function(e,t){E.ielt9?setTimeout(m(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,o){var n=this.options.errorTileUrl;n&&t.getAttribute("src")!==n&&(t.src=n),e(o,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,o=this.options.zoomReverse,n=this.options.zoomOffset;return o&&(e=t-e),e+n},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=F,t.onerror=F,!t.complete)){t.src=Ue;var o=this._tiles[e].coords;ue(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:o})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",Ue),Rt.prototype._removeTile.call(this,e)},_tileReady:function(e,t,o){if(!(!this._map||o&&o.getAttribute("src")===Ue))return Rt.prototype._tileReady.call(this,e,t,o)}});function zo(e,t){return new xt(e,t)}var Fo=xt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var o=d({},this.defaultWmsParams);for(var n in t)n in this.options||(o[n]=t[n]);t=ee(this,t);var s=t.detectRetina&&E.retina?2:1,l=this.getTileSize();o.width=l.x*s,o.height=l.y*s,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,xt.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),o=this._crs,n=O(o.project(t[0]),o.project(t[1])),s=n.min,l=n.max,u=(this._wmsVersion>=1.3&&this._crs===To?[s.y,s.x,l.y,l.x]:[s.x,s.y,l.x,l.y]).join(","),f=xt.prototype.getTileUrl.call(this,e);return f+$e(this.wmsParams,f,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+u},setParams:function(e,t){return d(this.wmsParams,e),t||this.redraw(),this}});function Mn(e,t){return new Fo(e,t)}xt.WMS=Fo,zo.wms=Mn;var ot=He.extend({options:{padding:.1},initialize:function(e){ee(this,e),C(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),V(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var o=this._map.getZoomScale(t,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,t),l=n.multiplyBy(-o).add(s).subtract(this._map._getNewPixelOrigin(e,t));E.any3d?lt(this._container,l,o):_e(this._container,l)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),o=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new A(o,o.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),No=ot.extend({options:{tolerance:0},getEvents:function(){var e=ot.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ot.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Z(e,"mousemove",this._onMouseMove,this),Z(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Z(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,ue(this._container),de(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ot.prototype._update.call(this);var e=this._bounds,t=this._container,o=e.getSize(),n=E.retina?2:1;_e(t,e.min),t.width=n*o.x,t.height=n*o.y,t.style.width=o.x+"px",t.style.height=o.y+"px",E.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ot.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[C(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,o=t.next,n=t.prev;o?o.prev=n:this._drawLast=n,n?n.next=o:this._drawFirst=o,delete e._order,delete this._layers[C(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),o=[],n,s;for(s=0;s<t.length;s++){if(n=Number(t[s]),isNaN(n))return;o.push(n)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var o=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)e=n.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var o,n,s,l,u=e._parts,f=u.length,v=this._ctx;if(f){for(v.beginPath(),o=0;o<f;o++){for(n=0,s=u[o].length;n<s;n++)l=u[o][n],v[n?"lineTo":"moveTo"](l.x,l.y);t&&v.closePath()}this._fillStroke(v,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,o=this._ctx,n=Math.max(Math.round(e._radius),1),s=(Math.max(Math.round(e._radiusY),1)||n)/n;s!==1&&(o.save(),o.scale(1,s)),o.beginPath(),o.arc(t.x,t.y/s,n,0,Math.PI*2,!1),s!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,t){var o=t.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),o,n,s=this._drawFirst;s;s=s.next)o=s.layer,o.options.interactive&&o._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(n=o);this._fireEvent(n?[n]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ge(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var o,n,s=this._drawFirst;s;s=s.next)o=s.layer,o.options.interactive&&o._containsPoint(t)&&(n=o);n!==this._hoveredLayer&&(this._handleMouseOut(e),n&&(V(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseover"),this._hoveredLayer=n)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,o){this._map._fireDOMEvent(t,o||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var o=t.next,n=t.prev;if(o)o.prev=n;else return;n?n.next=o:o&&(this._drawFirst=o),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var o=t.next,n=t.prev;if(n)n.next=o;else return;o?o.prev=n:n&&(this._drawLast=n),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function Ro(e){return E.canvas?new No(e):null}var qt=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Tn={_initContainer:function(){this._container=J("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ot.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=qt("shape");V(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=qt("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[C(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ue(t),e.removeInteractiveTarget(t),delete this._layers[C(e)]},_updateStyle:function(e){var t=e._stroke,o=e._fill,n=e.options,s=e._container;s.stroked=!!n.stroke,s.filled=!!n.fill,n.stroke?(t||(t=e._stroke=qt("stroke")),s.appendChild(t),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=be(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=n.lineCap.replace("butt","flat"),t.joinstyle=n.lineJoin):t&&(s.removeChild(t),e._stroke=null),n.fill?(o||(o=e._fill=qt("fill")),s.appendChild(o),o.color=n.fillColor||n.color,o.opacity=n.fillOpacity):o&&(s.removeChild(o),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),o=Math.round(e._radius),n=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+o+","+n+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){bt(e._container)},_bringToBack:function(e){yt(e._container)}},li=E.vml?qt:te,Zt=ot.extend({_initContainer:function(){this._container=li("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=li("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ue(this._container),de(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ot.prototype._update.call(this);var e=this._bounds,t=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,o.setAttribute("width",t.x),o.setAttribute("height",t.y)),_e(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=li("path");e.options.className&&V(t,e.options.className),e.options.interactive&&V(t,"leaflet-interactive"),this._updateStyle(e),this._layers[C(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ue(e._path),e.removeInteractiveTarget(e._path),delete this._layers[C(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,o=e.options;t&&(o.stroke?(t.setAttribute("stroke",o.color),t.setAttribute("stroke-opacity",o.opacity),t.setAttribute("stroke-width",o.weight),t.setAttribute("stroke-linecap",o.lineCap),t.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?t.setAttribute("stroke-dasharray",o.dashArray):t.removeAttribute("stroke-dasharray"),o.dashOffset?t.setAttribute("stroke-dashoffset",o.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),o.fill?(t.setAttribute("fill",o.fillColor||o.color),t.setAttribute("fill-opacity",o.fillOpacity),t.setAttribute("fill-rule",o.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,U(e._parts,t))},_updateCircle:function(e){var t=e._point,o=Math.max(Math.round(e._radius),1),n=Math.max(Math.round(e._radiusY),1)||o,s="a"+o+","+n+" 0 1,0 ",l=e._empty()?"M0 0":"M"+(t.x-o)+","+t.y+s+o*2+",0 "+s+-o*2+",0 ";this._setPath(e,l)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){bt(e._path)},_bringToBack:function(e){yt(e._path)}});E.vml&&Zt.include(Tn);function qo(e){return E.svg||E.vml?new Zt(e):null}X.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Ro(e)||qo(e)}});var Zo=Ct.extend({initialize:function(e,t){Ct.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=j(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function An(e,t){return new Zo(e,t)}Zt.create=li,Zt.pointsToPath=U,it.geometryToLayer=ti,it.coordsToLatLng=zi,it.coordsToLatLngs=ii,it.latLngToCoords=Fi,it.latLngsToCoords=oi,it.getFeature=St,it.asFeature=ai,X.mergeOptions({boxZoom:!0});var Ho=Ye.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Z(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Et(),_i(),this._startPoint=this._map.mouseEventToContainerPoint(e),Z(document,{contextmenu:ut,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=J("div","leaflet-zoom-box",this._container),V(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new A(this._point,this._startPoint),o=t.getSize();_e(this._box,t.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(ue(this._box),ge(this._container,"leaflet-crosshair")),Bt(),wi(),de(document,{contextmenu:ut,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var t=new I(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});X.addInitHook("addHandler","boxZoom",Ho),X.mergeOptions({doubleClickZoom:!0});var jo=Ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,o=t.getZoom(),n=t.options.zoomDelta,s=e.originalEvent.shiftKey?o-n:o+n;t.options.doubleClickZoom==="center"?t.setZoom(s):t.setZoomAround(e.containerPoint,s)}});X.addInitHook("addHandler","doubleClickZoom",jo),X.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uo=Ye.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new rt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}V(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=j(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),o=this._initialWorldOffset,n=this._draggable._newPos.x,s=(n-t+o)%e+t-o,l=(n+t+o)%e-t-o,u=Math.abs(s+o)<Math.abs(l+o)?s:l;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=u},_onDragEnd:function(e){var t=this._map,o=t.options,n=!o.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),n)t.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),l=(this._lastTime-this._times[0])/1e3,u=o.easeLinearity,f=s.multiplyBy(u/l),v=f.distanceTo([0,0]),y=Math.min(o.inertiaMaxSpeed,v),k=f.multiplyBy(y/v),z=y/(o.inertiaDeceleration*u),G=k.multiplyBy(-z/2).round();!G.x&&!G.y?t.fire("moveend"):(G=t._limitOffset(G,t.options.maxBounds),S(function(){t.panBy(G,{duration:z,easeLinearity:u,noMoveStart:!0,animate:!0})}))}}});X.addInitHook("addHandler","dragging",Uo),X.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vo=Ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Z(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),de(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,o=e.scrollTop||t.scrollTop,n=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(n,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},o=this.keyCodes,n,s;for(n=0,s=o.left.length;n<s;n++)t[o.left[n]]=[-1*e,0];for(n=0,s=o.right.length;n<s;n++)t[o.right[n]]=[e,0];for(n=0,s=o.down.length;n<s;n++)t[o.down[n]]=[0,e];for(n=0,s=o.up.length;n<s;n++)t[o.up[n]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},o=this.keyCodes,n,s;for(n=0,s=o.zoomIn.length;n<s;n++)t[o.zoomIn[n]]=e;for(n=0,s=o.zoomOut.length;n<s;n++)t[o.zoomOut[n]]=-e},_addHooks:function(){Z(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){de(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,o=this._map,n;if(t in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(n=this._panKeys[t],e.shiftKey&&(n=$(n).multiplyBy(3)),o.options.maxBounds&&(n=o._limitOffset($(n),o.options.maxBounds)),o.options.worldCopyJump){var s=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(n)));o.panTo(s)}else o.panBy(n)}else if(t in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;ut(e)}}});X.addInitHook("addHandler","keyboard",Vo),X.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wo=Ye.extend({addHooks:function(){Z(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){de(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=vo(e),o=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var n=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),n),ut(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var n=this._delta/(this._map.options.wheelPxPerZoomLevel*4),s=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,l=o?Math.ceil(s/o)*o:s,u=e._limitZoom(t+(this._delta>0?l:-l))-t;this._delta=0,this._startTime=null,u&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+u):e.setZoomAround(this._lastMousePos,t+u))}});X.addInitHook("addHandler","scrollWheelZoom",Wo);var $n=600;X.mergeOptions({tapHold:E.touchNative&&E.safari&&E.mobile,tapTolerance:15});var Go=Ye.extend({addHooks:function(){Z(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new M(t.clientX,t.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Z(document,"touchend",ke),Z(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),$n),Z(document,"touchend touchcancel contextmenu",this._cancel,this),Z(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){de(document,"touchend",ke),de(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),de(document,"touchend touchcancel contextmenu",this._cancel,this),de(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new M(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});o._simulated=!0,t.target.dispatchEvent(o)}});X.addInitHook("addHandler","tapHold",Go),X.mergeOptions({touchZoom:E.touch,bounceAtZoomLimits:!0});var Yo=Ye.extend({addHooks:function(){V(this._map._container,"leaflet-touch-zoom"),Z(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var o=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(o.add(n)._divideBy(2))),this._startDist=o.distanceTo(n),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Z(document,"touchmove",this._onTouchMove,this),Z(document,"touchend touchcancel",this._onTouchEnd,this),ke(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,o=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]),s=o.distanceTo(n)/this._startDist;if(this._zoom=t.getScaleZoom(s,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&s<1||this._zoom>t.getMaxZoom()&&s>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,s===1)return}else{var l=o._add(n)._divideBy(2)._subtract(this._centerPoint);if(s===1&&l.x===0&&l.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(l),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),x(this._animRequest);var u=m(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(u,this,!0),ke(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,x(this._animRequest),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});X.addInitHook("addHandler","touchZoom",Yo),X.BoxZoom=Ho,X.DoubleClickZoom=jo,X.Drag=Uo,X.Keyboard=Vo,X.ScrollWheelZoom=Wo,X.TapHold=Go,X.TouchZoom=Yo,r.Bounds=A,r.Browser=E,r.CRS=me,r.Canvas=No,r.Circle=Di,r.CircleMarker=ei,r.Class=ae,r.Control=Ze,r.DivIcon=Do,r.DivOverlay=Ke,r.DomEvent=Ya,r.DomUtil=Wa,r.Draggable=rt,r.Evented=q,r.FeatureGroup=et,r.GeoJSON=it,r.GridLayer=Rt,r.Handler=Ye,r.Icon=wt,r.ImageOverlay=ni,r.LatLng=D,r.LatLngBounds=I,r.Layer=He,r.LayerGroup=_t,r.LineUtil=cn,r.Map=X,r.Marker=Qt,r.Mixin=on,r.Path=st,r.Point=M,r.PolyUtil=an,r.Polygon=Ct,r.Polyline=tt,r.Popup=ri,r.PosAnimation=bo,r.Projection=dn,r.Rectangle=Zo,r.Renderer=ot,r.SVG=Zt,r.SVGOverlay=Oo,r.TileLayer=xt,r.Tooltip=si,r.Transformation=H,r.Util=W,r.VideoOverlay=Bo,r.bind=m,r.bounds=O,r.canvas=Ro,r.circle=bn,r.circleMarker=vn,r.control=zt,r.divIcon=In,r.extend=d,r.featureGroup=hn,r.geoJSON=Eo,r.geoJson=wn,r.gridLayer=Pn,r.icon=fn,r.imageOverlay=Cn,r.latLng=B,r.latLngBounds=j,r.layerGroup=pn,r.map=Ka,r.marker=gn,r.point=$,r.polygon=_n,r.polyline=yn,r.popup=kn,r.rectangle=An,r.setOptions=ee,r.stamp=C,r.svg=qo,r.svgOverlay=xn,r.tileLayer=zo,r.tooltip=Ln,r.transformation=ie,r.version=c,r.videoOverlay=Sn;var En=window.L;r.noConflict=function(){return window.L=En,this},window.L=r})}(Ut,Ut.exports)),Ut.exports}var Jr=Xr();const Le=ga(Jr);Shopware.Component.register("moorl-location",{template:Yr,props:{locations:{type:Array,required:!1,default:[]},item:{type:Object,required:!1,default:null},tileLayer:{type:String,required:!1,default:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},attribution:{type:String,required:!1,default:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'},options:{type:Array,required:!1,default:["dragging","tap"]},showOrder:{type:Boolean,required:!1,default:!0},label:{type:String,required:!1,default:null},name:{type:String,required:!1,default:null}},watch:{currentLocations(){this.initLocations()}},data(){return{_mapInstance:null,_mapElement:null}},computed:{mapOptions(){return{scrollWheelZoom:this.options.includes("scrollWheelZoom"),dragging:this.options.includes("dragging"),tap:this.options.includes("tap")}},currentLocations(){var a,r,c;const i=[...this.locations];if(this.item){const d=this.item.marker,h=(d==null?void 0:d.markerSettings)??{},m=d?{svg:d.svg,iconUrl:(a=d.marker)==null?void 0:a.url,iconRetinaUrl:(r=d.markerRetina)==null?void 0:r.url,shadowUrl:(c=d.markerShadow)==null?void 0:c.url,iconSize:[h.iconSizeX,h.iconSizeY],iconAnchor:[h.iconAnchorX,h.iconAnchorY],popupAnchor:[h.popupAnchorX,h.popupAnchorY],shadowSize:[h.shadowSizeX,h.shadowSizeY],shadowAnchor:[h.shadowAnchorX,h.shadowAnchorY]}:{};i.push({entityId:this.item.id,latlng:[this.item.locationLat??52.5173,this.item.locationLon??13.402],icon:m,popup:`<p><b>${this.item.name}</b><br>${this.item.street}<br>${this.item.zipcode} ${this.item.city}</p>`})}return i}},mounted(){this.initMap()},methods:{initMap(){this._mapInstance||this.$refs.moorlLocation&&(this._mapInstance={layerGroup:Le.layerGroup([]),map:Le.map(this.$refs.moorlLocation,this.mapOptions)},Le.tileLayer(this.tileLayer,{attribution:this.attribution}).addTo(this._mapInstance.map),this.initLocations())},initLocations(){const i=[];for(let a of this.currentLocations){const r={};a.entityId&&(r.entityId=a.entityId),a.icon&&(r.icon=this.getIcon(a.icon));const c=Le.marker(a.latlng,r);if(a.popup){const d={autoPan:!1,autoClose:!0};this.options&&(d.autoPan=this.options.includes("autoPan"),d.autoClose=this.options.includes("autoClose")),c.bindPopup(a.popup,d).on("click",()=>{this.focusItem(a.entityId)}).on("popupclose",()=>{this.fitBounds()})}i.push(c)}this._mapInstance.layerGroup&&this._mapInstance.layerGroup.clearLayers(),this._mapInstance.layerGroup=Le.featureGroup(i).addTo(this._mapInstance.map),this.fitBounds()},fitBounds(){this._mapInstance.map.fitBounds(this._mapInstance.layerGroup.getBounds(),{padding:[5,5]})},focusItem(i){this._mapInstance.layerGroup.eachLayer(a=>{a.options.entityId===i&&(a.getPopup().isOpen()||a.openPopup(),this._mapInstance.map.flyTo(a.getLatLng(),16,{animate:!0,duration:1}))})},getIcon(i){if(i.svg){const r={iconSize:[40,60],iconAnchor:[20,60],popupAnchor:[0,-40],className:i.className,html:`<div class="marker-pin"></div>${i.svg}`};return Le.divIcon(r)}else return Le.icon(i)}}});const Qr='<div class="moorl-map"> <div class="moorl-map-content" id="moorlMap" ref="moorlMap" ></div> </div>',es="//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",ts='Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>';Shopware.Component.register("moorl-map",{template:Qr,props:["value","item"],watch:{value:function(){this.$emit("input",this.value),this._focusItem()}},data(){return{id:null,interval:5e3,isFocusing:!1,leaflet:{markers:[]}}},computed:{mainLocation(){return[this.item.locationLat?this.item.locationLat:52.5173,this.item.locationLon?this.item.locationLon:13.402]}},mounted(){setTimeout(()=>{this.drawMap()},1500)},created(){},methods:{drawMap(){this.leaflet.map=Le.map(this.$refs.moorlMap,{center:this.mainLocation,zoom:16}),Le.tileLayer(es,{attribution:ts}).addTo(this.leaflet.map),this.updateMap(),setInterval(()=>{this.updateMap()},this.interval)},updateMap(){if(this.value)return;this.leaflet.map.invalidateSize();const i=[],a={icon:this._getSvgIcon("location","location")};i.push(Le.marker(this.mainLocation,a)),this.item.deliverers&&this.item.deliverers.forEach(r=>{if(!r.locationLat)return;const c={data:r,icon:this._getSvgIcon("deliverer","deliverer")};i.push(Le.marker([r.locationLat,r.locationLon],c).bindPopup(r.name,{autoPan:!1,autoClose:!0}).on("click",function(){this.value=r.id}).on("popupclose",function(){this.value=this.isFocusing?this.value:null}))}),this.item.shopOrders&&this.item.shopOrders.forEach(r=>{if(!r.locationLat)return;const c={data:r,icon:this._getSvgIcon(this.shippingMethod,this.className)};i.push(Le.marker([r.locationLat,r.locationLon],c).bindPopup(r.order.orderNumber,{autoPan:!1,autoClose:!0}).on("click",function(){this.value=r.id}).on("popupclose",function(){this.value=this.isFocusing?this.value:null}))}),this.leaflet.marker&&this.leaflet.marker.clearLayers(),this.leaflet.marker=Le.featureGroup(i).addTo(this.leaflet.map),this.leaflet.map.fitBounds(this.leaflet.marker.getBounds())},_focusItem(){!this.leaflet||!this.leaflet.map||!this.leaflet.marker||(this.isFocusing=!0,this.leaflet.marker.eachLayer(i=>{if(!(!i||!i.options||!i.options.data))if(i.options.data.id===this.value){let a=i.getLatLng();i.getPopup().isOpen()||i.openPopup(),this.leaflet.map.setView(a,17),i.setZIndexOffset(500)}else i.setZIndexOffset(0)}),this.isFocusing=!1)},_getSvgIcon(i,a){const c={location:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 11 5 C 9.363281 5 8.136719 6.210938 7.3125 7.5625 C 6.488281 8.914063 6 10.515625 6 12 C 6 14.582031 7.78125 16.464844 10 16.90625 L 10 28 L 12 28 L 12 16.90625 C 14.21875 16.464844 16 14.582031 16 12 C 16 10.515625 15.511719 8.914063 14.6875 7.5625 C 13.863281 6.210938 12.636719 5 11 5 Z M 18 5 L 18 12 C 18 13.851563 19.28125 15.398438 21 15.84375 L 21 28 L 23 28 L 23 15.84375 C 24.71875 15.398438 26 13.851563 26 12 L 26 5 L 24 5 L 24 12 C 24 13.117188 23.117188 14 22 14 C 20.882813 14 20 13.117188 20 12 L 20 5 Z M 21 5 L 21 12 C 21 12.550781 21.449219 13 22 13 C 22.550781 13 23 12.550781 23 12 L 23 5 Z M 11 7 C 11.574219 7 12.34375 7.566406 12.96875 8.59375 C 13.59375 9.621094 14 10.996094 14 12 C 14 14.003906 12.75 15 11 15 C 9.25 15 8 14.003906 8 12 C 8 10.996094 8.40625 9.621094 9.03125 8.59375 C 9.65625 7.566406 10.425781 7 11 7 Z"/></svg>',collect:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 3 C 13.253906 3 11 5.253906 11 8 L 11 9 L 6.0625 9 L 6 9.9375 L 5 27.9375 L 4.9375 29 L 27.0625 29 L 27 27.9375 L 26 9.9375 L 25.9375 9 L 21 9 L 21 8 C 21 5.253906 18.746094 3 16 3 Z M 16 5 C 17.65625 5 19 6.34375 19 8 L 19 9 L 13 9 L 13 8 C 13 6.34375 14.34375 5 16 5 Z M 7.9375 11 L 11 11 L 11 14 L 13 14 L 13 11 L 19 11 L 19 14 L 21 14 L 21 11 L 24.0625 11 L 24.9375 27 L 7.0625 27 Z"/></svg>',delivery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 16 3 C 14.894531 3 14 3.894531 14 5 C 14 5.085938 14.019531 5.167969 14.03125 5.25 C 10.574219 6.132813 8 9.273438 8 13 L 8 22 C 8 22.566406 7.566406 23 7 23 L 6 23 L 6 25 L 13.1875 25 C 13.074219 25.316406 13 25.648438 13 26 C 13 27.644531 14.355469 29 16 29 C 17.644531 29 19 27.644531 19 26 C 19 25.648438 18.925781 25.316406 18.8125 25 L 26 25 L 26 23 L 25 23 C 24.433594 23 24 22.566406 24 22 L 24 13.28125 C 24 9.523438 21.488281 6.171875 17.96875 5.25 C 17.980469 5.167969 18 5.085938 18 5 C 18 3.894531 17.105469 3 16 3 Z M 15.5625 7 C 15.707031 6.988281 15.851563 7 16 7 C 16.0625 7 16.125 7 16.1875 7 C 19.453125 7.097656 22 9.960938 22 13.28125 L 22 22 C 22 22.351563 22.074219 22.683594 22.1875 23 L 9.8125 23 C 9.925781 22.683594 10 22.351563 10 22 L 10 13 C 10 9.824219 12.445313 7.226563 15.5625 7 Z M 16 25 C 16.5625 25 17 25.4375 17 26 C 17 26.5625 16.5625 27 16 27 C 15.4375 27 15 26.5625 15 26 C 15 25.4375 15.4375 25 16 25 Z"/></svg>',deliverer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 9.5 6 C 8.179688 6 7.003906 6.859375 6.625 8.125 L 5.25 12.71875 L 3.3125 12.0625 L 2.6875 13.9375 L 4.65625 14.59375 L 4.03125 16.71875 C 4.007813 16.808594 3.996094 16.90625 4 17 L 4 24 C 4 24.03125 4 24.0625 4 24.09375 L 4 25 C 4 25.550781 4.449219 26 5 26 L 8 26 L 8.34375 25 L 23.65625 25 L 24 26 L 27 26 C 27.550781 26 28 25.550781 28 25 L 28 24.15625 C 28.003906 24.105469 28.003906 24.050781 28 24 L 28 17 C 28.003906 16.90625 27.992188 16.808594 27.96875 16.71875 L 27.34375 14.59375 L 29.3125 13.9375 L 28.6875 12.0625 L 26.75 12.71875 L 25.375 8.125 C 24.996094 6.859375 23.820313 6 22.5 6 Z M 9.5 8 L 22.5 8 C 22.945313 8 23.339844 8.292969 23.46875 8.71875 L 24.75 13 L 7.25 13 L 8.53125 8.71875 C 8.660156 8.289063 9.054688 8 9.5 8 Z M 6.65625 15 L 25.34375 15 L 26 17.1875 L 26 23 L 6 23 L 6 17.1875 Z M 8.5 16 C 7.671875 16 7 16.671875 7 17.5 C 7 18.328125 7.671875 19 8.5 19 C 9.328125 19 10 18.328125 10 17.5 C 10 16.671875 9.328125 16 8.5 16 Z M 23.5 16 C 22.671875 16 22 16.671875 22 17.5 C 22 18.328125 22.671875 19 23.5 19 C 24.328125 19 25 18.328125 25 17.5 C 25 16.671875 24.328125 16 23.5 16 Z M 12 19 L 10.75 22 L 12.90625 22 L 13.34375 21 L 18.65625 21 L 19.09375 22 L 21.25 22 L 20 19 Z"/></svg>'},d={iconSize:[40,40+40/2],iconAnchor:[40/2,40+40/2],popupAnchor:[0,-40],className:a,html:'<div class="marker-pin"></div>'+c[i]};return Le.divIcon(d)},markerPreview(){let i={shadowUrl:this.item.markerShadow?this.item.markerShadow.url:null,iconRetinaUrl:this.item.markerRetina?this.item.markerRetina.url:null,iconUrl:this.item.marker?this.item.marker.url:null,iconSize:[this.item.markerSettings.iconSizeX,this.item.markerSettings.iconSizeY],shadowSize:[this.item.markerSettings.shadowSizeX,this.item.markerSettings.shadowSizeY],iconAnchor:[this.item.markerSettings.iconAnchorX,this.item.markerSettings.iconAnchorY],shadowAnchor:[this.item.markerSettings.shadowAnchorX,this.item.markerSettings.shadowAnchorY],popupAnchor:[this.item.markerSettings.popupAnchorX,this.item.markerSettings.popupAnchorY]};const a=[];a.push(Le.marker(this.coord,{icon:Le.icon(i)}).bindPopup("<p><b>Lorem Ipsum GmbH</b><br>Musterstraße 1<br>12345 Musterstadt</p>",{autoPan:!1,autoClose:!0}).on("click",function(){this.markerItems.eachLayer(function(r){r.getPopup().isOpen()||r.openPopup()})})),this.markerItems&&this.markerItems.clearLayers(),this.markerItems=Le.layerGroup(a).addTo(this.mapItem)}}});const is='<sw-modal class="moorl-feature-unlocker" v-if="open" :title="$tc(\'moorl-feature-unlocker.modal.title\')" @modal-close="closeModal" > <p> {{ $tc(\'moorl-feature-unlocker.modal.message1\') }} </p> <p class="moorl-support-link"> <a href="https://store.shopware.com/moorl87443379024/features-add-on-foundation.html" rel="noopener" target="_blank" > {{ $tc(\'moorl-feature-unlocker.modal.title\') }} </a> </p> <p> <moorl-support-link path="/MoorlFoundation/features-premium/"/> </p> <table> <tr> <th style="width: 180px">Feature</th> <th>Description</th> <th style="width: 60px">FREE</th> </tr> <tr> <td>CMS Elements</td> <td> Additional CMS elements "Buy list, Downloads, HTML tag, Share, Table of contents" and following. </td> <td> <mt-icon name="regular-checkmark" size="16" /> </td> </tr> <tr> <td>Demo assistant</td> <td> Many moori plugins have demo packages, you can install them by `One-Click`. <moorl-support-link path="/MoorlFoundation/demo-assistant/"/> </td> <td> <mt-icon name="regular-checkmark" size="16" /> </td> </tr> <tr> <td>Sorting</td> <td> Some plugins have sorting options for listings. You can translate and configure them. </td> <td> <mt-icon name="regular-checkmark" size="16" /> </td> </tr> <tr> <td>`Animate.css` configuration by CSS selector</td> <td> In the moori Foundation plugin configuration you can configure `On Scroll` and `On Load` animations for any elements by CSS selectors, supported by Animate.css. This feature may be removed if its not usable without jQuery support. </td> <td> <mt-icon name="regular-checkmark" size="16" /> </td> </tr> <tr> <td>CMS responsive block configuration</td> <td> Hide and show your blocks on different viewports of your customers device. </td> <td> <mt-icon name="regular-times" size="16" /> </td> </tr> <tr> <td>CMS `Animate.css` element configuration</td> <td> Configure `On Scroll` and `On Load` animations for your CMS elements. Fully supported Animate.css. </td> <td> <mt-icon name="regular-times" size="16" /> </td> </tr> <tr> <td>CMS config saver</td> <td> Makes is possible to save a CMS element and copy it multiple times into new CMS elements. </td> <td> <mt-icon name="regular-times" size="16" /> </td> </tr> <tr> <td>CMS section "Bootstrap Grid"</td> <td> Enables a new section. This can have multiple full adjustable columns with sticky feature and responsive viewport configuration with Bootstrap. </td> <td> <mt-icon name="regular-times" size="16" /> </td> </tr> <tr> <td>CMS section "Slider"</td> <td> Enables a new section. This can be configured as a powerful and responsive slider. It will also replace the slider blocks from moori Foundation. </td> <td> <mt-icon name="regular-times" size="16" /> </td> </tr> <tr> <td>CMS blocks Columns/Grid/Slider</td> <td> A set with 30+ block layouts. </td> <td> <mt-icon name="regular-times" size="16" /> </td> </tr> </table> <template #modal-footer> <mt-button @click="closeModal"> {{ $tc(\'moorl-feature-unlocker.modal.actions.close\') }} </mt-button> </template> </sw-modal>';Shopware.Component.register("moorl-feature-unlocker",{template:is,shortcuts:{"SYSTEMKEY+m":"openModal"},inject:["acl"],mixins:[Shopware.Mixin.getByName("notification")],data(){return{open:!1}},computed:{moorlIsUnlocked(){return Shopware.Store.get("moorlFoundationState").unlocked},unlockInfoSeen(){return Shopware.Store.get("moorlFoundationState").unlockInfoSeen}},created(){this.createdComponent()},methods:{createdComponent(){this.acl.can("system.system_config")&&(Shopware.Store.get("moorlFoundationState").setUnlocked(!1),localStorage.getItem("moorl-foundation-welcome-seen")||(this.createNotificationInfo({message:this.$tc("moorl-feature-unlocker.notifications.welcome")}),localStorage.setItem("moorl-foundation-welcome-seen","1")),document.addEventListener("keydown",i=>{(i.key==="Alt"||i.key==="m"&&i.altKey)&&i.preventDefault()}))},openModal(){this.acl.can("system.system_config")&&(this.open=!0)},toggleUnlocked(){return this.moorlIsUnlocked?(localStorage.removeItem("moorl-foundation-unlocked"),Shopware.Store.get("moorlFoundationState").setUnlocked(!1),this.createNotificationInfo({message:this.$tc("moorl-feature-unlocker.notifications.locked")}),!1):(localStorage.setItem("moorl-foundation-unlocked","1"),Shopware.Store.get("moorlFoundationState").setUnlocked(!0),this.createNotificationInfo({message:this.$tc("moorl-feature-unlocker.notifications.unlocked")}),!0)},closeModal(){this.open=!1},unlock(){this.open=!1}}});const os='<div class="moorl-support-link"> <a :href="supportLink" rel="noopener" target="_blank" > {{ $tc(snippet) }} </a> </div>';Shopware.Component.register("moorl-support-link",{template:os,props:{path:{type:String,required:!0},snippet:{type:String,required:!1,default:"moorl-support-link.label"}},computed:{supportLink(){return this.$tc("moorl-support-link.supportLink")+this.path}}});const as=`<div class="moorl-router-link"> <router-link target="_blank" rel="noopener" :to="{ name: path }" > {{ $tc('global.default.add') }} </router-link> </div>`;Shopware.Component.register("moorl-router-link",{template:as,props:{path:{type:String,required:!0},snippet:{type:String,required:!1,default:"moorl-router-link.label"}},computed:{routerLink(){return this.$tc("moorl-router-link.routerLink")+this.path}}});const ns=`<div class="moorl-demo-button"> <mt-button variant="secondary" size="default" :disabled="!acl.can('system.system_config')" @click="openModal" > {{ $tc('moorl-demo-button.label') }} </mt-button> <sw-modal v-if="open" :title="$tc('moorl-demo-button.label')" @modal-close="closeModal" :isLoading="isLoading" > <mt-banner variant="attention"> {{ $tc('moorl-demo-data.notification') }} </mt-banner> <sw-entity-single-select :label="$tc('moorl-foundation.field.salesChannel')" v-model:value="salesChannelId" entity="sales_channel" /> <router-link target="_blank" rel="noopener" :to="{ name: 'moorl.demo.data.index' }" > {{ $tc('moorl-demo-data.name') }} </router-link> <template #modal-footer> <mt-button variant="primary" @click="install" :disabled="salesChannelId === null || isLoading" > {{ $tc('global.default.apply') }} </mt-button> <mt-button @click="closeModal"> {{ $tc('global.default.cancel') }} </mt-button> </template> </sw-modal> </div>`;Shopware.Component.register("moorl-demo-button",{template:ns,props:{pluginName:{type:String,required:!0,default:"MoorlFoundation"},name:{type:String,required:!0,default:"standard"}},inject:["acl","foundationApiService"],mixins:[Shopware.Mixin.getByName("notification")],data(){return{salesChannelId:null,open:!1,isLoading:!1,processSuccess:!1}},methods:{openModal(){this.acl.can("system.system_config")&&(this.open=!0)},closeModal(){this.open=!1},install(){this.isLoading=!0,this.foundationApiService.post("/moorl-foundation/settings/demo-data/install",{salesChannelId:this.salesChannelId,pluginName:this.pluginName,name:this.name}).then(()=>{this.createNotificationSuccess({message:this.$tc("moorl-demo-data.installed")}),this.isLoading=!1,this.open=!1,this.$emit("on-finish")}).catch(i=>{this.createNotificationError({title:this.$tc("global.default.error"),message:i}),this.isLoading=!1,this.$emit("on-error")})}}});const rs=`<div class="moorl-template-mapping-info"> <moorl-collapse :label="$tc('moorl-template-mapping-info.salesChannel')"> <template #content> <pre v-pre>{{ salesChannel.name }}</pre> </template> </moorl-collapse> <moorl-collapse :label="$tc('moorl-template-mapping-info.customer')"> <template #content> <pre v-pre> {{ customer.firstName }} {{ customer.lastName }} {{ customer.email }} {{ customer.phone }} {{ customer.subject }} {{ customer.comment }} </pre> </template> </moorl-collapse> <moorl-collapse :label="$tc('moorl-template-mapping-info.order')"> <template #content> <pre v-pre> {{ order.orderNumber }} {{ order.orderCustomer.email }} {{ order.comment }} </pre> </template> </moorl-collapse> <moorl-collapse :label="$tc('moorl-template-mapping-info.contactFormData')"> <template #content> <pre v-pre> {{ contactFormData.firstName }} {{ contactFormData.lastName }} {{ contactFormData.email }} {{ contactFormData.phone }} {{ contactFormData.subject }} {{ contactFormData.comment }} </pre> </template> </moorl-collapse> <moorl-collapse :label="$tc('moorl-template-mapping-info.newsletterRecipient')"> <template #content> <pre v-pre> {{ newsletterRecipient.firstName }} {{ newsletterRecipient.lastName }} {{ newsletterRecipient.email }} </pre> </template> </moorl-collapse> <p>&nbsp;</p> </div>`;Shopware.Component.register("moorl-template-mapping-info",{template:rs});const ss=`<div class="moorl-layout-card-v2"> <mt-card :title="$tc('moorl-layout-card-v2.title')" :is-loading="isLoading" > <div class="moorl-layout-card__base-layout"> <div v-if="cmsPage" class="moorl-layout-card__preview" @click="openLayoutModal" > <sw-cms-list-item :page="cmsPage" active /> </div> <sw-cms-layout-modal v-if="showLayoutSelectionModal" :cms-page-types="pageTypes" :headline="headline" :pre-selection="cmsPage" @modal-layout-select="onLayoutSelect" @modal-close="closeLayoutModal" /> <div class="moorl-layout-card__desc"> <div class="moorl-layout-card__desc-info"> <div class="moorl-layout-card__desc-headline" :class="{ 'is--empty': !cmsPage }" > {{ cmsPage ? cmsPage.name : $tc('moorl-layout-card-v2.defaultTitle') }} </div> </div> <div class="moorl-layout-card__desc-actions"> <mt-button class="moorl-detail-layout__change-layout-action" size="small" variant="secondary" @click="openLayoutModal" > {{ cmsPage ? $tc('moorl-layout-card-v2.changeLayout') : $tc('moorl-layout-card-v2.changeLayoutEmpty') }} </mt-button> <mt-button class="moorl-detail-layout__open-in-pagebuilder" size="small" variant="secondary" @click="openInPagebuilder" > {{ cmsPage ? $tc('moorl-layout-card-v2.editInPagebuilder'): $tc('moorl-layout-card-v2.editInPagebuilderEmpty') }} </mt-button> <mt-button v-if="cmsPage" size="small" variant="secondary" class="moorl-detail-layout__layout-reset" square @click="onLayoutReset" > <mt-icon name="regular-trash" small /> </mt-button> </div> <mt-button class="moorl-detail-layout__save-cms-config" size="small" variant="primary" @click="saveCmsConfig" > {{ $tc('moorl-layout-card-v2.saveCmsConfig') }} </mt-button> </div> </div> </mt-card> <sw-cms-page-form v-if="cmsPage" :page="cmsPage" /> </div>`,{Criteria:Hi,ChangesetGenerator:ls}=Shopware.Data,ui=Shopware.Utils.types,{cloneDeep:ca,merge:cs}=Shopware.Utils.object;Shopware.Component.register("moorl-layout-card-v2",{template:ss,inject:["repositoryFactory","cmsService"],props:{item:{type:Object,required:!0},entity:{type:String,required:!0,default:void 0},pageType:{type:String,required:!0,default:void 0},isLoading:{type:Boolean,required:!1,default:!1},pageTypes:{type:Array,required:!1,default(){return[]}},headline:{type:String,required:!1,default:""}},data(){return{showLayoutSelectionModal:!1}},computed:{cmsPageRepository(){return this.repositoryFactory.create("cms_page")},cmsPageId(){return this.item?this.item.cmsPageId:null},cmsPage(){return Shopware.Store.get("cmsPage").currentPage},cmsPageType(){var i;return this.pageType??((i=MoorlFoundation.ModuleHelper.getByEntity(this.entity))==null?void 0:i.pageType)},cmsPageTypes(){return[]}},watch:{cmsPageId(){Shopware.Store.get("cmsPage").resetCmsPageState(),this.getAssignedCmsPage()}},created(){Shopware.Store.get("cmsPage").resetCmsPageState(),this.pageTypes.length===0&&this.pageTypes.push(this.cmsPageType),this.getAssignedCmsPage()},methods:{saveCmsConfig(){const i=this.getCmsPageOverrides();ui.isPlainObject(i)&&(this.item.slotConfig=ca(i)),this.$emit("save-cms-config")},onLayoutSelect(i){this.item.cmsPageId=i},onLayoutReset(){this.onLayoutSelect(null)},openInPagebuilder(){this.cmsPage?this.$router.push({name:"sw.cms.detail",params:{id:this.item.cmsPageId}}):this.$router.push({name:"sw.cms.create"})},openLayoutModal(){this.showLayoutSelectionModal=!0},closeLayoutModal(){this.showLayoutSelectionModal=!1},getAssignedCmsPage(){if(this.cmsPageId===null)return Promise.resolve(null);const i=this.cmsPageId,a=new Hi(1,1);return a.setIds([i]),a.addAssociation("previewMedia"),a.addAssociation("sections"),a.getAssociation("sections").addSorting(Hi.sort("position")),a.addAssociation("sections.blocks"),a.getAssociation("sections.blocks").addSorting(Hi.sort("position","ASC")).addAssociation("slots"),this.cmsPageRepository.search(a).then(r=>{const c=r.get(i);return i!==this.cmsPageId?null:(this.item.slotConfig!==null&&c.sections.forEach(d=>{d.blocks.forEach(h=>{h.slots.forEach(m=>{this.item.slotConfig[m.id]&&(m.config===null&&(m.config={}),cs(m.config,ca(this.item.slotConfig[m.id])))})})}),this.updateCmsPageDataMapping(),Shopware.Store.get("cmsPage").setCurrentPage(c),this.cmsPage)})},updateCmsPageDataMapping(){Shopware.Store.get("cmsPage").setCurrentMappingEntity(this.entity),Shopware.Store.get("cmsPage").setCurrentMappingTypes(this.cmsService.getEntityMappingTypes(this.cmsPageType)),Shopware.Store.get("cmsPage").setCurrentDemoEntity(this.item)},getCmsPageOverrides(){if(this.cmsPage===null)return null;this.deleteSpecifcKeys(this.cmsPage.sections);const i=new ls,{changes:a}=i.generate(this.cmsPage),r={};return a===null||ui.isArray(a.sections)&&a.sections.forEach(c=>{ui.isArray(c.blocks)&&c.blocks.forEach(d=>{ui.isArray(d.slots)&&d.slots.forEach(h=>{r[h.id]=h.config})})}),r},deleteSpecifcKeys(i){i&&i.forEach(a=>{a.blocks&&a.blocks.forEach(r=>{r.slots&&r.slots.forEach(c=>{c.config&&Object.values(c.config).forEach(d=>{d.entity&&delete d.entity,d.required!==void 0&&delete d.required,d.type&&delete d.type})})})})}}});const ds='{% block moorl_entity_grid_card %} <mt-card class="moorl-entity-grid-v2" :title="cardTitle" > <template v-for="(_, name) in $slots" v-slot:[name]="slotData" > <slot :name="name" v-bind="slotData" /> </template> <moorl-entity-grid-v2 :key="$attrs.entity" v-bind="$attrs" > <template v-for="(_, name) in $slots" v-slot:[name]="slotData" > <slot :name="name" v-bind="slotData" /> </template> </moorl-entity-grid-v2> </mt-card> {% endblock %}';Shopware.Component.register("moorl-entity-grid-card-v2",{template:ds,computed:{cardTitle(){return this.$attrs.title??this.$tc(`global.entities.${this.$attrs.entity}`)}}});const us=`{% block moorl_behaviour_card %} <mt-card class="moorl-behaviour-card" :title="$tc('moorl-behaviour-card.name')" > <mt-switch bordered :label="$tc('moorl-behaviour-card.label.autoSize')" :helpText="$tc('moorl-behaviour-card.helpText.autoSize')" v-model="item.autoSize" /> <div class="moorl-behaviour-card-grid"> <div v-for="(behaviour, size) in item.behaviour"> <h4> {{ $tc('moorl-behaviour-card.behaviour.' + behaviour.label) }} </h4> <mt-switch bordered :label="$tc('moorl-behaviour-card.label.visible')" v-model="item.behaviour[size].visible" /> <moorl-select-field v-if="!item.autoSize" v-model:value="item.behaviour[size].width" :helpText="$tc('moorl-behaviour-card.helpText.width',0,{ viewport : $tc('moorl-behaviour-card.behaviour.' + behaviour.label) })" :label="$tc('moorl-behaviour-card.label.width')" set="bsGridColumns" /> <moorl-select-field v-model:value="item.behaviour[size].order" :helpText="$tc('moorl-behaviour-card.helpText.order',0,{ viewport : $tc('moorl-behaviour-card.behaviour.' + behaviour.label) })" :label="$tc('moorl-behaviour-card.label.order')" set="bsGridOrder" /> </div> </div> </mt-card> {% endblock %}`;Shopware.Component.register("moorl-behaviour-card",{template:us,props:{item:{type:Object,required:!0}},created(){var i;(i=this.item).behaviour??(i.behaviour=[{visible:!0,order:2,width:12,label:"base"},{visible:!0,order:3,width:12,label:"sm"},{visible:!0,order:3,width:12,label:"md"},{visible:!0,order:4,width:12,label:"lg"},{visible:!0,order:6,width:6,label:"xl"}])}});const ms=`{% block moorl_cms_slot_card %} <mt-card class="moorl-cms-slot-card" :title="$tc('moorl-cms-slot-card.name')" > <sw-cms-slot :key="item.id" :element="item" :disabled="false" :active="true" /> </mt-card> {% endblock %}`;Shopware.Component.register("moorl-cms-slot-card",{template:ms,inject:["cmsDataResolverService"],mixins:[Shopware.Mixin.getByName("cms-state")],props:{item:{type:Object,required:!0}},created(){this.cmsPageState.setCurrentPageType("page"),this.cmsDataResolverService.resolve({sections:[{blocks:[{slots:[this.item]}]}]}).catch(i=>{console.error(i)})}});const ps=`{% block moorl_location_card %} <mt-card class="moorl-location-card" :title="$tc('moorl-location-card.name')" > <template #headerRight> <router-link target="_blank" rel="noopener" :to="{ name: 'sw.extension.config', params: { namespace: 'MoorlFoundation' } }" > {{ $tc('moorl-location.link') }} </router-link> </template> <moorl-location v-bind="$attrs"/> </mt-card> {% endblock %}`;Shopware.Component.register("moorl-location-card",{template:ps});const hs='<component :is="componentName" v-bind="vBind" v-model:value="currentValue" />',fs=[{value:"bounce",label:"bounce"},{value:"flash",label:"flash"},{value:"pulse",label:"pulse"},{value:"rubberBand",label:"rubberBand"},{value:"shake",label:"shake"},{value:"swing",label:"swing"},{value:"tada",label:"tada"},{value:"wobble",label:"wobble"},{value:"jello",label:"jello"},{value:"heartBeat",label:"heartBeat"},{value:"bounceIn",label:"bounceIn"},{value:"bounceInDown",label:"bounceInDown"},{value:"bounceInLeft",label:"bounceInLeft"},{value:"bounceInRight",label:"bounceInRight"},{value:"bounceInUp",label:"bounceInUp"},{value:"bounceOut",label:"bounceOut"},{value:"bounceOutDown",label:"bounceOutDown"},{value:"bounceOutLeft",label:"bounceOutLeft"},{value:"bounceOutRight",label:"bounceOutRight"},{value:"bounceOutUp",label:"bounceOutUp"},{value:"fadeIn",label:"fadeIn"},{value:"fadeInDown",label:"fadeInDown"},{value:"fadeInDownBig",label:"fadeInDownBig"},{value:"fadeInLeft",label:"fadeInLeft"},{value:"fadeInLeftBig",label:"fadeInLeftBig"},{value:"fadeInRight",label:"fadeInRight"},{value:"fadeInRightBig",label:"fadeInRightBig"},{value:"fadeInUp",label:"fadeInUp"},{value:"fadeInUpBig",label:"fadeInUpBig"},{value:"fadeOut",label:"fadeOut"},{value:"fadeOutDown",label:"fadeOutDown"},{value:"fadeOutDownBig",label:"fadeOutDownBig"},{value:"fadeOutLeft",label:"fadeOutLeft"},{value:"fadeOutLeftBig",label:"fadeOutLeftBig"},{value:"fadeOutRight",label:"fadeOutRight"},{value:"fadeOutRightBig",label:"fadeOutRightBig"},{value:"fadeOutUp",label:"fadeOutUp"},{value:"fadeOutUpBig",label:"fadeOutUpBig"},{value:"flip",label:"flip"},{value:"flipInX",label:"flipInX"},{value:"flipInY",label:"flipInY"},{value:"flipOutX",label:"flipOutX"},{value:"flipOutY",label:"flipOutY"},{value:"lightSpeedIn",label:"lightSpeedIn"},{value:"lightSpeedOut",label:"lightSpeedOut"},{value:"rotateIn",label:"rotateIn"},{value:"rotateInDownLeft",label:"rotateInDownLeft"},{value:"rotateInDownRight",label:"rotateInDownRight"},{value:"rotateInUpLeft",label:"rotateInUpLeft"},{value:"rotateInUpRight",label:"rotateInUpRight"},{value:"rotateOut",label:"rotateOut"},{value:"rotateOutDownLeft",label:"rotateOutDownLeft"},{value:"rotateOutDownRight",label:"rotateOutDownRight"},{value:"rotateOutUpLeft",label:"rotateOutUpLeft"},{value:"rotateOutUpRight",label:"rotateOutUpRight"},{value:"slideInUp",label:"slideInUp"},{value:"slideInDown",label:"slideInDown"},{value:"slideInLeft",label:"slideInLeft"},{value:"slideInRight",label:"slideInRight"},{value:"slideOutUp",label:"slideOutUp"},{value:"slideOutDown",label:"slideOutDown"},{value:"slideOutLeft",label:"slideOutLeft"},{value:"slideOutRight",label:"slideOutRight"},{value:"zoomIn",label:"zoomIn"},{value:"zoomInDown",label:"zoomInDown"},{value:"zoomInLeft",label:"zoomInLeft"},{value:"zoomInRight",label:"zoomInRight"},{value:"zoomInUp",label:"zoomInUp"},{value:"zoomOut",label:"zoomOut"},{value:"zoomOutDown",label:"zoomOutDown"},{value:"zoomOutLeft",label:"zoomOutLeft"},{value:"zoomOutRight",label:"zoomOutRight"},{value:"zoomOutUp",label:"zoomOutUp"},{value:"hinge",label:"hinge"},{value:"jackInTheBox",label:"jackInTheBox"},{value:"rollIn",label:"rollIn"},{value:"rollOut",label:"rollOut"}],gs=[{value:"btn-primary",label:"moorl-select.bsColor.primary"},{value:"btn-outline-primary",label:"moorl-select.bsColor.primaryOutline"},{value:"btn-danger",label:"moorl-select.bsColor.danger"},{value:"btn-outline-danger",label:"moorl-select.bsColor.dangerOutline"},{value:"btn-success",label:"moorl-select.bsColor.success"},{value:"btn-outline-success",label:"moorl-select.bsColor.successOutline"},{value:"btn-warning",label:"moorl-select.bsColor.warning"},{value:"btn-outline-warning",label:"moorl-select.bsColor.warningOutline"},{value:"btn-info",label:"moorl-select.bsColor.info"},{value:"btn-outline-info",label:"moorl-select.bsColor.infoOutline"},{value:"btn-dark",label:"moorl-select.bsColor.dark"},{value:"btn-outline-dark",label:"moorl-select.bsColor.darkOutline"},{value:"btn-link",label:"moorl-select.bsColor.link"}],vs=[{value:"primary",label:"moorl-select.bsColor.primary"},{value:"secondary",label:"moorl-select.bsColor.secondary"},{value:"danger",label:"moorl-select.bsColor.danger"},{value:"success",label:"moorl-select.bsColor.success"},{value:"warning",label:"moorl-select.bsColor.warning"},{value:"info",label:"moorl-select.bsColor.info"},{value:"dark",label:"moorl-select.bsColor.dark"},{value:"light",label:"moorl-select.bsColor.light"},{value:"facebook",label:"moorl-select.bsColor.facebook"},{value:"twitter",label:"moorl-select.bsColor.twitter"},{value:"google",label:"moorl-select.bsColor.google"},{value:"shopware",label:"moorl-select.bsColor.shopware"}],bs=[{value:"cover",label:"moorl-select.displayMode.cover"},{value:"contain",label:"moorl-select.displayMode.contain"},{value:"standard",label:"moorl-select.displayMode.standard"},{value:"custom",label:"moorl-select.displayMode.custom"}],ys=[{value:"flex-start",label:"moorl-select.horizontalAlign.left"},{value:"center",label:"moorl-select.horizontalAlign.center"},{value:"flex-end",label:"moorl-select.horizontalAlign.right"},{value:"stretch",label:"moorl-select.horizontalAlign.stretch"}],_s=[{value:"flex-start",label:"moorl-select.verticalAlign.top"},{value:"center",label:"moorl-select.verticalAlign.center"},{value:"flex-end",label:"moorl-select.verticalAlign.bottom"},{value:"stretch",label:"moorl-select.verticalAlign.stretch"}],ws=JSON.parse(`[{"value":"fab|elementor","label":"Elementor"},{"value":"fas|eject","label":"eject"},{"value":"fas|egg","label":"Egg"},{"value":"fas|edit","label":"Edit"},{"value":"far|edit","label":"Edit"},{"value":"fab|edge","label":"Edge Browser"},{"value":"fab|ebay","label":"eBay"},{"value":"fab|earlybirds","label":"Earlybirds"},{"value":"fab|dyalog","label":"Dyalog"},{"value":"fas|dungeon","label":"Dungeon"},{"value":"fas|dumpster-fire","label":"Dumpster Fire"},{"value":"fas|dumpster","label":"Dumpster"},{"value":"fas|dumbbell","label":"Dumbbell"},{"value":"fab|drupal","label":"Drupal Logo"},{"value":"fas|drumstick-bite","label":"Drumstick with Bite Taken Out"},{"value":"fas|drum-steelpan","label":"Drum Steelpan"},{"value":"fas|drum","label":"Drum"},{"value":"fab|dropbox","label":"Dropbox"},{"value":"fab|dribbble-square","label":"Dribbble Square"},{"value":"fab|dribbble","label":"Dribbble"},{"value":"fas|draw-polygon","label":"Draw Polygon"},{"value":"fas|dragon","label":"Dragon"},{"value":"fas|drafting-compass","label":"Drafting Compass"},{"value":"fab|draft2digital","label":"Draft2digital"},{"value":"fas|download","label":"Download"},{"value":"fas|dove","label":"Dove"},{"value":"fas|dot-circle","label":"Dot Circle"},{"value":"far|dot-circle","label":"Dot Circle"},{"value":"fas|door-open","label":"Door Open"},{"value":"fas|door-closed","label":"Door Closed"},{"value":"fas|donate","label":"Donate"},{"value":"fas|dolly-flatbed","label":"Dolly Flatbed"},{"value":"fas|dolly","label":"Dolly"},{"value":"fas|dollar-sign","label":"Dollar Sign"},{"value":"fas|dog","label":"Dog"},{"value":"fab|docker","label":"Docker"},{"value":"fab|dochub","label":"DocHub"},{"value":"fas|dna","label":"DNA"},{"value":"fas|dizzy","label":"Dizzy Face"},{"value":"far|dizzy","label":"Dizzy Face"},{"value":"fas|divide","label":"Divide"},{"value":"fab|discourse","label":"Discourse"},{"value":"fab|discord","label":"Discord"},{"value":"fas|directions","label":"Directions"},{"value":"fas|digital-tachograph","label":"Digital Tachograph"},{"value":"fab|digital-ocean","label":"Digital Ocean"},{"value":"fab|digg","label":"Digg Logo"},{"value":"fas|dice-two","label":"Dice Two"},{"value":"fas|dice-three","label":"Dice Three"},{"value":"fas|dice-six","label":"Dice Six"},{"value":"fas|dice-one","label":"Dice One"},{"value":"fas|dice-four","label":"Dice Four"},{"value":"fas|dice-five","label":"Dice Five"},{"value":"fas|dice-d6","label":"Dice D6"},{"value":"fas|dice-d20","label":"Dice D20"},{"value":"fas|dice","label":"Dice"},{"value":"fab|diaspora","label":"Diaspora"},{"value":"fas|diagnoses","label":"Diagnoses"},{"value":"fab|dhl","label":"DHL"},{"value":"fas|dharmachakra","label":"Dharmachakra"},{"value":"fab|deviantart","label":"deviantART"},{"value":"fab|dev","label":"DEV"},{"value":"fas|desktop","label":"Desktop"},{"value":"fab|deskpro","label":"Deskpro"},{"value":"fab|deploydog","label":"deploy.dog"},{"value":"fas|democrat","label":"Democrat"},{"value":"fab|delicious","label":"Delicious"},{"value":"fas|deaf","label":"Deaf"},{"value":"fas|database","label":"Database"},{"value":"fab|dashcube","label":"DashCube"},{"value":"fab|dailymotion","label":"dailymotion"},{"value":"fab|d-and-d-beyond","label":"D&D Beyond"},{"value":"fab|d-and-d","label":"Dungeons & Dragons"},{"value":"fab|cuttlefish","label":"Cuttlefish"},{"value":"fas|cut","label":"Cut"},{"value":"fas|cubes","label":"Cubes"},{"value":"fas|cube","label":"Cube"},{"value":"fab|css3-alt","label":"Alternate CSS3 Logo"},{"value":"fab|css3","label":"CSS 3 Logo"},{"value":"fas|crutch","label":"Crutch"},{"value":"fas|crown","label":"Crown"},{"value":"fas|crow","label":"Crow"},{"value":"fas|crosshairs","label":"Crosshairs"},{"value":"fas|cross","label":"Cross"},{"value":"fas|crop-alt","label":"Alternate Crop"},{"value":"fas|crop","label":"crop"},{"value":"fab|critical-role","label":"Critical Role"},{"value":"fas|credit-card","label":"Credit Card"},{"value":"far|credit-card","label":"Credit Card"},{"value":"fab|creative-commons-zero","label":"Creative Commons CC0"},{"value":"fab|creative-commons-share","label":"Creative Commons Share"},{"value":"fab|creative-commons-sampling-plus","label":"Creative Commons Sampling +"},{"value":"fab|creative-commons-sampling","label":"Creative Commons Sampling"},{"value":"fab|creative-commons-sa","label":"Creative Commons Share Alike"},{"value":"fab|creative-commons-remix","label":"Creative Commons Remix"},{"value":"fab|creative-commons-pd-alt","label":"Alternate Creative Commons Public Domain"},{"value":"fab|creative-commons-pd","label":"Creative Commons Public Domain"},{"value":"fab|creative-commons-nd","label":"Creative Commons No Derivative Works"},{"value":"fab|creative-commons-nc-jp","label":"Creative Commons Noncommercial (Yen Sign)"},{"value":"fab|creative-commons-nc-eu","label":"Creative Commons Noncommercial (Euro Sign)"},{"value":"fab|creative-commons-nc","label":"Creative Commons Noncommercial"},{"value":"fab|creative-commons-by","label":"Creative Commons Attribution"},{"value":"fab|creative-commons","label":"Creative Commons"},{"value":"fab|cpanel","label":"cPanel"},{"value":"fas|couch","label":"Couch"},{"value":"fab|cotton-bureau","label":"Cotton Bureau"},{"value":"fas|copyright","label":"Copyright"},{"value":"far|copyright","label":"Copyright"},{"value":"fas|copy","label":"Copy"},{"value":"far|copy","label":"Copy"},{"value":"fas|cookie-bite","label":"Cookie Bite"},{"value":"fas|cookie","label":"Cookie"},{"value":"fab|contao","label":"Contao"},{"value":"fab|connectdevelop","label":"Connect Develop"},{"value":"fab|confluence","label":"Confluence"},{"value":"fas|concierge-bell","label":"Concierge Bell"},{"value":"fas|compress-arrows-alt","label":"Alternate Compress Arrows"},{"value":"fas|compress-alt","label":"Alternate Compress"},{"value":"fas|compress","label":"Compress"},{"value":"fas|compass","label":"Compass"},{"value":"far|compass","label":"Compass"},{"value":"fas|compact-disc","label":"Compact Disc"},{"value":"fas|comments-dollar","label":"Comments Dollar"},{"value":"fas|comments","label":"comments"},{"value":"far|comments","label":"comments"},{"value":"fas|comment-slash","label":"Comment Slash"},{"value":"fas|comment-medical","label":"Alternate Medical Chat"},{"value":"fas|comment-dots","label":"Comment Dots"},{"value":"far|comment-dots","label":"Comment Dots"},{"value":"fas|comment-dollar","label":"Comment Dollar"},{"value":"fas|comment-alt","label":"Alternate Comment"},{"value":"far|comment-alt","label":"Alternate Comment"},{"value":"fas|comment","label":"comment"},{"value":"far|comment","label":"comment"},{"value":"fas|columns","label":"Columns"},{"value":"fas|coins","label":"Coins"},{"value":"fas|cogs","label":"cogs"},{"value":"fas|cog","label":"cog"},{"value":"fas|coffee","label":"Coffee"},{"value":"fab|codiepie","label":"Codie Pie"},{"value":"fab|codepen","label":"Codepen"},{"value":"fas|code-branch","label":"Code Branch"},{"value":"fas|code","label":"Code"},{"value":"fas|cocktail","label":"Cocktail"},{"value":"fab|cloudversify","label":"cloudversify"},{"value":"fab|cloudsmith","label":"Cloudsmith"},{"value":"fab|cloudscale","label":"cloudscale.ch"},{"value":"fas|cloud-upload-alt","label":"Alternate Cloud Upload"},{"value":"fas|cloud-sun-rain","label":"Cloud with Sun and Rain"},{"value":"fas|cloud-sun","label":"Cloud with Sun"},{"value":"fas|cloud-showers-heavy","label":"Cloud with Heavy Showers"},{"value":"fas|cloud-rain","label":"Cloud with Rain"},{"value":"fas|cloud-moon-rain","label":"Cloud with Moon and Rain"},{"value":"fas|cloud-moon","label":"Cloud with Moon"},{"value":"fas|cloud-meatball","label":"Cloud with (a chance of) Meatball"},{"value":"fas|cloud-download-alt","label":"Alternate Cloud Download"},{"value":"fas|cloud","label":"Cloud"},{"value":"fas|closed-captioning","label":"Closed Captioning"},{"value":"far|closed-captioning","label":"Closed Captioning"},{"value":"fas|clone","label":"Clone"},{"value":"far|clone","label":"Clone"},{"value":"fas|clock","label":"Clock"},{"value":"far|clock","label":"Clock"},{"value":"fas|clipboard-list","label":"Clipboard List"},{"value":"fas|clipboard-check","label":"Clipboard with Check"},{"value":"fas|clipboard","label":"Clipboard"},{"value":"far|clipboard","label":"Clipboard"},{"value":"fas|clinic-medical","label":"Medical Clinic"},{"value":"fas|city","label":"City"},{"value":"fas|circle-notch","label":"Circle Notched"},{"value":"fas|circle","label":"Circle"},{"value":"far|circle","label":"Circle"},{"value":"fas|church","label":"Church"},{"value":"fab|chromecast","label":"Chromecast"},{"value":"fab|chrome","label":"Chrome"},{"value":"fas|child","label":"Child"},{"value":"fas|chevron-up","label":"chevron-up"},{"value":"fas|chevron-right","label":"chevron-right"},{"value":"fas|chevron-left","label":"chevron-left"},{"value":"fas|chevron-down","label":"chevron-down"},{"value":"fas|chevron-circle-up","label":"Chevron Circle Up"},{"value":"fas|chevron-circle-right","label":"Chevron Circle Right"},{"value":"fas|chevron-circle-left","label":"Chevron Circle Left"},{"value":"fas|chevron-circle-down","label":"Chevron Circle Down"},{"value":"fas|chess-rook","label":"Chess Rook"},{"value":"fas|chess-queen","label":"Chess Queen"},{"value":"fas|chess-pawn","label":"Chess Pawn"},{"value":"fas|chess-knight","label":"Chess Knight"},{"value":"fas|chess-king","label":"Chess King"},{"value":"fas|chess-board","label":"Chess Board"},{"value":"fas|chess-bishop","label":"Chess Bishop"},{"value":"fas|chess","label":"Chess"},{"value":"fas|cheese","label":"Cheese"},{"value":"fas|check-square","label":"Check Square"},{"value":"far|check-square","label":"Check Square"},{"value":"fas|check-double","label":"Double Check"},{"value":"fas|check-circle","label":"Check Circle"},{"value":"far|check-circle","label":"Check Circle"},{"value":"fas|check","label":"Check"},{"value":"fas|chart-pie","label":"Pie Chart"},{"value":"fas|chart-line","label":"Line Chart"},{"value":"fas|chart-bar","label":"Bar Chart"},{"value":"far|chart-bar","label":"Bar Chart"},{"value":"fas|chart-area","label":"Area Chart"},{"value":"fas|charging-station","label":"Charging Station"},{"value":"fas|chalkboard-teacher","label":"Chalkboard Teacher"},{"value":"fas|chalkboard","label":"Chalkboard"},{"value":"fas|chair","label":"Chair"},{"value":"fas|certificate","label":"certificate"},{"value":"fab|centos","label":"Centos"},{"value":"fab|centercode","label":"Centercode"},{"value":"fab|cc-visa","label":"Visa Credit Card"},{"value":"fab|cc-stripe","label":"Stripe Credit Card"},{"value":"fab|cc-paypal","label":"Paypal Credit Card"},{"value":"fab|cc-mastercard","label":"MasterCard Credit Card"},{"value":"fab|cc-jcb","label":"JCB Credit Card"},{"value":"fab|cc-discover","label":"Discover Credit Card"},{"value":"fab|cc-diners-club","label":"Diner's Club Credit Card"},{"value":"fab|cc-apple-pay","label":"Apple Pay Credit Card"},{"value":"fab|cc-amex","label":"American Express Credit Card"},{"value":"fab|cc-amazon-pay","label":"Amazon Pay Credit Card"},{"value":"fas|cat","label":"Cat"},{"value":"fas|cash-register","label":"Cash Register"},{"value":"fas|cart-plus","label":"Add to Shopping Cart"},{"value":"fas|cart-arrow-down","label":"Shopping Cart Arrow Down"},{"value":"fas|carrot","label":"Carrot"},{"value":"fas|caret-up","label":"Caret Up"},{"value":"fas|caret-square-up","label":"Caret Square Up"},{"value":"far|caret-square-up","label":"Caret Square Up"},{"value":"fas|caret-square-right","label":"Caret Square Right"},{"value":"far|caret-square-right","label":"Caret Square Right"},{"value":"fas|caret-square-left","label":"Caret Square Left"},{"value":"far|caret-square-left","label":"Caret Square Left"},{"value":"fas|caret-square-down","label":"Caret Square Down"},{"value":"far|caret-square-down","label":"Caret Square Down"},{"value":"fas|caret-right","label":"Caret Right"},{"value":"fas|caret-left","label":"Caret Left"},{"value":"fas|caret-down","label":"Caret Down"},{"value":"fas|caravan","label":"Caravan"},{"value":"fas|car-side","label":"Car Side"},{"value":"fas|car-crash","label":"Car Crash"},{"value":"fas|car-battery","label":"Car Battery"},{"value":"fas|car-alt","label":"Alternate Car"},{"value":"fas|car","label":"Car"},{"value":"fas|capsules","label":"Capsules"},{"value":"fas|cannabis","label":"Cannabis"},{"value":"fas|candy-cane","label":"Candy Cane"},{"value":"fab|canadian-maple-leaf","label":"Canadian Maple Leaf"},{"value":"fas|campground","label":"Campground"},{"value":"fas|camera-retro","label":"Retro Camera"},{"value":"fas|camera","label":"camera"},{"value":"fas|calendar-week","label":"Calendar with Week Focus"},{"value":"fas|calendar-times","label":"Calendar Times"},{"value":"far|calendar-times","label":"Calendar Times"},{"value":"fas|calendar-plus","label":"Calendar Plus"},{"value":"far|calendar-plus","label":"Calendar Plus"},{"value":"fas|calendar-minus","label":"Calendar Minus"},{"value":"far|calendar-minus","label":"Calendar Minus"},{"value":"fas|calendar-day","label":"Calendar with Day Focus"},{"value":"fas|calendar-check","label":"Calendar Check"},{"value":"far|calendar-check","label":"Calendar Check"},{"value":"fas|calendar-alt","label":"Alternate Calendar"},{"value":"far|calendar-alt","label":"Alternate Calendar"},{"value":"fas|calendar","label":"Calendar"},{"value":"far|calendar","label":"Calendar"},{"value":"fas|calculator","label":"Calculator"},{"value":"fab|buysellads","label":"BuySellAds"},{"value":"fab|buy-n-large","label":"Buy n Large"},{"value":"fas|business-time","label":"Business Time"},{"value":"fas|bus-alt","label":"Bus Alt"},{"value":"fas|bus","label":"Bus"},{"value":"fab|buromobelexperte","label":"Büromöbel-Experte GmbH & Co. KG."},{"value":"fas|burn","label":"Burn"},{"value":"fas|bullseye","label":"Bullseye"},{"value":"fas|bullhorn","label":"bullhorn"},{"value":"fas|building","label":"Building"},{"value":"far|building","label":"Building"},{"value":"fas|bug","label":"Bug"},{"value":"fab|buffer","label":"Buffer"},{"value":"fab|btc","label":"BTC"},{"value":"fas|brush","label":"Brush"},{"value":"fas|broom","label":"Broom"},{"value":"fas|broadcast-tower","label":"Broadcast Tower"},{"value":"fas|briefcase-medical","label":"Medical Briefcase"},{"value":"fas|briefcase","label":"Briefcase"},{"value":"fas|bread-slice","label":"Bread Slice"},{"value":"fas|brain","label":"Brain"},{"value":"fas|braille","label":"Braille"},{"value":"fas|boxes","label":"Boxes"},{"value":"fas|box-open","label":"Box Open"},{"value":"fas|box","label":"Box"},{"value":"fas|bowling-ball","label":"Bowling Ball"},{"value":"fas|border-style","label":"Border Style"},{"value":"fas|border-none","label":"Border None"},{"value":"fas|border-all","label":"Border All"},{"value":"fab|bootstrap","label":"Bootstrap"},{"value":"fas|bookmark","label":"bookmark"},{"value":"far|bookmark","label":"bookmark"},{"value":"fas|book-reader","label":"Book Reader"},{"value":"fas|book-open","label":"Book Open"},{"value":"fas|book-medical","label":"Medical Book"},{"value":"fas|book-dead","label":"Book of the Dead"},{"value":"fas|book","label":"book"},{"value":"fas|bong","label":"Bong"},{"value":"fas|bone","label":"Bone"},{"value":"fas|bomb","label":"Bomb"},{"value":"fas|bolt","label":"Lightning Bolt"},{"value":"fas|bold","label":"bold"},{"value":"fab|bluetooth-b","label":"Bluetooth"},{"value":"fab|bluetooth","label":"Bluetooth"},{"value":"fab|blogger-b","label":"Blogger B"},{"value":"fab|blogger","label":"Blogger"},{"value":"fas|blog","label":"Blog"},{"value":"fas|blind","label":"Blind"},{"value":"fas|blender-phone","label":"Blender Phone"},{"value":"fas|blender","label":"Blender"},{"value":"fab|blackberry","label":"BlackBerry"},{"value":"fab|black-tie","label":"Font Awesome Black Tie"},{"value":"fab|bity","label":"Bity"},{"value":"fab|bitcoin","label":"Bitcoin"},{"value":"fab|bitbucket","label":"Bitbucket"},{"value":"fas|birthday-cake","label":"Birthday Cake"},{"value":"fas|biohazard","label":"Biohazard"},{"value":"fas|binoculars","label":"Binoculars"},{"value":"fab|bimobject","label":"BIMobject"},{"value":"fas|biking","label":"Biking"},{"value":"fas|bicycle","label":"Bicycle"},{"value":"fas|bible","label":"Bible"},{"value":"fas|bezier-curve","label":"Bezier Curve"},{"value":"fas|bell-slash","label":"Bell Slash"},{"value":"far|bell-slash","label":"Bell Slash"},{"value":"fas|bell","label":"bell"},{"value":"far|bell","label":"bell"},{"value":"fab|behance-square","label":"Behance Square"},{"value":"fab|behance","label":"Behance"},{"value":"fas|beer","label":"beer"},{"value":"fas|bed","label":"Bed"},{"value":"fab|battle-net","label":"Battle.net"},{"value":"fas|battery-three-quarters","label":"Battery 3/4 Full"},{"value":"fas|battery-quarter","label":"Battery 1/4 Full"},{"value":"fas|battery-half","label":"Battery 1/2 Full"},{"value":"fas|battery-full","label":"Battery Full"},{"value":"fas|battery-empty","label":"Battery Empty"},{"value":"fas|bath","label":"Bath"},{"value":"fas|basketball-ball","label":"Basketball Ball"},{"value":"fas|baseball-ball","label":"Baseball Ball"},{"value":"fas|bars","label":"Bars"},{"value":"fas|barcode","label":"barcode"},{"value":"fab|bandcamp","label":"Bandcamp"},{"value":"fas|band-aid","label":"Band-Aid"},{"value":"fas|ban","label":"ban"},{"value":"fas|balance-scale-right","label":"Balance Scale (Right-Weighted)"},{"value":"fas|balance-scale-left","label":"Balance Scale (Left-Weighted)"},{"value":"fas|balance-scale","label":"Balance Scale"},{"value":"fas|bahai","label":"Bahá'í"},{"value":"fas|bacon","label":"Bacon"},{"value":"fas|backward","label":"backward"},{"value":"fas|backspace","label":"Backspace"},{"value":"fas|baby-carriage","label":"Baby Carriage"},{"value":"fas|baby","label":"Baby"},{"value":"fab|aws","label":"Amazon Web Services (AWS)"},{"value":"fas|award","label":"Award"},{"value":"fab|aviato","label":"Aviato"},{"value":"fab|avianex","label":"avianex"},{"value":"fab|autoprefixer","label":"Autoprefixer"},{"value":"fas|audio-description","label":"Audio Description"},{"value":"fab|audible","label":"Audible"},{"value":"fas|atom","label":"Atom"},{"value":"fab|atlassian","label":"Atlassian"},{"value":"fas|atlas","label":"Atlas"},{"value":"fas|at","label":"At"},{"value":"fab|asymmetrik","label":"Asymmetrik, Ltd."},{"value":"fas|asterisk","label":"asterisk"},{"value":"fas|assistive-listening-systems","label":"Assistive Listening Systems"},{"value":"fab|artstation","label":"Artstation"},{"value":"fas|arrows-alt-v","label":"Alternate Arrows Vertical"},{"value":"fas|arrows-alt-h","label":"Alternate Arrows Horizontal"},{"value":"fas|arrows-alt","label":"Alternate Arrows"},{"value":"fas|arrow-up","label":"arrow-up"},{"value":"fas|arrow-right","label":"arrow-right"},{"value":"fas|arrow-left","label":"arrow-left"},{"value":"fas|arrow-down","label":"arrow-down"},{"value":"fas|arrow-circle-up","label":"Arrow Circle Up"},{"value":"fas|arrow-circle-right","label":"Arrow Circle Right"},{"value":"fas|arrow-circle-left","label":"Arrow Circle Left"},{"value":"fas|arrow-circle-down","label":"Arrow Circle Down"},{"value":"fas|arrow-alt-circle-up","label":"Alternate Arrow Circle Up"},{"value":"far|arrow-alt-circle-up","label":"Alternate Arrow Circle Up"},{"value":"fas|arrow-alt-circle-right","label":"Alternate Arrow Circle Right"},{"value":"far|arrow-alt-circle-right","label":"Alternate Arrow Circle Right"},{"value":"fas|arrow-alt-circle-left","label":"Alternate Arrow Circle Left"},{"value":"far|arrow-alt-circle-left","label":"Alternate Arrow Circle Left"},{"value":"fas|arrow-alt-circle-down","label":"Alternate Arrow Circle Down"},{"value":"far|arrow-alt-circle-down","label":"Alternate Arrow Circle Down"},{"value":"fas|archway","label":"Archway"},{"value":"fas|archive","label":"Archive"},{"value":"fab|apple-pay","label":"Apple Pay"},{"value":"fas|apple-alt","label":"Fruit Apple"},{"value":"fab|apple","label":"Apple"},{"value":"fab|apper","label":"Apper Systems AB"},{"value":"fab|app-store-ios","label":"iOS App Store"},{"value":"fab|app-store","label":"App Store"},{"value":"fas|ankh","label":"Ankh"},{"value":"fab|angular","label":"Angular"},{"value":"fab|angrycreative","label":"Angry Creative"},{"value":"fas|angry","label":"Angry Face"},{"value":"far|angry","label":"Angry Face"},{"value":"fas|angle-up","label":"angle-up"},{"value":"fas|angle-right","label":"angle-right"},{"value":"fas|angle-left","label":"angle-left"},{"value":"fas|angle-down","label":"angle-down"},{"value":"fas|angle-double-up","label":"Angle Double Up"},{"value":"fas|angle-double-right","label":"Angle Double Right"},{"value":"fas|angle-double-left","label":"Angle Double Left"},{"value":"fas|angle-double-down","label":"Angle Double Down"},{"value":"fab|angellist","label":"AngelList"},{"value":"fab|android","label":"Android"},{"value":"fas|anchor","label":"Anchor"},{"value":"fab|amilia","label":"Amilia"},{"value":"fas|american-sign-language-interpreting","label":"American Sign Language Interpreting"},{"value":"fas|ambulance","label":"ambulance"},{"value":"fab|amazon-pay","label":"Amazon Pay"},{"value":"fab|amazon","label":"Amazon"},{"value":"fas|allergies","label":"Allergies"},{"value":"fab|alipay","label":"Alipay"},{"value":"fas|align-right","label":"align-right"},{"value":"fas|align-left","label":"align-left"},{"value":"fas|align-justify","label":"align-justify"},{"value":"fas|align-center","label":"align-center"},{"value":"fab|algolia","label":"Algolia"},{"value":"fab|airbnb","label":"Airbnb"},{"value":"fas|air-freshener","label":"Air Freshener"},{"value":"fab|affiliatetheme","label":"affiliatetheme"},{"value":"fab|adversal","label":"Adversal"},{"value":"fab|adobe","label":"Adobe"},{"value":"fab|adn","label":"App.net"},{"value":"fas|adjust","label":"adjust"},{"value":"fas|address-card","label":"Address Card"},{"value":"far|address-card","label":"Address Card"},{"value":"fas|address-book","label":"Address Book"},{"value":"far|address-book","label":"Address Book"},{"value":"fas|ad","label":"Ad"},{"value":"fab|acquisitions-incorporated","label":"Acquisitions Incorporated"},{"value":"fab|accusoft","label":"Accusoft"},{"value":"fab|accessible-icon","label":"Accessible Icon"},{"value":"fab500px","label":"500px"}]`),Cs=[{value:"overlay",label:"moorl-select.itemLayout.overlay"},{value:"image-or-title",label:"moorl-select.itemLayout.image-or-title"},{value:"image-content",label:"moorl-select.itemLayout.image-content"},{value:"content-image",label:"moorl-select.itemLayout.content-image"},{value:"avatar",label:"moorl-select.itemLayout.avatar"},{value:"standard",label:"moorl-select.itemLayout.standard"},{value:"custom",label:"moorl-select.itemLayout.custom"}],Ss=[{value:"grid",label:"moorl-select.listingLayout.grid"},{value:"list",label:"moorl-select.listingLayout.list"},{value:"standard",label:"moorl-select.listingLayout.standard"},{value:"slider",label:"moorl-select.listingLayout.slider"},{value:"search-suggest",label:"moorl-select.listingLayout.search-suggest"}],xs=[{value:"static",label:"moorl-select.listingSource.static"},{value:"select",label:"moorl-select.listingSource.select"},{value:"auto",label:"moorl-select.listingSource.auto"}],ks=[{value:"normal",label:"moorl-select.cssJustifyContent.normal"},{value:"stretch",label:"moorl-select.cssJustifyContent.stretch"},{value:"flex-start",label:"moorl-select.cssJustifyContent.flex-start"},{value:"flex-end",label:"moorl-select.cssJustifyContent.flex-end"},{value:"center",label:"moorl-select.cssJustifyContent.center"},{value:"space-between",label:"moorl-select.cssJustifyContent.space-between"},{value:"space-around",label:"moorl-select.cssJustifyContent.space-around"},{value:"space-evenly",label:"moorl-select.cssJustifyContent.space-evenly"}],Ls=[{value:"outside",label:"moorl-select.navigationArrows.outside"},{value:"inside",label:"moorl-select.navigationArrows.inside"}],Is=[{value:"outside",label:"moorl-select.navigationDots.outside"},{value:"inside",label:"moorl-select.navigationDots.inside"},{value:"thumbnails",label:"moorl-select.navigationDots.thumbnails"}],Ps=[{value:"carousel",label:"moorl-select.sliderMode.carousel"},{value:"gallery",label:"moorl-select.sliderMode.gallery"}],Ms=[{value:"left",label:"moorl-select.horizontalAlign.left"},{value:"center",label:"moorl-select.horizontalAlign.center"},{value:"right",label:"moorl-select.horizontalAlign.right"}],Ts=[{value:"top",label:"moorl-select.verticalAlign.top"},{value:"center",label:"moorl-select.verticalAlign.center"},{value:"bottom",label:"moorl-select.verticalAlign.bottom"}],As=[{value:"isLoaded",label:"moorl-select.domElementState.isLoaded"},{value:"isOverBottom",label:"moorl-select.domElementState.isOverBottom"},{value:"isInViewport",label:"moorl-select.domElementState.isInViewport"}],$s=[{value:"none",label:"moorl-select.svgShape.none"},{value:"rect",label:"moorl-select.svgShape.rect"},{value:"circle",label:"moorl-select.svgShape.circle"},{value:"ellipse",label:"moorl-select.svgShape.ellipse"}],Es=[{value:"px",label:"moorl-select.cssSizeUnit.px"},{value:"%",label:"moorl-select.cssSizeUnit.pc"}],Bs=[{value:"fa",label:"moorl-select.iconType.fa"},{value:"svg",label:"moorl-select.iconType.svg"},{value:"media",label:"moorl-select.iconType.media"}],Os=[{value:"is",label:"=="},{value:"not",label:"!="},{value:"lt",label:"&lt;"},{value:"gt",label:"&gt;"},{value:"contains",label:"in"},{value:"isset",label:"isset"}],Ds=[{value:"wrap",label:"moorl-select.cssFlexWrap.wrap"},{value:"nowrap",label:"moorl-select.cssFlexWrap.nowrap"}],zs=[{value:"column",label:"moorl-select.cssFlexDirection.column"},{value:"row",label:"moorl-select.cssFlexDirection.row"}],Fs=[{value:"fill",label:"moorl-select.cssObjectFit.fill"},{value:"contain",label:"moorl-select.cssObjectFit.contain"},{value:"cover",label:"moorl-select.cssObjectFit.cover"},{value:"none",label:"moorl-select.cssObjectFit.none"},{value:"scale-down",label:"moorl-select.cssObjectFit.scale-down"}],Ns=[{value:"block",label:"moorl-select.cssDisplay.block"},{value:"flex",label:"moorl-select.cssDisplay.flex"},{value:"inline",label:"moorl-select.cssDisplay.inline"},{value:"none",label:"moorl-select.cssDisplay.none"},{value:"inline-block",label:"moorl-select.cssDisplay.inline-block"},{value:"inline-flex",label:"moorl-select.cssDisplay.inline-flex"}],Rs=[{value:"UTC",label:"UTC"},{value:"Europe/Berlin",label:"Europa/Berlin (MEZ)"},{value:"Europe/London",label:"Europa/London (GMT)"},{value:"Europe/Paris",label:"Europa/Paris"},{value:"Europe/Moscow",label:"Europa/Moskau"},{value:"America/New_York",label:"Amerika/New York (EST)"},{value:"America/Chicago",label:"Amerika/Chicago (CST)"},{value:"America/Denver",label:"Amerika/Denver (MST)"},{value:"America/Los_Angeles",label:"Amerika/Los Angeles (PST)"},{value:"America/Sao_Paulo",label:"Amerika/São Paulo"},{value:"Asia/Dubai",label:"Asien/Dubai"},{value:"Asia/Tokyo",label:"Asien/Tokio"},{value:"Asia/Shanghai",label:"Asien/Shanghai"},{value:"Asia/Singapore",label:"Asien/Singapur"},{value:"Asia/Kolkata",label:"Asien/Kalkutta"},{value:"Australia/Sydney",label:"Australien/Sydney"},{value:"Pacific/Auckland",label:"Pazifik/Auckland"},{value:"Africa/Johannesburg",label:"Afrika/Johannesburg"},{value:"Africa/Cairo",label:"Afrika/Kairo"}],qs=[{value:"public",label:"moorl-select.visibility.public"},{value:"private",label:"moorl-select.visibility.private"}],Zs=[{value:"progressBarAbs",label:"moorl-select.stockType.progressBarAbs"},{value:"progressBarPc",label:"moorl-select.stockType.progressBarPc"},{value:"text",label:"moorl-select.stockType.text"}],Hs=[{value:"countdown",label:"moorl-select.countdownType.countdown"},{value:"relative",label:"moorl-select.countdownType.relative"},{value:"time",label:"moorl-select.countdownType.time"},{value:"hidden",label:"moorl-select.countdownType.hidden"}],js=[{value:"minute",label:"moorl-select.interval.minute"},{value:"hour",label:"moorl-select.interval.hour"},{value:"day",label:"moorl-select.interval.day"}],ba=[{value:-1,label:"auto-fill"},{value:0,label:"auto-fit"}];for(let i=1;i<=12;i++)ba.push({value:i,label:`${i}/12`});const ya=[{value:0,label:"auto"}];for(let i=1;i<=48;i++)ya.push({value:i,label:`${i}`});const _a=[];for(let i=1;i<=12;i++)_a.push({value:i,label:i});const da={animateCss:fs,bsButton:gs,bsColorScheme:vs,displayMode:bs,flexHorizontalAlign:ys,flexVerticalAlign:_s,fontAwesomeIcon:ws,itemLayout:Cs,listingLayout:Ss,navigationArrows:Ls,navigationDots:Is,sliderMode:Ps,textHorizontalAlign:Ms,textVerticalAlign:Ts,listingSource:xs,cssJustifyContent:ks,domElementState:As,svgShape:$s,cssSizeUnit:Es,iconType:Bs,operator:Os,cssFlexWrap:Ds,cssFlexDirection:zs,cssObjectFit:Fs,cssDisplay:Ns,timeZone:Rs,visibility:qs,stockType:Zs,countdownType:Hs,interval:js,bsGridWidth:ba,bsGridOrder:ya,bsGridColumns:_a},qe={animateIn:{set:"animateCss"},animateOut:{set:"animateCss"},animateHover:{set:"animateCss"},animateCss:{variant:"small",translated:!1,showClearableButton:!0},operator:{variant:"small",translated:!1},bsGridWidth:{variant:"small",translated:!1},bsGridOrder:{variant:"small",translated:!1},cssDisplay:{showClearableButton:!0},cssFlexDirection:{showClearableButton:!0},cssJustifyContent:{showClearableButton:!0},cssFlexWrap:{showClearableButton:!0},flexHorizontalAlign:{showClearableButton:!0},flexVerticalAlign:{showClearableButton:!0},textHorizontalAlign:{showClearableButton:!0},textVerticalAlign:{showClearableButton:!0}};Shopware.Component.register("moorl-select-field",{template:hs,emits:["update:value"],inject:["foundationApiService"],props:{value:{type:[String,Array],required:!1,default:void 0},multiple:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:void 0},label:{type:String,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},helpText:{type:String,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},showClearableButton:{type:Boolean,required:!1,default:void 0},set:{type:String,required:!0,default:"customSet"},filter:{type:Array,required:!1,default:[]},customSet:{type:[String,Array],required:!1,default:[]},snippetPath:{type:String,required:!1,default:void 0},valueProperty:{type:String,required:!0,default:"value"},labelProperty:{type:String,required:!0,default:"label"}},data(){return{setOptions:[]}},created(){this.createdComponent()},computed:{vBind(){return{label:this.currentLabel,helpText:this.helpText,placeholder:this.currentPlaceholder,showClearableButton:this.currentShowClearableButton,options:this.options,disabled:this.disabled,isLoading:this.isLoading}},componentName(){return this.multiple?"sw-multi-select":"sw-single-select"},currentValue:{get(){return this.value},set(i){this.$emit("update:value",i??null)}},currentSet(){return qe[this.set]===void 0||qe[this.set].set===void 0?this.set:qe[this.set].set},currentVariant(){return this.variant?this.variant:qe[this.currentSet]===void 0||qe[this.currentSet].variant===void 0?"normal":qe[this.currentSet].variant},currentShowClearableButton(){return this.showClearableButton!==void 0?this.showClearableButton:qe[this.currentSet]===void 0||qe[this.currentSet].showClearableButton===void 0?!1:qe[this.currentSet].showClearableButton},translated(){return this.snippetPath||qe[this.currentSet]===void 0||qe[this.currentSet].translated===void 0?!0:qe[this.currentSet].translated},currentLabel(){if(this.label)return this.label;if(this.currentVariant!=="small")return this.$tc(`moorl-select.label.${this.set}`)},currentPlaceholder(){return this.placeholder?this.placeholder:this.currentVariant==="small"?this.$tc(`moorl-select.label.${this.set}`):this.$tc("moorl-select.label.none")},options(){const i=[];return this.setOptions.forEach(a=>{let r=null,c=null;typeof a!="object"?(r=a,c=this.getLabel(a)):a[this.valueProperty]!==void 0&&a.translated!==void 0&&a.translated[this.labelProperty]!==void 0?(r=a[this.valueProperty],c=a.translated[this.labelProperty]):a[this.valueProperty]!==void 0&&a[this.labelProperty]!==void 0&&(r=a[this.valueProperty],c=this.translated?this.$tc(a[this.labelProperty]):this.getLabel(a[this.labelProperty])),!(this.filter.length&&this.filter.indexOf(r)===-1)&&i.push({value:r,label:c})}),i}},methods:{createdComponent(){if(this.set==="customSet"){if(Array.isArray(this.customSet)){this.setOptions=this.customSet;return}else if(typeof this.customSet=="string"){this.foundationApiService.get(this.customSet).then(i=>{this.setOptions=i});return}}if(da[this.currentSet]===void 0){this.setOptions=[{value:null,label:`set ${this.currentSet} not found`}];return}this.setOptions=da[this.currentSet]},getLabel(i){return this.snippetPath?this.$tc(`${this.snippetPath}.${i}`):i}}});const Us=`<div class="moorl-media-gallery"> <sw-upload-listener v-if="!isLoading" :upload-tag="currentItem.id" auto-upload @media-upload-finish="successfulUpload" @media-upload-fail="onUploadFailed" /> <sw-media-upload-v2 v-if="!isLoading" :upload-tag="currentItem.id" :scroll-target="$parent.$el" :default-folder="defaultFolder" @media-upload-sidebar-open="onOpenMediaModal" /> <div class="moorl-media-gallery__previews"> <div class="moorl-media-gallery__cover-container moorl-media-gallery__column" > <div v-if="currentItem.cover || cover" class="moorl-media-gallery__preview-cover" > <div class="preview-cover"> <sw-media-preview-v2 class="moorl-media-gallery__cover-image" :source="cover ? cover.mediaId : currentItem.cover.mediaId" /> <span> {{ $tc('sw-product.mediaForm.coverSubline') }} </span> </div> </div> <div v-else class="moorl-media-gallery__cover-image is--placeholder" > {{ $tc('sw-product.mediaForm.coverSubline') }} </div> </div> <div v-if="!isLoading" class="moorl-media-gallery__grid moorl-media-gallery__column" :style="gridAutoRows" > <sw-product-image v-for="mediaItem in mediaItems" :key="mediaItem.id" v-draggable="{ dragGroup: 'ad-media', data: mediaItem, onDragEnter: onMediaItemDragSort }" v-droppable="{ dragGroup: 'ad-media', data: mediaItem }" :is-cover="isCover(mediaItem)" :is-placeholder="mediaItem.isPlaceholder" :media-id="mediaItem.mediaId" :show-cover-label="showCoverLabel" @sw-product-image-delete="removeFile(mediaItem)" @sw-product-image-cover="markMediaAsCover(mediaItem)" /> </div> <mt-loader v-else/> </div> <sw-media-modal-v2 v-if="showMediaModal" entity-context="entity" @media-modal-selection-change="onAddMedia" @modal-close="onCloseMediaModal" /> </div>`,{isEmpty:ua}=Shopware.Utils.types;Shopware.Component.register("moorl-media-gallery",{template:Us,inject:["repositoryFactory","acl"],mixins:[Shopware.Mixin.getByName("notification")],props:{item:{type:Object,required:!0},entity:{type:String,required:!0},defaultFolder:{type:String,required:!1,default:"product"},mediaProperty:{type:String,required:!1,default:"media"},coverProperty:{type:String,required:!1,default:"cover"},coverIdProperty:{type:String,required:!1,default:"coverId"}},data(){return{showCoverLabel:!0,showMediaModal:!1,isMediaLoading:!1,columnCount:5,columnWidth:90}},computed:{currentItem(){return this.item},mediaItems(){const i=this.itemMedia.slice(),a=this.getPlaceholderCount(this.columnCount);if(a===0)return i;for(let r=0;r<a;r+=1)i.push(this.createPlaceholderMedia(i));return i},cover(){var a;if(!((a=this.currentItem)!=null&&a.media))return null;const i=this.currentItem.cover?this.currentItem.cover.mediaId:this.currentItem.coverId;return this.currentItem.media.find(r=>r.id===i)},isLoading(){return this.isMediaLoading||this.isStoreLoading},itemMediaRepository(){return this.repositoryFactory.create(this.entity)},itemMedia(){return this.item[this.mediaProperty]??[]},itemCover(){return this.item[this.coverProperty]},itemCoverId(){return this.item[this.coverIdProperty]},itemMediaStore(){return this.item.getAssociation("media")},gridAutoRows(){return`grid-auto-rows: ${this.columnWidth}`}},methods:{onOpenMediaModal(){this.showMediaModal=!0},onCloseMediaModal(){this.showMediaModal=!1},onAddMedia(i){ua(i)||i.forEach(a=>{this.addMedia(a).catch(({fileName:r})=>{this.createNotificationError({message:this.$tc("sw-product.mediaForm.errorMediaItemDuplicated",0,{fileName:r})})})})},addMedia(i){if(this.isExistingMedia(i))return Promise.reject(i);const a=this.itemMediaRepository.create(Shopware.Context.api);return a.mediaId=i.id,a.media={url:i.url,id:i.id},ua(this.itemMedia)&&this.markMediaAsCover(a),this.itemMedia.add(a),Promise.resolve()},isExistingMedia(i){return this.itemMedia.some(({id:a,mediaId:r})=>a===i.id||r===i.id)},onMediaUploadButtonOpenSidebar(){this.$root.$emit("sidebar-toggle-open")},updateColumnCount(){this.$nextTick(()=>{if(this.isLoading)return!1;const i=window.getComputedStyle(this.$refs.grid,null).getPropertyValue("grid-template-columns").split(" ");return this.columnCount=i.length,this.columnWidth=i[0],!0})},getPlaceholderCount(i){this.itemMedia.length+3<i*2&&(i*=2);let a=i;return this.itemMedia.length!==0&&(a=i-this.itemMedia.length%i,a===i)?0:a},createPlaceholderMedia(i){return{isPlaceholder:!0,isCover:i.length===0,media:{isPlaceholder:!0,name:""},mediaId:i.length.toString()}},buildProductMedia(i){this.isLoading=!0;const a=this.itemMediaStore.create();return a.mediaId=i,this.itemMedia.length===0?(a.position=0,this.currentItem.cover=a,this.currentItem.coverId=a.id):a.position=this.itemMedia.length+1,this.isLoading=!1,a},successfulUpload({targetId:i}){if(this.currentItem.media.find(r=>r.mediaId===i))return;const a=this.createMediaAssociation(i);this.currentItem.media.add(a)},createMediaAssociation(i){const a=this.itemMediaRepository.create();return a.appflixAdId=this.currentItem.id,a.mediaId=i,this.currentItem.media.length<=0?(a.position=0,this.currentItem.coverId=a.id):a.position=this.currentItem.media.length,a},onUploadFailed(i){const a=this.currentItem.media.find(r=>r.mediaId===i.targetId);a&&(this.currentItem.coverId===a.id&&(this.currentItem.coverId=null),this.currentItem.media.remove(a.id)),this.currentItem.isLoading=!1},removeCover(){this.currentItem.cover=null,this.currentItem.coverId=null},isCover(i){const a=this.currentItem.cover?this.currentItem.cover.id:this.currentItem.coverId;return this.currentItem.media.length===0||i.isPlaceholder?!1:i.id===a},removeFile(i){this.currentItem.coverId===i.id&&(this.currentItem.cover=null,this.currentItem.coverId=null),this.currentItem.coverId===null&&this.currentItem.media.length>0&&(this.currentItem.coverId=this.currentItem.media.first().id),this.currentItem.media.remove(i.id)},markMediaAsCover(i){this.currentItem.cover=i,this.currentItem.coverId=i.id},onMediaItemDragSort(i,a,r){r===!0&&(this.currentItem.media.moveItem(i.position,a.position),this.updateMediaItemPositions())},updateMediaItemPositions(){this.itemMedia.forEach((i,a)=>{i.position=a})}}});const Vs=`<div class="moorl-bs-config sw-field"> <div v-if="label"> <div class="sw-field__label"> <label>{{ label }}</label> </div> </div> <div class="moorl-bs-config-items"> <div class="moorl-bs-config-item" v-for="behaviour in defaultBehaviour" > <div class="moorl-bs-config-icon"> <mt-icon :name="behaviour.icon"/> <span>{{ behaviour.breakpoint }}</span> </div> <mt-switch v-if="showInherit" :label="$tc('moorl-bs-config.label.inherit')" v-model="value[behaviour.breakpoint].inherit" v-tooltip="helpText(behaviour.breakpoint,'inherit')" /> <mt-switch :disabled="value[behaviour.breakpoint].inherit" v-if="showShow" :label="$tc('moorl-bs-config.label.show')" v-model="value[behaviour.breakpoint].show" v-tooltip="helpText(behaviour.breakpoint,'show')" /> <moorl-select-field :disabled="value[behaviour.breakpoint].inherit" v-model:value="value[behaviour.breakpoint].width" v-tooltip="helpText(behaviour.breakpoint,'width')" set="bsGridWidth" /> <moorl-select-field :disabled="value[behaviour.breakpoint].inherit" v-model:value="value[behaviour.breakpoint].order" v-tooltip="helpText(behaviour.breakpoint,'order')" set="bsGridOrder" /> </div> </div> </div>`;Shopware.Component.register("moorl-bs-config",{template:Vs,props:{value:{type:Object,required:!0,default:{}},showInherit:{type:Boolean,required:!1,default:!0},showShow:{type:Boolean,required:!1,default:!0},showWidth:{type:Boolean,required:!1,default:!0},showOrder:{type:Boolean,required:!1,default:!0},label:{type:String,required:!1,default:null},name:{type:String,required:!1,default:null}},computed:{defaultBehaviour(){return[{icon:"regular-mobile",breakpoint:"xs"},{icon:"regular-mobile",breakpoint:"sm"},{icon:"regular-tablet",breakpoint:"md"},{icon:"regular-tablet",breakpoint:"lg"},{icon:"regular-desktop",breakpoint:"xl"},{icon:"regular-desktop",breakpoint:"xxl"}]},elementName(){return this.name?this.name:this.$tc("moorl-bs-config.label.elementName")}},created(){this.initValue()},methods:{initValue(){for(let i of this.defaultBehaviour)this.value[i.breakpoint]||(this.value[i.breakpoint]={inherit:!0,show:!0,width:12,order:0})},helpText(i,a){return{position:"top",showDelay:1e3,hideDelay:0,message:this.$tc(`moorl-bs-config.helpText.${a}`,0,{breakpoint:i,elementName:this.elementName})}}}});const Ws=`<ul class="moorl-opening-hours"> <li class="day" v-for="(dayItem, dayIndex) in value" > <div class="moorl-opening-hours-title"> {{ $tc('moorl-opening-hours.days.' + dayItem.day) }} </div> <div class="moorl-opening-hours-actions"> <mt-button @click="removeTimes(dayIndex)" :disabled="disabled" variant="secondary" > <mt-icon name="regular-trash" size="16px" /> {{ $tc('moorl-opening-hours.action.remove') }} </mt-button> <mt-button @click="addTimes(dayIndex)" :disabled="disabled" variant="secondary" > <mt-icon name="regular-plus" size="16px" /> {{ $tc('moorl-opening-hours.action.add') }} </mt-button> </div> <template v-if="dayItem.times.length > 0"> <ul class="moorl-opening-hours-times"> <li v-for="time in dayItem.times"> <mt-datepicker dateType="time" size="small" v-model="time.from" :disabled="disabled" /> <mt-datepicker dateType="time" size="small" v-model="time.until" :disabled="disabled" /> </li> </ul> </template> <template v-else> <mt-text-field :placeholder="$tc('moorl-opening-hours.action.enterClosedHint')" v-model="dayItem.info" :disabled="disabled" /> </template> </li> </ul>`;Shopware.Component.register("moorl-opening-hours",{template:Ws,emits:["update:value"],props:["value","disabled"],watch:{value:function(){this.$emit("input",this.value)}},created(){(!this.value||this.value===!0)&&this.$emit("update:value",[{day:"monday",info:null,times:[{from:"08:00",until:"12:00"},{from:"14:00",until:"18:00"}]},{day:"tuesday",info:null,times:[{from:"08:00",until:"12:00"},{from:"14:00",until:"18:00"}]},{day:"wednesday",info:null,times:[{from:"08:00",until:"12:00"},{from:"14:00",until:"18:00"}]},{day:"thursday",info:null,times:[{from:"08:00",until:"12:00"},{from:"14:00",until:"18:00"}]},{day:"friday",info:null,times:[{from:"08:00",until:"12:00"},{from:"14:00",until:"18:00"}]},{day:"saturday",info:null,times:[]},{day:"sunday",info:null,times:[]}])},methods:{removeTimes(i){this.value[i].times.pop()},addTimes(i){this.value[i].times.push({from:null,until:null})}}});const Gs=`<div class="moorl-svg-shape"> <sw-container columns="2fr 1fr" gap="0px 20px" > <moorl-select-field v-model:value="value.shape" set="svgShape" /> <moorl-select-field v-model:value="value.unit" set="cssSizeUnit" /> </sw-container> <template v-if="value.shape"> <sw-container columns="1fr 1fr" gap="0px 20px" > <mt-number-field v-if="['rect'].includes(value.shape)" v-model="value.width" :label="$tc('moorl-svg-shape.label.width')" /> <mt-number-field v-if="['rect'].includes(value.shape)" v-model="value.height" :label="$tc('moorl-svg-shape.label.height')" /> <mt-number-field v-if="['rect'].includes(value.shape)" v-model="value.x" :label="$tc('moorl-svg-shape.label.x')" /> <mt-number-field v-if="['rect'].includes(value.shape)" v-model="value.y" :label="$tc('moorl-svg-shape.label.y')" /> <mt-number-field v-if="['rect','ellipse'].includes(value.shape)" v-model="value.rx" :label="$tc('moorl-svg-shape.label.rx')" /> <mt-number-field v-if="['rect','ellipse'].includes(value.shape)" v-model="value.ry" :label="$tc('moorl-svg-shape.label.ry')" /> <mt-number-field v-if="['circle'].includes(value.shape)" v-model="value.r" :label="$tc('moorl-svg-shape.label.r')" /> <mt-number-field v-if="['circle','ellipse'].includes(value.shape)" v-model="value.cx" :label="$tc('moorl-svg-shape.label.cx')" /> <mt-number-field v-if="['circle','ellipse'].includes(value.shape)" v-model="value.cy" :label="$tc('moorl-svg-shape.label.cy')" /> </sw-container> <mt-textarea v-model="value.style" :label="$tc('moorl-svg-shape.label.style')" /> </template> </div>`;Shopware.Component.register("moorl-svg-shape",{template:Gs,emits:["update:value"],props:{value:{type:Object,required:!0,default:{}}},created(){this.createdComponent()},methods:{createdComponent(){const i=Object.assign({shape:"none",unit:"px",width:100,height:100,x:0,y:0,rx:0,ry:0,r:50,cx:50,cy:50,style:""});Object.assign(i,this.value),this.$emit("update:value",i)}}});const Ys=`{% block moorl_animation %} <div v-if="item" class="moorl-animation-field" > <template v-for="type in ['in','out','hover']"> <mt-switch :label="$tc('moorl-animation-field.label.active')" bordered v-model="item[type].active" /> <moorl-select-field :label="$tc('moorl-animation-field.label.name.' + type)" :helpText="$tc('helpText.name')" v-model:value="item[type].name" set="animateCss" /> <moorl-select-field :label="$tc('moorl-animation-field.label.condition')" v-model:value="item[type].condition" set="domElementState" /> <mt-number-field v-model="item[type].duration" :label="$tc('moorl-animation-field.label.duration')" /> <mt-number-field v-model="item[type].delay" :label="$tc('moorl-animation-field.label.delay')" /> </template> </div> {% endblock %}`,Ks={active:!1,name:"none",condition:"isInViewport",duration:1e3,delay:0},Xs={active:!1,name:"none",condition:"isInViewport",duration:1e3,delay:0},Js={in:{active:!1,name:"none",condition:"isInViewport",duration:1e3,delay:0},out:Ks,hover:Xs};Shopware.Component.register("moorl-animation-field",{template:Ys,emits:["update:item"],props:{item:{type:Object,required:!0}},created(){this.item||this.$emit("update:item",Js)}});const Qs=`{% block moorl_properties %} <template v-if="itemHasProperties"> <sw-container rows="auto auto"> <sw-card-section secondary divider="bottom" > <sw-container columns="1fr auto" gap="0 15px" > <sw-simple-search-field v-model:value="searchTerm" variant="form" size="small" :placeholder="$tc('sw-product.properties.placeholderSearchAddedProperties')" :disabled="isPropertiesLoading || undefined" @search-term-change="onChangeSearchTerm" /> <mt-button class="moorl-properties__button-add-property" ghost size="small" variant="secondary" @click="turnOnAddPropertiesModal" > {{ $tc('sw-product.properties.buttonAddProperty') }} </mt-button> </sw-container> </sw-card-section> <sw-entity-listing v-if="properties.length > 0" ref="entityListing" class="moorl-properties__list" detail-route="sw.property.detail" identifier="moorl-properties-list" plain-appearance :items="properties" :data-source="properties" :columns="propertyColumns" :repository="propertyGroupRepository" :full-page="false" :show-settings="false" :allow-column-edit="false" :allow-inline-edit="false" > <template #column-values="{ item }"> <div v-for="option in item.options" :key="option.id" class="moorl-properties-list__column-values" > <sw-label size="medium" @dismiss="onDeletePropertyValue(option)" > {{ option.translated.name }} </sw-label> </div> </template> <template #delete-modal-delete-item="{ item }"> <mt-button variant="danger" size="small" @click="onDeleteProperty(item)" > {{ $tc('global.default.delete') }} </mt-button> </template> <template #bulk-modal-delete-items> <mt-button variant="danger" size="small" @click="onDeleteProperties" > {{ $tc('global.default.delete') }} </mt-button> </template> </sw-entity-listing> <sw-empty-state v-if="properties.length <= 0" class="moorl-properties__empty-state has--no-search-result" :absolute="false" :show-description="false" :title="$tc('sw-product.properties.titleEmptyStateList')" > <template #icon> <img :src="assetFilter('administration/administration/static/img/empty-states/products-empty-state.svg')" :alt="$tc('sw-product.properties.titleEmptyStateList')" /> </template> </sw-empty-state> <mt-loader v-if="isPropertiesLoading"/> </sw-container> </template> <sw-empty-state v-if="!itemHasProperties" class="moorl-properties__empty-state has--no-properties" :absolute="false" :show-description="false" :title="$tc('sw-product.properties.titleEmptyState')" > <template #icon> <img :src="assetFilter('administration/administration/static/img/empty-states/products-empty-state.svg')" :alt="$tc('sw-product.properties.titleEmptyState')" /> </template> <template #actions> <mt-button ghost @click="turnOnAddPropertiesModal" > {{ $tc('sw-product.properties.buttonAddProperties') }} </mt-button> </template> </sw-empty-state> <sw-product-add-properties-modal v-if="showAddPropertiesModal" :new-properties="newProperties" :properties-available="propertiesAvailable" @modal-cancel="onCancelAddPropertiesModal" @modal-save="onSaveAddPropertiesModal($event, updateCurrentValue)" /> {% endblock %}`,{Criteria:ht,EntityCollection:el}=Shopware.Data;Shopware.Component.register("moorl-properties",{template:Qs,compatConfig:Shopware.compatConfig,inject:["repositoryFactory","acl"],emits:["update:entityCollection"],props:{entityCollection:{type:Array,required:!0},label:{type:String,required:!1,default:""}},data(){return{groupIds:[],properties:[],isPropertiesLoading:!1,searchTerm:null,showAddPropertiesModal:!1,newProperties:[],propertiesAvailable:!0}},computed:{propertyGroupRepository(){return this.repositoryFactory.create("property_group")},propertyOptionRepository(){return this.repositoryFactory.create("property_group_option")},propertyGroupCriteria(){const i=new ht(1,10);i.addSorting(ht.sort("name","ASC",!1)),i.addFilter(ht.equalsAny("id",this.groupIds)),this.searchTerm&&i.setTerm(this.searchTerm);const a=this.itemProperties.getIds();return i.getAssociation("options").addFilter(ht.equalsAny("id",a)),i.addFilter(ht.equalsAny("options.id",a)),i},propertyColumns(){return[{property:"name",label:"sw-product.properties.columnProperty",sortable:!1,routerLink:"sw.property.detail"},{property:"values",label:"sw-product.properties.columnValue",sortable:!1}]},itemProperties(){return this.entityCollection},assetFilter(){return Shopware.Filter.getByName("asset")},itemHasProperties(){return this.groupIds.length>0}},watch:{itemProperties:{immediate:!0,handler(i){i&&(this.getGroupIds(),this.getProperties())}}},created(){this.createdComponent()},methods:{createdComponent(){this.checkIfPropertiesExists()},getGroupIds(){this.groupIds=this.itemProperties.reduce((i,{groupId:a})=>(i.indexOf(a)<0&&i.push(a),i),[])},getProperties(){return this.groupIds.length<=0?(this.properties=[],this.searchTerm=null,Promise.resolve()):(this.isPropertiesLoading=!0,this.propertyGroupRepository.search(this.propertyGroupCriteria,Shopware.Context.api).then(i=>{this.properties=i}).catch(()=>{this.properties=[]}).finally(()=>{this.isPropertiesLoading=!1}))},onDeletePropertyValue(i){this.itemProperties.remove(i.id)},onDeleteProperty(i){this.$refs.entityListing.deleteId=null,this.$nextTick(()=>{this.itemProperties.filter(({groupId:a})=>a===i.id).forEach(({id:a})=>{this.itemProperties.remove(a)}),this.$refs.entityListing.resetSelection()})},onDeleteProperties(){this.$refs.entityListing.showBulkDeleteModal=!1,this.$nextTick(()=>{const i={...this.$refs.entityListing.selection};Object.values(i).forEach(a=>{a.options.forEach(r=>{this.itemProperties.remove(r.id)})}),this.$refs.entityListing.resetSelection()})},onChangeSearchTerm(i){return this.searchTerm=i,this.getProperties()},turnOnAddPropertiesModal(){this.propertiesAvailable?(this.updateNewProperties(),this.showAddPropertiesModal=!0):this.$router.push({name:"sw.property.index"})},turnOffAddPropertiesModal(){this.showAddPropertiesModal=!1,this.updateNewProperties()},updateNewProperties(){this.newProperties=new el(this.itemProperties.source,this.itemProperties.entity,this.itemProperties.context,ht.fromCriteria(this.itemProperties.criteria),this.itemProperties,this.itemProperties.total,this.itemProperties.aggregations),this.$emit("update:entityCollection",this.newProperties)},onCancelAddPropertiesModal(){this.turnOffAddPropertiesModal()},onSaveAddPropertiesModal(i,a){this.turnOffAddPropertiesModal(),!(i.length<=0)&&typeof a=="function"&&a.bind(this)(i)},checkIfPropertiesExists(){this.propertyOptionRepository.search(new ht(1,1)).then(i=>{this.propertiesAvailable=i.total>0})}}});const tl=`<div class="moorl-file-explorer"> <mt-text-field v-if="value" v-model="value" :placeholder="placeholder" :disabled="true" /> <div v-if="showActions" class="moorl-file-explorer-actions" > <mt-button @click="showCreateDirModal = true"> <mt-icon name="regular-save" small /> {{ $tc('moorl-file-explorer.actions.createDir') }} </mt-button> </div> <ul class="moorl-file-explorer-items"> <li v-if="value" class="moorl-file-explorer-item" > <mt-icon name="regular-long-arrow-left"/> <div class="link" @click="changeDirectory('..')" > {{ $tc('moorl-file-explorer.label.parentDirectory') }} </div> <div></div> </li> <template v-for="item in items"> <li v-if="item.type == 'dir'" class="moorl-file-explorer-item" > <mt-icon name="regular-folder"/> <div class="link" @click="changeDirectory(item.path)" > {{ getBasename(item.path) }} </div> <div> <mt-button v-if="showActions" size="small" square @click="deleteDir(item.path)" > <mt-icon name="regular-trash" small /> </mt-button> </div> </li> <li v-else class="moorl-file-explorer-item" > <mt-icon name="regular-file"/> <div class="link" @click="read(item.path)" > {{ getBasename(item.path) }} </div> <div> <mt-button v-if="showActions" size="small" square @click="delete(item.path)" > <mt-icon name="regular-trash" small /> </mt-button> </div> </li> </template> </ul> <sw-modal v-if="showCreateDirModal" :title="$tc('moorl-file-explorer.actions.createDir')" :closable="false" > <mt-text-field v-model="dirname"/> <template #modal-footer> <mt-button @click="showCreateDirModal = false" size="small" > {{ $tc('global.default.cancel') }} </mt-button> <mt-button variant="primary" @click="createDir" size="small" > {{ $tc('global.default.save') }} </mt-button> </template> </sw-modal> </div>`;Shopware.Component.register("moorl-file-explorer",{template:tl,inject:["repositoryFactory","context","foundationApiService"],mixins:[Shopware.Mixin.getByName("notification")],emits:["update:value"],props:["value","clientId","showActions","placeholder"],data(){return{isLoading:!0,items:null,showCreateDirModal:!1,dirname:null,filename:null,directory:null}},created(){this.directory=this.value,this.listContents()},methods:{changeDirectory(i){i===".."&&(i=this.value.split("/").slice(0,-1).join("/")),this.directory=i,this.$emit("update:value",i),this.listContents()},write(i,a){this.isLoading=!0,this.foundationApiService.post("/moorl-foundation/file-explorer/write",{clientId:this.clientId,path:i,content:a}).then(()=>{this.isLoading=!1}).catch(r=>{const c=Shopware.Utils.get(r,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:c}),this.isLoading=!1})},read(i){this.foundationApiService.download("/moorl-foundation/file-explorer/read-stream",{clientId:this.clientId,path:i})},delete(i){this.isLoading=!0,this.foundationApiService.post("/moorl-foundation/file-explorer/delete",{clientId:this.clientId,path:i}).then(()=>{this.listContents(),this.isLoading=!1}).catch(a=>{const r=Shopware.Utils.get(a,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:r}),this.isLoading=!1})},createDir(){this.isLoading=!0;let i=`${this.value?this.value+"/":""}${this.dirname}`;this.foundationApiService.post("/moorl-foundation/file-explorer/create-dir",{clientId:this.clientId,dirname:i}).then(()=>{this.value=i,this.dirname=null,this.listContents(),this.isLoading=!1,this.showCreateDirModal=!1}).catch(a=>{const r=Shopware.Utils.get(a,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:r}),this.isLoading=!1})},deleteDir(i){this.isLoading=!0,this.foundationApiService.post("/moorl-foundation/file-explorer/delete-dir",{clientId:this.clientId,directory:i}).then(()=>{this.listContents(),this.isLoading=!1}).catch(a=>{const r=Shopware.Utils.get(a,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:r}),this.isLoading=!1})},listContents(){this.isLoading=!0,this.foundationApiService.post("/moorl-foundation/file-explorer/list-contents",{clientId:this.clientId,directory:this.directory}).then(i=>{this.items=i,this.isLoading=!1}).catch(i=>{const a=Shopware.Utils.get(i,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:a}),this.isLoading=!1})},getBasename(i){return i.split("/").pop()}}});const il='<div class="sw-field"> <div class="sw-field__label">{{ label }}</div> </div> <sw-price-field :value="price" :taxRate="tax" :currency="currency" @change="priceChanged" />';Shopware.Component.register("moorl-price-field",{template:il,emits:["update:value"],props:{label:{type:String,required:!1},value:{type:Array,required:!0,default:[]},tax:{type:Object,required:!0},currency:{type:Object,required:!0}},computed:{price:{get(){const i=this.value.find(a=>a.currencyId===this.currency.id);return i?[i]:[{gross:null,currencyId:this.currency.id,linked:!0,net:null}]},set(i){let a=this.value.find(r=>r.currencyId===i.currencyId);a?a=i:this.value.push(i),this.$emit("update:value",this.value)}}},created(){Array.isArray(this.value)||this.$emit("update:value",[])},methods:{priceChanged(i){this.price=i}}});const ol='<div class="moorl-embedded-url-field"> <mt-url-field v-bind="vBind" v-model="currentValue" /> <iframe v-if="currentValue && !disabled" :style="style" frameborder="0" :src="currentValue" ></iframe> </div>';Shopware.Component.register("moorl-embedded-url-field",{template:ol,emits:["update:value"],props:{value:{type:String,required:!1,default:void 0},label:{type:String,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},helpText:{type:String,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},backgroundColor:{type:String,required:!1,default:"#ffffff"}},computed:{vBind(){return{label:this.label,helpText:this.helpText,placeholder:this.placeholder,disabled:this.disabled}},currentValue:{get(){return this.value},set(i){this.$emit("update:value",i??null)}},style(){return{height:"360px",width:"100%",background:this.backgroundColor}}}});const al=`<div class="moorl-entity-select-field"> <div class="moorl-entity-select-field__fieldset"> <sw-entity-single-select v-bind="vBind" v-model:value="currentValue" /> <div class="sw-field"> <div class="sw-field__label">&nbsp;</div> <div class="sw-block-field__block"> <mt-button variant="secondary" size="default" @click="showEditModal = true" > {{ currentValue ? $tc('global.default.edit') : $tc('global.default.add') }} </mt-button> </div> </div> </div> <moorl-modal-detail v-if="showEditModal" v-model:value="currentValue" :entity="entity" :defaultItem="defaultItem" @close="showEditModal = false" /> </div>`,{Criteria:ma}=Shopware.Data;Shopware.Component.register("moorl-entity-select-field",{template:al,inject:["repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification")],emits:["update:value"],props:{value:{type:String,required:!1,default:void 0},entity:{type:String,required:!0},defaultItem:{type:Object,required:!1,default:{}},label:{type:String,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},helpText:{type:String,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:!1}},data(){return{showEditModal:!1,selectedItem:void 0}},computed:{fieldLabel(){return this.label??this.$tc(`global.entities.${this.entity}`)},vBind(){return{entity:this.entity,label:this.fieldLabel,helpText:this.helpText,placeholder:this.placeholder,disabled:this.disabled,showClearableButton:!0}},currentValue:{get(){return this.value},set(i){this.$emit("update:value",i??null)}},itemRepository(){return this.repositoryFactory.create(this.entity)},itemCriteria(){const i=new ma,a=/^[a-f0-9]{32}$/i;for(const[r,c]of Object.entries(this.defaultItem))typeof c=="string"&&a.test(c)||i.addFilter(ma.equals(r,c));return i}},methods:{saveItem(){this.itemRepository.save(this.selectedItem,Shopware.Context.api).then(()=>{this.currentValue=this.selectedItem.id,this.showEditModal=!1}).catch(i=>{this.createNotificationError({message:i.message})})},editItem(){this.showEditModal=!0}}});const nl='<sw-entity-multi-select v-model:entityCollection="productCollection" :context="productSearchContext" :criteria="productSearchCriteria" > <template #selection-label-property="{ item }"> <sw-product-variant-info :variations="item.variation"> {{ item.translated.name || item.name }} </sw-product-variant-info> </template> <template #result-label-property="{ item, index }"> <sw-product-variant-info :variations="item.variation"> {{ item.translated.name || item.name }} </sw-product-variant-info> </template> </sw-entity-multi-select>',{Criteria:rl}=Shopware.Data;Shopware.Component.register("moorl-product-multi-select-field",{template:nl,emits:["update:entityCollection"],props:{label:{type:String,required:!1},entityCollection:{type:Array,required:!0,default:[]}},computed:{productCollection:{get(){return this.entityCollection},set(i){this.$emit("update:entityCollection",i??null)}},productSearchCriteria(){const i=new rl(1,25);return i.addAssociation("options.group"),i.addAssociation("cover"),i},productSearchContext(){const i=Object.assign({},Shopware.Context.api);return i.inheritance=!0,i}}});const sl='<div class="moorl-media-field"> <div class="mt-field"> <sw-upload-listener :upload-tag="uploadTag" auto-upload @media-upload-finish="onSetMediaItem" /> <sw-media-upload-v2 :label="$attrs.label" :uploadTag="uploadTag" :source="currentValue" :scroll-target="$parent.$el" :default-folder="entity" :allowMultiSelect="false" @media-drop="onMediaDropped" @media-upload-sidebar-open="onOpenMediaModal" @media-upload-remove-image="onUnlinkMedia" /> <sw-media-modal-v2 v-if="showMediaModal" entity-context="entity" :allowMultiSelect="false" @media-modal-selection-change="onMediaSelectionChange" @modal-close="onCloseMediaModal" /> </div> </div>';Shopware.Component.register("moorl-media-field",{template:sl,emits:["update:value","update:media"],inject:["repositoryFactory"],props:{value:{type:String,required:!0,default:null},media:{type:Object,required:!1,default:null},entity:{type:String,required:!0,default:"product"}},data(){return{showMediaModal:!1}},computed:{currentValue:{get(){return this.currentMedia??this.value},set(i){this.$emit("update:value",i??null)}},currentMedia:{get(){return this.media},set(i){this.$emit("update:media",i??null)}},mediaRepository(){return this.repositoryFactory.create("media")},uploadTag(){return`${this.entity}_${Shopware.Utils.createId()}`}},methods:{onOpenMediaModal(){this.showMediaModal=!0},onCloseMediaModal(){this.showMediaModal=!1},onSetMediaItem({targetId:i}){this.mediaRepository.get(i).then(a=>{this.currentValue=i,this.currentMedia=a})},onUnlinkMedia(){this.currentValue=null,this.currentMedia=null},onMediaDropped(i){this.onSetMediaItem({targetId:i.id})},onMediaSelectionChange(i){const a=i[0];a&&this.onSetMediaItem({targetId:a.id})}}});const ll=`<div class="moorl-combination-element-options"> <sw-card-section divider="bottom" slim v-if="isEnabled('layout')" > <h4> {{ $tc('moorl-combination-element-options.title.layout') }} </h4> <sw-container columns="1fr 1fr" gap="0px 20px" > <mt-text-field v-model="value.idAttribute" :label="$tc('moorl-combination-element-options.label.idAttribute')" /> <mt-text-field v-model="value.classAttribute" :label="$tc('moorl-combination-element-options.label.classAttribute')" /> <moorl-select-field :label="$tc('moorl-foundation.field.style')" v-model:value="value.layout" :customSet="['banner-content','content-banner']" snippetPath="moorl-combination-element-options.layout" /> <mt-switch v-model="value.showBanner" bordered :label="$tc('moorl-combination-element-options.label.showBanner')" /> <mt-switch v-model="value.showTitleDescription" bordered :label="$tc('moorl-combination-element-options.label.showTitleDescription')" /> <mt-switch v-if="isEnabled('product-buy-list')" v-model="value.showProductBuyList" bordered :label="$tc('moorl-combination-element-options.label.showProductBuyList')" /> <mt-text-field v-model="value.minWidth" :label="$tc('moorl-combination-element-options.label.minWidth')" /> </sw-container> </sw-card-section> <sw-card-section divider="bottom" slim v-if="isEnabled('product-buy-list') && value.showProductBuyList" > <h4> {{ $tc('moorl-combination-element-options.title.productBuyList') }} </h4> <sw-container columns="1fr 1fr" gap="0px 20px" > <mt-switch v-model="value.enableAddToCartSingle" bordered :label="$tc('moorl-combination-element-options.label.enableAddToCartSingle')" /> <moorl-select-field :label="$tc('moorl-combination-element-options.label.addToCartSingleIcon')" v-model:value="value.addToCartSingleIcon" :disabled="!value.enableAddToCartSingle" :customSet="['plus','cart','bag']" snippetPath="moorl-combination-element-options.icon" showClearableButton /> <mt-switch v-model="value.enableAddToCartAll" bordered :label="$tc('moorl-combination-element-options.label.enableAddToCartAll')" /> <moorl-select-field :label="$tc('moorl-combination-element-options.label.addToCartAllIcon')" v-model:value="value.addToCartAllIcon" :disabled="!value.enableAddToCartAll" :customSet="['plus','cart','bag']" snippetPath="moorl-combination-element-options.icon" showClearableButton /> <mt-switch v-model="value.enablePrices" bordered :label="$tc('moorl-combination-element-options.label.enablePrices')" /> <mt-switch v-model="value.enableVariantSwitch" bordered :label="$tc('moorl-combination-element-options.label.enableVariantSwitch')" /> <mt-switch v-model="value.enableSelection" bordered :label="$tc('moorl-combination-element-options.label.enableSelection')" /> <mt-switch v-model="value.enableDirectUrl" bordered :label="$tc('moorl-combination-element-options.label.enableDirectUrl')" /> </sw-container> </sw-card-section> <sw-card-section divider="bottom" slim v-if="isEnabled('hotspots') && value.showBanner" > <h4> {{ $tc('moorl-combination-element-options.title.hotspots') }} </h4> <sw-container columns="1fr 1fr" gap="0px 20px" > <mt-switch v-model="value.showHotspots" bordered :label="$tc('moorl-combination-element-options.label.showHotspots')" /> <mt-switch v-model="value.loadHoverCards" bordered :label="$tc('moorl-combination-element-options.label.loadHoverCards')" :disabled="!value.showHotspots" /> <moorl-select-field :label="$tc('moorl-combination-element-options.label.hotspotAnimation')" v-model:value="value.hotspotAnimation" :disabled="!value.showHotspots" :customSet="['pulse']" snippetPath="moorl-combination-element-options.hotspotAnimation" /> </sw-container> </sw-card-section> <sw-card-section divider="bottom" slim v-if="isEnabled('stock') && value.showBanner" > <h4> {{ $tc('moorl-combination-element-options.title.stock') }} </h4> <sw-container columns="1fr 1fr" gap="0px 20px" > <mt-switch v-model="value.showStock" bordered :label="$tc('moorl-combination-element-options.label.showStock')" /> <moorl-select-field :label="$tc('moorl-combination-element-options.label.stockType')" v-model:value="value.stockType" :disabled="!value.showStock" :customSet="['progressBarAbs','progressBarPc','text']" snippetPath="moorl-combination-element-options.stockType" /> </sw-container> </sw-card-section> <sw-card-section divider="bottom" slim v-if="isEnabled('countdown') && value.showBanner" > <h4> {{ $tc('moorl-combination-element-options.title.countdown') }} </h4> <sw-container columns="1fr 1fr" gap="0px 20px" > <mt-switch v-model="value.showCountdown" bordered :label="$tc('moorl-combination-element-options.label.showCountdown')" /> <moorl-select-field :label="$tc('moorl-combination-element-options.label.countdownType')" v-model:value="value.countdownType" :disabled="!value.showCountdown" :customSet="['countdown','relative','time','hidden']" snippetPath="moorl-combination-element-options.countdownType" /> </sw-container> </sw-card-section> </div>`;Shopware.Component.register("moorl-combination-element-options",{template:ll,emits:["update:value"],props:{value:{type:Object,required:!0,default:{}},options:{type:Array,default:["countdown","stock","hotspots","product-buy-list","layout"]}},created(){this.createdComponent()},methods:{isEnabled(i){return this.options.includes(i)},createdComponent(){const i=Object.assign({enablePrices:!0,enableDirectUrl:!0});this.isEnabled("countdown")&&Object.assign(i,{showCountdown:!0,countdownType:"countdown"}),this.isEnabled("stock")&&Object.assign(i,{showStock:!0,stockType:"text"}),this.isEnabled("hotspots")&&Object.assign(i,{showHotspots:!0,hotspotAnimation:"pulse"}),this.isEnabled("product-buy-list")&&Object.assign(i,{enableAddToCart:!1,enableVariantSwitch:!1,enableAddToCartAll:!0,enableSelection:!1,enableAddToCartSingle:!1,addToCartSingleIcon:"plus",addToCartAllIcon:"",showProductBuyList:!0}),this.isEnabled("layout")&&Object.assign(i,{layout:"banner-content",minWidth:"330px",showBanner:!0,showTitleDescription:!0,classAttribute:"border bg-light p-3",idAttribute:null}),this.value&&(Object.assign(i,this.value),this.$emit("update:value",i))}}});const cl=`{% block sw_cms_sidebar_navigator_main_elements %} <template v-if="isSectionGrid(section) && isSectionGridInitialized(section)"> <template v-for="gridCol in sectionColumnCount(section)"> <div class="sw-cms-sidebar__navigator-section-spacer"></div> <template v-if="getSectionGridContentBlocks(section.blocks, gridCol).length > 0" > <template v-for="block in getSectionGridContentBlocks(section.blocks, gridCol)" :key="block.id" > <sw-cms-sidebar-nav-element v-draggable="getSectionGridDragData(block, sectionIndex, gridCol)" v-droppable="getSectionGridDropData(block, sectionIndex, gridCol)" :block="block" class="sw-cms-sidebar__navigator-block" :removable="blockIsRemovable(block)" :class="{ 'is--dragging': block.isDragging }" @block-delete="onBlockDelete($event, section)" @block-duplicate="onBlockDuplicate($event, section)" /> </template> </template> <template v-else> <div :key="section.id + '_column_' + gridCol" v-droppable="getSectionGridDropData({ position: 0 }, sectionIndex, gridCol)" class="sw-cms-sidebar__navigator-empty-element" > {{ $tc('sw-cms.detail.label.addBlocks') }} </div> </template> </template> </template> <template v-else> {% parent %} </template> {% endblock %}`;Shopware.Component.override("sw-cms-sidebar",{template:cl,methods:{isSectionGrid(i){return i.type==="moorl-grid"},isSectionGridInitialized(i){var a,r,c;return!(!i.customFields||!i.customFields.moorl_section_column_count||!i.customFields.moorl_section_grid_config||!((c=(r=(a=i.customFields.moorl_section_grid_config[0])==null?void 0:a.value)==null?void 0:r.xl)!=null&&c.width))},sectionGridConfig(i){return i.customFields.moorl_section_grid_config},sectionColumnCount(i){return parseInt(i.customFields.moorl_section_column_count,10)},getSectionGridContentBlocks(i,a){const r="moorl_grid_"+(a-1);return i.filter(c=>this.blockTypeExists(c.type)&&c.sectionPosition===r)},getSectionGridDragData(i,a,r){return{delay:300,dragGroup:"cms-navigator",data:{block:i,sectionIndex:a,gridCol:r},validDragCls:null,onDragEnter:this.onBlockDragSort,onDrop:this.onBlockDragStop}},getSectionGridDropData(i,a,r){return i.sectionPosition="moorl_grid_"+(r-1),{dragGroup:"cms-navigator",data:{block:i,sectionIndex:a,gridCol:r},onDrop:this.onBlockDropAbort}}}});const dl=`{% block sw_cms_page_form_element_config %} {% parent %} <moorl-element-animation v-if="moorlIsUnlocked && block.type.includes('moorl-')" v-model:element="element" /> {% endblock %}`;Shopware.Component.override("sw-cms-page-form",{template:dl,computed:{moorlIsUnlocked(){return Shopware.Store.get("moorlFoundationState").unlocked},slotPositions(){const i=this.$super("slotPositions");return i["slot-a"]=1,i["slot-b"]=2,i["slot-c"]=3,i["slot-d"]=4,i["slot-e"]=5,i["slot-f"]=6,i["slot-g"]=7,i["slot-h"]=8,i["slot-i"]=9,i["slot-j"]=10,i}}});const ul='{% block sw_cms_block_config_background_image_field %} {% parent() %} <moorl-block-behaviour v-if="moorlIsUnlocked" v-bind="{ block }" /> {% endblock %}';Shopware.Component.override("sw-cms-block-config",{template:ul,computed:{moorlIsUnlocked(){return Shopware.Store.get("moorlFoundationState").unlocked}}});const ml=`{% block sw_cms_stage_section_selection__fullwidth %} {% parent() %} <template v-if="moorlIsUnlocked"> <div @click="selectSection('moorl-grid')"> <div class="sw-cms-stage-section-selection__default-preview"> <div class="sw-cms-stage-section-selection__default-preview-inner" ></div> </div> {{ $tc('sw-cms.section.moorlGrid') }} </div> <div v-if="false" @click="selectSection('moorl-slider')" > <div class="sw-cms-stage-section-selection__default-preview"> <div class="sw-cms-stage-section-selection__default-preview-inner" ></div> </div> {{ $tc('sw-cms.section.moorlSlider') }} </div> </template> {% endblock %}`;Shopware.Component.override("sw-cms-stage-section-selection",{template:ml,computed:{moorlIsUnlocked(){return Shopware.Store.get("moorlFoundationState").unlocked}}});const pl=`{% block sw_cms_section_content %} <template v-if="isSectionGrid"> <div v-if="isSectionGridInitialized" class="moorl-grid-row" :style="sectionSpacingStyle" > <div class="sw-cms-section__content moorl-grid-column" v-for="(n, gridCol) in sectionGridConfig" :key="gridCol" :style="getSectionGridStyle(gridCol)" > <template v-if="isGridContentEmpty(gridCol)"> <div v-droppable="{ dragGroup: 'cms-stage', data: getDropGridData(blockCount, gridCol) }" class="sw-cms-section__empty-stage" @click="openBlockBar" > <mt-icon name="regular-plus-circle" size="24" /> <p> {{ $tc('sw-cms.detail.label.addBlocks') }} </p> </div> </template> <template v-else> <div class="moorl-grid-add-block"> <sw-cms-stage-add-block v-if="isSystemDefaultLanguage && !disabled" :key="0" v-droppable="{ dragGroup: 'cms-stage', data: getDropGridData(0, gridCol) }" @stage-block-add="onAddSectionBlock" /> </div> <template v-for="(block, index) in sectionGridBlocks(gridCol)" :key="block.id" > <sw-cms-block class="sw-cms-stage-block" :disabled="disabled" :block="block" :active="selectedBlock !== null && selectedBlock.id === block.id" @block-overlay-click="onBlockSelection(block)" > <component :is="\`sw-cms-block-\${block.type}\`"> <template v-for="el in block.slots" :key="el.id" #[el.slot] > <sw-cms-slot :element="el" :disabled="disabled" :active="selectedBlock !== null && selectedBlock.id === block.id" /> </template> </component> </sw-cms-block> <div class="moorl-grid-add-block"> <sw-cms-stage-add-block v-if="isSystemDefaultLanguage && !disabled" :key="index + 1" v-droppable="{ dragGroup: 'cms-stage', data: getDropGridData(block.position + 1, gridCol) }" @stage-block-add="onAddSectionBlock" /> </div> </template> </template> </div> </div> <template v-else></template> </template> <template v-else> {% parent %} </template> {% endblock %}`,hl={moorl_section_grid_config:[{value:{lg:{show:!0,order:0,width:"3",inherit:!1},md:{show:!0,order:0,width:12,inherit:!0},sm:{show:!0,order:0,width:12,inherit:!0},xl:{show:!0,order:0,width:"3",inherit:!1},xs:{show:!0,order:0,width:12,inherit:!0}},isSticky:!0,offsetTop:"30px",alignItems:"normal",justifyContent:"normal"},{value:{lg:{show:!0,order:0,width:"6",inherit:!1},md:{show:!0,order:0,width:12,inherit:!0},sm:{show:!0,order:0,width:12,inherit:!0},xl:{show:!0,order:0,width:"6",inherit:!1},xs:{show:!0,order:0,width:12,inherit:!0}},isSticky:!1,offsetTop:"30px",alignItems:"normal",justifyContent:"normal"},{value:{lg:{show:!0,order:0,width:"3",inherit:!1},md:{show:!0,order:0,width:12,inherit:!0},sm:{show:!0,order:0,width:12,inherit:!0},xl:{show:!0,order:0,width:"3",inherit:!1},xs:{show:!0,order:0,width:12,inherit:!0}},isSticky:!1,offsetTop:"30px",alignItems:"normal",justifyContent:"normal"}],moorl_section_column_count:3},fl={customFields:hl},gl='{% block sw_cms_section_action_select %} {% parent() %} <moorl-section-config v-if="moorlIsUnlocked" v-bind="{ section }" /> {% endblock %}';Shopware.Component.override("sw-cms-section-actions",{template:gl,computed:{moorlIsUnlocked(){return Shopware.Store.get("moorlFoundationState").unlocked}}});const{cloneDeep:vl}=Shopware.Utils.object;Shopware.Component.override("sw-cms-section",{template:pl,computed:{isSectionGrid(){return this.section.type==="moorl-grid"},isSectionGridInitialized(){var i,a,r,c,d;return!(!this.section.customFields||!this.section.customFields.moorl_section_column_count||!this.section.customFields.moorl_section_grid_config||!((d=(c=(r=(a=(i=this.section)==null?void 0:i.customFields)==null?void 0:a.moorl_section_grid_config[0])==null?void 0:r.value)==null?void 0:c.xl)!=null&&d.width))},sectionGridConfig(){return this.section.customFields.moorl_section_grid_config},sectionColumnCount(){return parseInt(this.section.customFields.moorl_section_column_count,10)},sectionSpacing(){return parseInt(this.section.customFields.moorl_section_spacing,10)},sectionSpacingStyle(){return"--section-spacing: "+this.sectionSpacing/2+"px;"}},methods:{createdComponent(){this.initSectionGrid(),this.$super("createdComponent")},initSectionGrid(){this.isSectionGrid&&(this.isSectionGridInitialized||Object.assign(this.section,vl(fl)))},isGridContentEmpty(i){return this.sectionGridBlocks(i).length===0},sectionGridBlocks(i){const a="moorl_grid_"+i;return this.section.blocks.filter(r=>this.blockTypeExists(r.type)&&r.sectionPosition===a)},getSectionGridStyle(i){var h,m,w;const a=this.sectionGridConfig[i].value;let r=((h=a.xl)==null?void 0:h.width)||3,c=(100/12).toFixed(2);this.cmsPageState.currentCmsDeviceView==="tablet-landscape"&&(r=((m=a.md)==null?void 0:m.width)||3),this.cmsPageState.currentCmsDeviceView==="mobile"&&(r=((w=a.xs)==null?void 0:w.width)||3);let d=parseInt(r,10)*c;return{flex:"0 0 "+d+"%",maxWidth:d+"%",justifyContent:this.sectionGridConfig[i].justifyContent,alignItems:this.sectionGridConfig[i].alignItems}},getDropGridData(i,a=0){const r="moorl_grid_"+a;return{dropIndex:i,section:this.section,sectionPosition:r,gridCol:a}}}});const bl=`{% block sw_cms_slot_content_component %} <sw-cms-el-moorl-default v-if="elementConfig?.component === true" class="sw-cms-slot__element-preview" v-bind="{ element:elementConfig }" /> <component :is="elementConfig.component" v-else-if="elementConfig?.component" v-model:element="element" :element-data="elementConfig" :disabled="disabled || undefined" /> {% endblock %} {% block sw_cms_slot_content_element_modal_selection_element_component %} <sw-cms-el-preview-moorl-default v-if="getPlugin(element)" class="sw-cms-slot__element-preview" v-bind="{ element:element, plugin:getPlugin(element) }" /> <template v-else> {% parent %} </template> {% endblock %} {% block sw_cms_slot_content_overlay_action_settings %} {% parent() %} <template v-if="moorlIsUnlocked"> <div class="sw-cms-slot__settings-action" @click="onCmsElementConfigSaverButtonClick" v-tooltip.bottom="tooltipDisabled" > <mt-icon name="regular-save" size="16" /> </div> <div class="sw-cms-slot__settings-action" @click="showCmsElementAnimationModal = true" v-tooltip.bottom="tooltipDisabled" > <mt-icon name="regular-spinner-star" size="16" /> </div> </template> {% endblock %} {% block sw_cms_slot_content_settings_modal %} {% parent() %} <sw-modal v-if="showCmsElementAnimationModal" :title="$tc('sw-cms.component.sw-cms-slot.cmsElementAnimation')" @modal-close="showCmsElementAnimationModal = false" > <moorl-element-animation v-model:element="element"/> <template #modal-footer> <mt-button variant="primary" @click="showCmsElementAnimationModal = false" > {{ $tc('sw-cms.detail.label.buttonElementSettingsConfirm') }} </mt-button> </template> </sw-modal> <sw-modal v-if="showCmsElementConfigSaver" :title="$tc('sw-cms.component.sw-cms-slot.cmsElementConfigSaver')" @modal-close="showCmsElementConfigSaver = false" > <mt-text-field v-model="cmsElementConfig.name" :label="$tc('sw-cms.component.sw-cms-slot.label.name')" /> <div class="sw-field"> <mt-button variant="primary" @click="onSaveCmsElementConfig" > {{ $tc('sw-cms.component.sw-cms-slot.label.save') }} </mt-button> </div> <div class="moorl-link-field"> <sw-entity-single-select :label="$tc('sw-cms.component.sw-cms-slot.label.selectConfig')" :criteria="cmsElementConfigCriteria" entity="moorl_cms_element_config" v-model:value="cmsElementConfigId" > <template #result-item="{ item, index }"> <slot name="result-item" v-bind="{ item, index }" > <li is="sw-select-result" v-bind="{ item, index }" > {{ item.type }} | {{ item.name }} </li> </slot> </template> </sw-entity-single-select> <router-link target="_blank" rel="noopener" :to="{ name: 'moorl.foundation.settings.cmselementconfig' }" > {{ $tc('sw-cms.component.sw-cms-slot.label.manageConfigs') }} </router-link> </div> <mt-button variant="primary" @click="onLoadCmsElementConfig" > {{ $tc('sw-cms.component.sw-cms-slot.label.load') }} </mt-button> <template #modal-footer> <mt-button variant="primary" @click="showCmsElementConfigSaver = false" > {{ $tc('sw-cms.detail.label.buttonElementSettingsConfirm') }} </mt-button> </template> </sw-modal> {% endblock %}`,{Criteria:ji}=Shopware.Data;Shopware.Component.override("sw-cms-slot",{template:bl,inject:["repositoryFactory"],data(){return{cmsElementConfig:null,cmsElementConfigId:null,showCmsElementConfigSaver:!1,showCmsElementAnimationModal:!1}},computed:{cmsElementConfigRepository(){return this.repositoryFactory.create("moorl_cms_element_config")},cmsElementConfigCriteria(){return new ji},pluginRepository(){return this.repositoryFactory.create("plugin")},pluginCriteria(){const i=new ji;return i.addFilter(ji.equals("active",1)),i},plugins(){return Shopware.Store.get("moorlFoundationState").plugins},moorlIsUnlocked(){return Shopware.Store.get("moorlFoundationState").unlocked}},methods:{getPlugin(i){return!i.plugin||this.plugins.length===0?null:this.plugins.find(a=>a.name===i.plugin)},async onElementButtonClick(){if(this.plugins.length)return this.$super("onElementButtonClick");const i=await this.pluginRepository.search(this.pluginCriteria);Shopware.Store.get("moorlFoundationState").setPlugins(i),this.$super("onElementButtonClick")},onCmsElementConfigSaverButtonClick(){!this.elementConfig.defaultConfig||this.element.locked||(this.getCmsElementConfig(),this.showCmsElementConfigSaver=!0)},onCloseCmsElementConfigSaverModal(){this.showCmsElementConfigSaver=!1},onSaveCmsElementConfig(){this.cmsElementConfigRepository.save(this.cmsElementConfig,Shopware.Context.api).then(()=>{this.showCmsElementConfigSaver=!1})},onLoadCmsElementConfig(){this.cmsElementConfigRepository.get(this.cmsElementConfigId,Shopware.Context.api,this.cmsElementConfigCriteria).then(i=>{this.element.config=i.config,this.element.type=i.type,this.element.data=i.data,this.$emit("element-update",this.element),this.showCmsElementConfigSaver=!1})},getCmsElementConfig(){this.cmsElementConfig=this.cmsElementConfigRepository.create(Shopware.Context.api),this.cmsElementConfig.type=this.element.type,this.cmsElementConfig.config=this.element.config,this.cmsElementConfig.data=this.element.data}}});const{Criteria:yl}=Shopware.Data;Shopware.Component.override("sw-cms-detail",{computed:{cmsPageTypeSettings(){const i=MoorlFoundation.ModuleHelper.getByPageType(this.page.type);return i===void 0?this.$super("cmsPageTypeSettings"):{entity:i.entity,mode:"single"}}},methods:{onDemoEntityChange(i){var c;const a=(c=this.cmsPageTypeSettings)==null?void 0:c.entity,r=MoorlFoundation.ModuleHelper.getByEntity(a);if(r===void 0)return this.$super("onDemoEntityChange");i&&(this.cmsPageState.removeCurrentDemoEntity(),this.cmsPageState.removeCurrentDemoProducts()),this.loadProxyDemoEntity(i,r.entity)},async loadProxyDemoEntity(i,a){const r=new yl(1,1);i&&r.setIds([i]);const d=(await this.repositoryFactory.create(a).search(r))[0];this.demoEntityId=d.id,this.cmsPageState.setCurrentDemoEntity(d)}}});const _l=`{% block sw_category_detail_layout_desc_actions_remove %} {% parent() %} <mt-button v-if="cmsPage" size="small" :disabled="!acl.can('category.editor')" @click="showLayoutAdoptChildrenModal = true" > {{ $tc('sw-category.component.sw-category-layout-card.adoptChildren') }} </mt-button> <mt-button v-if="cmsPage" size="small" :disabled="!acl.can('category.editor')" @click="showLayoutAdoptSiblingsModal = true" > {{ $tc('sw-category.component.sw-category-layout-card.adoptSiblings') }} </mt-button> <sw-confirm-modal v-if="showLayoutAdoptChildrenModal" :title="$tc('sw-category.component.sw-category-layout-card.adoptChildren')" type="yesno" @close="showLayoutAdoptChildrenModal = false" @cancel="showLayoutAdoptChildrenModal = false" @confirm="onLayoutAdoptChildren" /> <sw-confirm-modal v-if="showLayoutAdoptSiblingsModal" :title="$tc('sw-category.component.sw-category-layout-card.adoptSiblings')" type="yesno" @close="showLayoutAdoptSiblingsModal = false" @cancel="showLayoutAdoptSiblingsModal = false" @confirm="onLayoutAdoptSiblings" /> {% endblock %}`;Shopware.Component.override("sw-category-layout-card",{template:_l,inject:["foundationApiService"],mixins:[Shopware.Mixin.getByName("notification")],data(){return{showLayoutAdoptChildrenModal:!1,showLayoutAdoptSiblingsModal:!1}},methods:{onLayoutAdoptChildren(){this.foundationApiService.get(`/moorl-foundation/admin-helper/layout-adopt-children/${this.category.id}`).then(i=>{i!=null&&i.errors?this.createNotificationError({title:this.$tc("global.default.error"),message:i.errors[0].message}):this.createNotificationSuccess({title:this.$tc("global.default.success"),message:this.$tc("sw-category.component.sw-category-layout-card.success",0,i)}),this.showLayoutAdoptChildrenModal=!1}).catch(i=>{const a=Shopware.Utils.get(i,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:a}),this.showLayoutAdoptChildrenModal=!1})},onLayoutAdoptSiblings(){this.foundationApiService.get(`/moorl-foundation/admin-helper/layout-adopt-siblings/${this.category.id}`).then(i=>{i!=null&&i.errors?this.createNotificationError({title:this.$tc("global.default.error"),message:i.errors[0].message}):this.createNotificationSuccess({title:this.$tc("global.default.success"),message:this.$tc("sw-category.component.sw-category-layout-card.success",0,i)}),this.showLayoutAdoptChildrenModal=!1}).catch(i=>{const a=Shopware.Utils.get(i,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:a}),this.showLayoutAdoptChildrenModal=!1})}}});const wl='{% block sw_desktop_sidebar %} <sw-admin-menu v-if="!noNavigation"/> <moorl-feature-unlocker/> {% endblock %}';Shopware.Component.override("sw-desktop",{template:wl});const Cl='{% block sw_data_grid_columns_render_router_link %} <router-link v-if="column.routerLink && column.routerLinkIdProperty && item[column.routerLinkIdProperty] !== null" class="sw-data-grid__cell-value" :to="{ name: column.routerLink, params: { id: item[column.routerLinkIdProperty] } }" > {{ renderColumn(item, column) }} </router-link> <router-link v-else-if="column.routerLink" class="sw-data-grid__cell-value" :to="{ name: column.routerLink, params: { id: item.id } }" > {{ renderColumn(item, column) }} </router-link> {% endblock %}';Shopware.Component.override("sw-data-grid",{template:Cl});Shopware.Component.override("sw-import-export-edit-profile-general",{computed:{supportedEntities(){const i=this.$super("supportedEntities"),a=MoorlFoundation.ModuleHelper.pluginConfigCache??[];for(let r of a)r.pluginName&&i.push({value:r.entity,label:this.$tc(`global.entities.${r.entity}`),type:"import-export"});return i}}});const Sl='<div class="sw-cms-el-preview-moorl-default"> <div class="moorl-default"> <div class="moorl-default-box"> <ul class="moorl-default-box-icons"> <li v-if="!!plugin.icon"> <img :src="`data:image/png;base64, ${plugin.icon}`" alt /> </li> <li v-if="element.icon"> <mt-icon :name="element.icon" size="48" /> </li> </ul> <div class="moorl-default-box-label"> {{ plugin.translated.label }} </div> </div> </div> </div>';Shopware.Component.register("sw-cms-el-preview-moorl-default",{template:Sl,props:{element:{type:Object,required:!0},plugin:{type:Object,required:!0}}});const xl='<div class="sw-cms-el-moorl-default"> <div>{{ $tc(element.label) }}</div> </div>';Shopware.Component.register("sw-cms-el-moorl-default",{template:xl,props:{element:{type:Object,required:!0}}});const kl=`<div class="sw-cms-el-moorl-replacer"> <div> <p class="moorl-replacer-title"> <mt-icon name="regular-repeat" size="24" /> {{ $tc('sw-cms.elements.moorl-replacer.title') }} </p> <p> {{ $tc('sw-cms.elements.moorl-replacer.description') }} </p> <p> <a href="https://store.shopware.com/de/extension-partners/moori" target="_blank" rel="noopener" > {{ $tc('sw-cms.elements.moorl-replacer.storeLink') }} </a> </p> </div> <div> <sw-entity-single-select entity="moorl_cms_element_config" v-model:value="cmsElementConfigId" :placeholder="$tc('sw-cms.elements.moorl-replacer.label.selectConfig')" > <template #result-label-property="{ item }"> {{ item.type }} | {{ item.name }} </template> </sw-entity-single-select> </div> <div> <mt-button :disabled="!cmsElementConfigId" square variant="primary" size="default" @click="onLoadCmsElementConfig" > <mt-icon name="regular-checkmark" size="16" /> </mt-button> </div> </div>`;Shopware.Component.register("sw-cms-el-moorl-replacer",{template:kl,mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],data(){return{cmsElementConfigId:null}},computed:{cmsElementConfigRepository(){return this.repositoryFactory.create("moorl_cms_element_config")}},methods:{onLoadCmsElementConfig(){this.cmsElementConfigRepository.get(this.cmsElementConfigId).then(i=>{this.element.config=i.config,this.element.data=i.data,this.element.type=i.type,this.$emit("element-update",this.element)})}}});Shopware.Application.getContainer("service").cmsService.registerCmsElement({plugin:"MoorlFoundation",icon:"regular-repeat",name:"moorl-replacer",label:"sw-cms.elements.moorl-replacer.title",component:"sw-cms-el-moorl-replacer",previewComponent:!0});const Ll='<div class="sw-cms-el-moorl-html-tag" v-html="elementHTML" > </div>';Shopware.Component.register("sw-cms-el-moorl-html-tag",{template:Ll,mixins:[Shopware.Mixin.getByName("cms-element"),Shopware.Mixin.getByName("placeholder")],computed:{elementHTML(){let i=this.element.config.content.value;this.element.config.content.source==="mapped"&&(i=this.getDemoValue(i));let a=this.element.config.tag.value,r=this.element.config.cssClass.value,c=this.element.config.style.value;return`<${a} class="${r}" style="${c}">${i}</${a}>`}},watch:{cmsPageState:{deep:!0,handler(){this.$forceUpdate()}}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-html-tag")}}});const Il=`<div class="sw-cms-el-config-moorl-html-tag"> <sw-cms-mapping-field v-model:config="element.config.content" value-types="string" :label="$tc('sw-cms.elements.moorl-html-tag.label.content')" > <mt-text-field v-model="element.config.content.value" :label="$tc('sw-cms.elements.moorl-html-tag.label.content')" /> </sw-cms-mapping-field> <mt-text-field v-model="element.config.tag.value" :label="$tc('sw-cms.elements.moorl-html-tag.label.tag')" /> <mt-text-field v-model="element.config.cssClass.value" :label="$tc('sw-cms.elements.moorl-html-tag.label.cssClass')" /> <mt-text-field v-model="element.config.style.value" :label="$tc('sw-cms.elements.moorl-html-tag.label.style')" /> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-html-tag",{template:Il,mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],computed:{},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-html-tag")}}});Shopware.Application.getContainer("service").cmsService.registerCmsElement({plugin:"MoorlFoundation",icon:"regular-code",name:"moorl-html-tag",label:"sw-cms.elements.moorl-html-tag.title",component:"sw-cms-el-moorl-html-tag",configComponent:"sw-cms-el-config-moorl-html-tag",previewComponent:!0,defaultConfig:{tag:{source:"static",value:"h1"},content:{source:"static",value:"moori"},cssClass:{source:"static",value:"h1 text-center"},style:{source:"static",value:"color:#333;"}}});const Pl='<div class="sw-cms-el-moorl-accordion"> <sw-cms-el-config-moorl-accordion :element="element"/> </div>';Shopware.Component.register("sw-cms-el-moorl-accordion",{template:Pl,mixins:[Shopware.Mixin.getByName("cms-element")],created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-accordion"),this.initElementData("moorl-accordion")}}});const Ml=`<div class="sw-cms-el-config-moorl-accordion"> <sw-tabs class="sw-cms-el-config-image-gallery__tabs" default-item="content" > <template #default="{ active }"> <sw-tabs-item name="content" :activeTab="active" > {{ $tc('sw-cms.elements.general.config.tab.content') }} </sw-tabs-item> <sw-tabs-item name="settings" :activeTab="active" > {{ $tc('sw-cms.elements.general.config.tab.settings') }} </sw-tabs-item> </template> <template #content="{ active }"> <sw-container v-if="active === 'content'"> <mt-text-field :label="$tc('sw-cms.elements.moorl-accordion.label.name')" v-model="element.config.name.value" /> <div class="sw-field"> <div class="config-moorl_faq_list"> <sw-collapse v-for="(entry, index) in element.config.entries.value" :key="index" :ref="'collapse_' + index" > <template #header="{ expanded }"> <div class="collapse-header" :class="expanded ? 'expanded' : ''" > <div class="drag-indicator"> <mt-icon name="regular-grip-lines"/> </div> <h4> {{ entry.name ?? 'New entry' }} </h4> <div class="collapse-indicator"> <mt-icon v-if="expanded" class="sw-media-collapse__button" name="regular-chevron-down-s" /> <mt-icon v-else class="sw-media-collapse__button" name="regular-chevron-right-s" /> </div> </div> </template> <template #content> <div class="collapse-content"> <mt-text-field :label="$tc('sw-cms.elements.moorl-accordion.label.name')" v-model="entry.name" /> <sw-code-editor v-model:value="entry.content" mode="twig" :label="$tc('sw-cms.elements.moorl-accordion.label.content')" :softWraps="true" /> <mt-button variant="danger" @click.prevent="removeEntry($event, index)" > {{ $tc('sw-cms.elements.moorl-accordion.label.remove') }} </mt-button> </div> </template> </sw-collapse> </div> <div class="config-moorl_faq_actions"> <mt-button :block="true" @click="addEntry" variant="ghost" > <span> <mt-icon name="regular-plus" :small="true" /> {{ $tc('sw-cms.elements.moorl-accordion.label.add') }} </span> </mt-button> </div> </div> </sw-container> <sw-container v-if="active === 'settings'"> <moorl-select-field v-model:value="element.config.verticalAlign.value" set="flexVerticalAlign" /> </sw-container> </template> </sw-tabs> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-accordion",{template:Ml,inject:["repositoryFactory"],mixins:[Shopware.Mixin.getByName("cms-element")],computed:{mediaRepository(){return this.repositoryFactory.create("media")}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-accordion")},addEntry(){this.element.config.entries.value.push({id:Date.now(),name:"This is my entry",content:"<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua</p>"})},removeEntry(i,a){this.element.config.entries.value.splice(a,1),this.element.config.entries.value.length===0&&this.addEntry()}}});Shopware.Application.getContainer("service").cmsService.registerCmsElement({plugin:"MoorlFoundation",icon:"regular-bars-square",name:"moorl-accordion",label:"sw-cms.elements.moorl-accordion.title",component:"sw-cms-el-moorl-accordion",configComponent:"sw-cms-el-config-moorl-accordion",previewComponent:!0,defaultConfig:{name:{source:"static",value:"My Accordion"},entries:{source:"static",value:[{id:1,name:"This is my first entry",content:'<p>Lorem ipsum dolor sit amet, <a href="#">consetetur</a> sadipscing elitr, <b>sed diam nonumy eirmod tempor</b> invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua</p>'}]},autoClose:{source:"static",value:!0},verticalAlign:{source:"static",value:null}}});const Tl='<div class="sw-cms-el-moorl-hero-banner"> <div class="hero-container"> <img :src="mediaUrl"/> <div class="hero-caption-search"> <div v-if="element.config.captionActive.value" class="caption" :style="captionCss" > <p class="title"> {{ element.config.title.value }} </p> <p class="content"> {{ element.config.content.value }} </p> </div> <div class="search"> <div class="hero-bannerbar"> Search ... </div> </div> </div> </div> </div>';Shopware.Component.register("sw-cms-el-moorl-hero-banner",{template:Tl,mixins:[Shopware.Mixin.getByName("cms-element")],computed:{assetFilter(){return Shopware.Filter.getByName("asset")},captionCss(){const i={color:this.element.config.boxColor.value};return this.element.config.textShadowActive.value&&(i.textShadow="2px 2px 15px #000"),i},mediaUrl(){const i=this.element.data.media;if(this.element.config.media.source==="mapped"){const r=this.getDemoValue(this.element.config.media.value);return r&&r.url?r.url:this.assetFilter("administration/administration/static/img/cms/preview_mountain_large.jpg")}return i&&i.id?this.element.data.media.url:i&&i.url?this.assetFilter(i.url):this.assetFilter("administration/administration/static/img/cms/preview_mountain_large.jpg")}},watch:{cmsPageState:{deep:!0,handler(){this.$forceUpdate()}},mediaConfigValue(i){const a=Utils.get(this.element,"data.media.id");Utils.get(this.element,"config.media.source")==="static"&&a&&i!==a&&(this.element.config.media.value=a)}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-hero-banner"),this.initElementData("moorl-hero-banner")}}});const Al=`<div class="sw-cms-el-config-moorl-hero-banner"> <sw-tabs default-item="general"> <template #default="{ active }"> <sw-tabs-item name="general" :activeTab="active" > {{ $tc('moorl-foundation.tab.general') }} </sw-tabs-item> <sw-tabs-item v-if="element.config.mediaActive.value" name="media" :activeTab="active" > {{ $tc('moorl-foundation.tab.media') }} </sw-tabs-item> <sw-tabs-item name="position" :activeTab="active" > {{ $tc('moorl-foundation.tab.position') }} </sw-tabs-item> <sw-tabs-item v-if="element.config.captionActive.value" name="content" :activeTab="active" > {{ $tc('moorl-foundation.tab.content') }} </sw-tabs-item> </template> <template #content="{ active }"> <sw-container v-if="active === 'general'"> <moorl-select-field :label="$tc('moorl-foundation.field.elementType')" v-model:value="element.config.searchType.value" :customSet="['search','location']" snippetPath="moorl-foundation.field" /> <sw-entity-single-select v-if="element.config.searchType.value == 'location'" :label="$tc('moorl-foundation.field.category')" entity="category" v-model:value="element.config.categoryId.value" /> <mt-text-field v-model="element.config.height.value" :label="$tc('moorl-foundation.field.height')" /> <mt-switch v-model="element.config.mediaActive.value" bordered :label="$tc('moorl-foundation.field.mediaActive')" /> <mt-switch v-model="element.config.captionActive.value" bordered :label="$tc('moorl-foundation.field.captionActive')" /> </sw-container> <sw-container v-if="active === 'media'"> <div class="sw-field"> <sw-media-upload-v2 :upload-tag="uploadTag" :source="previewSource" :allow-multi-select="false" :default-folder="cmsPageState.pageEntityName" :caption="$tc('sw-cms.elements.general.config.caption.mediaUpload')" @media-upload-sidebar-open="onOpenMediaModal" @media-upload-remove-image="onImageRemove" /> <sw-upload-listener :uploadTag="uploadTag" autoUpload @media-upload-finish="onImageUpload" /> </div> <sw-container columns="1fr 1fr" gap="0 10px" > <moorl-select-field :label="$tc('moorl-foundation.field.backgroundVerticalAlign')" v-model:value="element.config.backgroundVerticalAlign.value" set="textVerticalAlign" /> <moorl-select-field :label="$tc('moorl-foundation.field.backgroundHorizontalAlign')" v-model:value="element.config.backgroundHorizontalAlign.value" set="textHorizontalAlign" /> <mt-switch v-model="element.config.backgroundFixed.value" bordered :label="$tc('moorl-foundation.field.backgroundFixed')" /> <moorl-select-field :label="$tc('moorl-foundation.field.backgroundDisplayMode')" v-model:value="element.config.backgroundDisplayMode.value" set="displayMode" /> </sw-container> <sw-container v-if="element.config.backgroundDisplayMode.value == 'custom'" columns="1fr 1fr" gap="0 10px" > <mt-text-field v-model="element.config.backgroundSizeX.value" :label="$tc('moorl-foundation.field.backgroundSizeX')" /> <mt-text-field v-model="element.config.backgroundSizeY.value" :label="$tc('moorl-foundation.field.backgroundSizeY')" /> </sw-container> </sw-container> <sw-container v-if="active === 'position'"> <sw-container columns="1fr 1fr" gap="0 10px" > <moorl-select-field :label="$tc('moorl-foundation.field.boxVerticalAlign')" v-model:value="element.config.boxVerticalAlign.value" set="flexVerticalAlign" /> <moorl-select-field :label="$tc('moorl-foundation.field.boxHorizontalAlign')" v-model:value="element.config.boxHorizontalAlign.value" set="flexHorizontalAlign" /> <mt-text-field :label="$tc('moorl-foundation.field.boxWidth')" v-model="element.config.boxWidth.value" /> <mt-text-field :label="$tc('moorl-foundation.field.boxHeight')" v-model="element.config.boxHeight.value" /> <mt-text-field :label="$tc('moorl-foundation.field.boxMargin')" v-model="element.config.boxMargin.value" /> <mt-text-field :label="$tc('moorl-foundation.field.boxPadding')" v-model="element.config.boxPadding.value" /> <moorl-select-field :label="$tc('moorl-foundation.field.boxTextAlign')" v-model:value="element.config.boxTextAlign.value" set="textHorizontalAlign" /> <mt-colorpicker colorOutput="hex" :zIndex="1000" :label="$tc('moorl-foundation.field.boxColor')" v-model="element.config.boxColor.value" /> <mt-colorpicker colorOutput="hex" :zIndex="1000" :label="$tc('moorl-foundation.field.boxBackground')" v-model="element.config.boxBackground.value" /> <mt-text-field :label="$tc('moorl-foundation.field.boxBorderRadius')" v-model="element.config.boxBorderRadius.value" /> <mt-switch v-model="element.config.boxMaxWidth.value" bordered :label="$tc('moorl-foundation.field.boxMaxWidth')" /> </sw-container> </sw-container> <sw-container v-if="active === 'content'"> <mt-text-field v-model="element.config.title.value" :label="$tc('moorl-foundation.field.title')" /> <mt-text-field v-model="element.config.content.value" :label="$tc('moorl-foundation.field.content')" /> <mt-switch v-model="element.config.textShadowActive.value" bordered :label="$tc('moorl-foundation.field.textShadowActive')" /> </sw-container> </template> </sw-tabs> <sw-media-modal-v2 v-if="mediaModalIsOpen" variant="full" :caption="$tc('sw-cms.elements.general.config.caption.mediaUpload')" :entity-context="cmsPageState.entityName" :allow-multi-select="false" :initial-folder-id="cmsPageState.defaultMediaFolderId" @media-upload-remove-image="onImageRemove" @media-modal-selection-change="onSelectionChanges" @modal-close="onCloseModal" /> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-hero-banner",{template:Al,mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],data(){return{mediaModalIsOpen:!1,initialFolderId:null}},computed:{assetFilter(){return Shopware.Filter.getByName("asset")},mediaRepository(){return this.repositoryFactory.create("media")},uploadTag(){return this.element.id},previewSource(){return this.element.data&&this.element.data.media&&this.element.data.media.id?this.element.data.media:this.element.config.media.value},flexAlignOptions(){return[{value:"flex-start",label:"moorl-foundation.field.start"},{value:"center",label:"moorl-foundation.field.center"},{value:"flex-end",label:"moorl-foundation.field.end"}]},textAlignOptions(){return[{value:"left",label:"moorl-foundation.field.left"},{value:"center",label:"moorl-foundation.field.center"},{value:"right",label:"moorl-foundation.field.right"}]},verticalTextAlignOptions(){return[{value:"top",label:"moorl-foundation.field.top"},{value:"center",label:"moorl-foundation.field.center"},{value:"bottom",label:"moorl-foundation.field.bottom"}]},backgroundSizeOptions(){return[{value:"cover",label:"moorl-foundation.field.cover"},{value:"contain",label:"moorl-foundation.field.contain"},{value:"custom",label:"moorl-foundation.field.custom"}]}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-hero-banner")},onChangeMedia(){return this.uploadStore.runUploads(this.uploadTag)},async onImageUpload({targetId:i}){const a=await this.mediaRepository.get(i,Shopware.Context.api);this.element.config.media.value=a.id,this.updateElementData(a)},onImageRemove(){this.element.config.media.value=null,this.updateElementData()},updateElementData(i=null){this.element.data.mediaId=i===null?null:i.id,this.element.data.media=i,this.$emit("element-update",this.element)},onCloseModal(){this.mediaModalIsOpen=!1},onSelectionChanges(i){this.element.config.media.value=i[0].id,this.element.data&&(this.element.data.mediaId=i[0].id,this.element.data.media=i[0]),this.$emit("element-update",this.element)},onOpenMediaModal(){this.mediaModalIsOpen=!0}}});Shopware.Application.getContainer("service").cmsService.registerCmsElement({plugin:"MoorlFoundation",icon:"regular-search",name:"moorl-hero-banner",label:"sw-cms.elements.moorl-hero-banner.title",component:"sw-cms-el-moorl-hero-banner",configComponent:"sw-cms-el-config-moorl-hero-banner",previewComponent:!0,defaultConfig:{searchType:{source:"static",value:"search"},categoryId:{source:"static",value:null},captionActive:{source:"static",value:!0},mediaActive:{source:"static",value:!0},height:{source:"static",value:"300px"},media:{source:"static",value:null,entity:{name:"media"}},backgroundFixed:{source:"static",value:!1},backgroundVerticalAlign:{source:"static",value:"center"},backgroundHorizontalAlign:{source:"static",value:"center"},backgroundDisplayMode:{source:"static",value:"cover"},backgroundSizeX:{source:"static",value:"300px"},backgroundSizeY:{source:"static",value:"300px"},title:{source:"static",value:"Lorem ipsum dolor"},content:{source:"static",value:"Lorem ipsum dolor sit amet, consetetur sadipscing"},textShadowActive:{source:"static",value:!0},boxVerticalAlign:{source:"static",value:"center"},boxHorizontalAlign:{source:"static",value:"center"},boxTextAlign:{source:"static",value:"left"},boxWidth:{source:"static",value:"auto"},boxHeight:{source:"static",value:"auto"},boxMargin:{source:"static",value:"20px"},boxPadding:{source:"static",value:"15px"},boxColor:{source:"static",value:"#FFFFFF"},boxBackground:{source:"static",value:"rgba(255,255,255,0.7)"},boxMaxWidth:{source:"static",value:!1},boxBorderRadius:{source:"static",value:"8px"}}});const $l=`<div class="sw-cms-el-studygood-moorl-usp"> <div class="moorl-usp-container" :style="uspContainerCss" > <div v-if="element.config.iconActive.value" class="icon-container" :style="uspIconCss" > <mt-icon name="regular-checkmark" size="48" /> </div> <div class="text-container"> <div v-if="element.config.title.value" class="headline" :style="{ 'color': element.config.headlineColor.value }" > {{ element.config.title.value }} </div> <div v-if="element.config.text.value" class="subheadline" :style="{ 'color': element.config.subHeadlineColor.value }" > {{ element.config.text.value }} </div> </div> </div> </div>`;Shopware.Component.register("sw-cms-el-moorl-usp",{template:$l,mixins:[Shopware.Mixin.getByName("cms-element")],computed:{uspContainerCss(){if(this.element.config.alignment.value==="center")return{"flex-direction":"column","text-align":"center"}},uspIconCss(){const i={color:this.element.config.iconColor.value};return this.element.config.alignment.value==="center"&&(i.marginRight="0",i.marginBototm="5px"),i}},watch:{cmsPageState:{deep:!0,handler(){this.$forceUpdate()}}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-usp"),this.initElementData("moorl-usp")}}});const El=`<sw-tabs default-item="general"> <template #default="{ active }"> <sw-tabs-item name="general" :activeTab="active" > {{ $tc('sw-cms.elements.moorl-usp.tab.general') }} </sw-tabs-item> <sw-tabs-item name="textColor" :activeTab="active" > {{ $tc('sw-cms.elements.moorl-usp.tab.textColor') }} </sw-tabs-item> </template> <template #content="{ active }"> <sw-container v-if="active === 'general'" class="sw-cms-el-config-moorl-usp__tab-general" > <mt-switch v-model="element.config.iconActive.value" bordered :label="$tc('sw-cms.elements.moorl-usp.config.iconActive')" /> <mt-text-field v-if="element.config.iconActive.value" v-model="element.config.iconClass.value" placeholder="fab|shopware" :helpText="$tc('sw-cms.elements.moorl-usp.config.iconClassHelpText')" :label="$tc('sw-cms.elements.moorl-usp.config.iconClass')" /> <mt-text-field v-model="element.config.title.value" :label="$tc('sw-cms.elements.moorl-usp.config.headline')" /> <mt-text-field v-model="element.config.text.value" :label="$tc('sw-cms.elements.moorl-usp.config.subHeadline')" /> <moorl-select-field :label="$tc('sw-cms.elements.moorl-usp.config.alignment')" v-model:value="element.config.alignment.value" set="textHorizontalAlign" :filter="['left','center']" /> </sw-container> <sw-container v-if="active === 'textColor'" class="sw-cms-el-config-moorl-usp__tab-colors" > <mt-colorpicker colorOutput="hex" :zIndex="1000" :label="$tc('sw-cms.elements.moorl-usp.config.iconColor')" v-model="element.config.iconColor.value" /> <mt-colorpicker colorOutput="hex" :zIndex="1000" :label="$tc('sw-cms.elements.moorl-usp.config.headlineColor')" v-model="element.config.headlineColor.value" /> <mt-colorpicker colorOutput="hex" :zIndex="1000" :label="$tc('sw-cms.elements.moorl-usp.config.subHeadlineColor')" v-model="element.config.subHeadlineColor.value" /> </sw-container> </template> </sw-tabs>`;Shopware.Component.register("sw-cms-el-config-moorl-usp",{template:El,mixins:[Shopware.Mixin.getByName("cms-element")],created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-usp"),this.initElementData("moorl-usp")}}});Shopware.Application.getContainer("service").cmsService.registerCmsElement({plugin:"MoorlFoundation",icon:"regular-checkmark",name:"moorl-usp",label:"sw-cms.elements.moorl-usp.title",component:"sw-cms-el-moorl-usp",configComponent:"sw-cms-el-config-moorl-usp",previewComponent:!0,defaultConfig:{iconActive:{source:"static",value:!0},iconClass:{source:"static",value:"fab|shopware"},title:{source:"static",value:"Lorem ipsum dolor"},text:{source:"static",value:"Lorem ipsum dolor sit amet, consetetur sadipscing"},iconColor:{source:"static",value:"#4495c0"},headlineColor:{source:"static",value:"#4c4c4c"},subHeadlineColor:{source:"static",value:"#4c4c4c"},alignment:{source:"static",value:"left"}}});const Bl=`<div class="sw-cms-el-moorl-newsletter"> <div class="moorl-newsletter-input-button-container"> <div class="moorl-newsletter-input"> {{ element.config.placeholder.value }} </div> <div class="moorl-newsletter-button" :style="newsletterButtonCss" > {{ element.config.buttonText.value }} </div> </div> <div v-if="element.config.optin.value" class="moorl-newsletter-optin-container" :style="{ 'color': element.config.privacyColor.value }" > <span class="checkbox"></span> I have read the privacy notice </div> </div>`;Shopware.Component.register("sw-cms-el-moorl-newsletter",{template:Bl,mixins:[Shopware.Mixin.getByName("cms-element")],computed:{newsletterButtonCss(){return{color:this.element.config.buttonTextColor.value,"background-color":this.element.config.buttonBackground.value}}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-newsletter"),this.initElementData("moorl-newsletter")}}});const Ol=`<div class="sw-cms-el-config-moorl-newsletter"> <sw-tabs class="sw-cms-el-config-moorl-newsletter__tabs" default-item="general" > <template #default="{ active }"> <sw-tabs-item name="general" :activeTab="active" > {{ $tc('sw-cms.elements.moorl-newsletter.tab.general') }} </sw-tabs-item> <sw-tabs-item name="colors" :activeTab="active" > {{ $tc('sw-cms.elements.moorl-newsletter.tab.colors') }} </sw-tabs-item> <sw-tabs-item name="text" :activeTab="active" > {{ $tc('sw-cms.elements.moorl-newsletter.tab.text') }} </sw-tabs-item> </template> <template #content="{ active }"> <sw-container v-if="active === 'general'" class="sw-cms-el-config-moorl-newsletter__tab-general" > <mt-switch bordered :label="$tc('sw-cms.elements.moorl-newsletter.config.optin')" v-model="element.config.optin.value" /> </sw-container> <sw-container v-if="active === 'colors'" class="sw-cms-el-config-moorl-newsletter__tab-colors" > <mt-colorpicker colorOutput="hex" :zIndex="1000" :label="$tc('sw-cms.elements.moorl-newsletter.config.buttonBackground')" v-model="element.config.buttonBackground.value" /> <mt-colorpicker colorOutput="hex" :zIndex="1000" :label="$tc('sw-cms.elements.moorl-newsletter.config.buttonTextColor')" v-model="element.config.buttonTextColor.value" /> <mt-colorpicker colorOutput="hex" :zIndex="1000" :label="$tc('sw-cms.elements.moorl-newsletter.config.privacyColor')" v-model="element.config.privacyColor.value" /> </sw-container> <sw-container v-if="active === 'text'" class="sw-cms-el-config-moorl-newsletter__tab-text" > <mt-banner variant="info"> {{ $tc('sw-cms.elements.moorl-newsletter.config.hint') }} </mt-banner> <mt-text-field v-model="element.config.placeholder.value" :label="$tc('sw-cms.elements.moorl-newsletter.config.placeholder')" /> <mt-text-field v-model="element.config.buttonText.value" :label="$tc('sw-cms.elements.moorl-newsletter.config.')" /> </sw-container> </template> </sw-tabs> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-newsletter",{template:Ol,inject:["repositoryFactory"],mixins:[Shopware.Mixin.getByName("cms-element")]});Shopware.Application.getContainer("service").cmsService.registerCmsElement({plugin:"MoorlFoundation",icon:"regular-paper-plane",name:"moorl-newsletter",label:"sw-cms.elements.moorl-newsletter.title",component:"sw-cms-el-moorl-newsletter",configComponent:"sw-cms-el-config-moorl-newsletter",previewComponent:!0,defaultConfig:{optin:{source:"static",value:!0},buttonTextColor:{source:"static",value:"#ffffff"},buttonBackground:{source:"static",value:"#4495c0"},placeholder:{source:"static",value:"Enter E-Mail ..."},buttonText:{source:"static",value:"Register"},privacyColor:{source:"static",value:"#ffffff"}}});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-filter",name:"moorl-sidebar-filter",label:"sw-cms.elements.moorl-sidebar-filter.title",component:"sw-cms-el-sidebar-filter",configComponent:"sw-cms-el-config-sidebar-filter",previewComponent:!0,disabledConfigInfoTextKey:"sw-cms.elements.sidebarFilter.infoText.filterElement"});const Dl='<div class="sw-cms-el-moorl-product-buy-list" v-if="element.config.enableAddToCartAll" > <ul v-if="element.data.products" class="moorl-product-buy-list-items" > <li v-for="product in element.data.products"> <div class="moorl-product-buy-list-item" :class="itemClass" > <div v-if="element.config.enableAddToCartAll.value" class="form-check" > <input type="checkbox" checked /> </div> <div class="product-cover"> <img v-if="product.cover && product.cover.media" :src="product.cover.media.url" :alt="product.name" /> </div> <div class="product-content"> <div class="product-title"> {{ product.translated.name }} </div> <div v-if="product.parentId"> VARIANTS </div> <div v-if="element.config.enablePrices.value" class="products-buy-form-list-item-info-price" > {{ product.price[0].gross | numberFormat }} </div> </div> <div v-if="element.config.enableAddToCartSingle.value" class="product-buy-form" > <a class="btn mt-button" href="#" > <mt-icon name="regular-plus-s"/> </a> </div> </div> </li> </ul> <mt-banner v-else variant="info" > {{ element.config.emptyText.value }} </mt-banner> <div v-if="element.config.enableAddToCartAll.value" class="moorl-product-buy-list-form" > <div class="mb-2"> <div class="text-start"> Selected items <span class="selected-items">{{ selectedItems }}</span> </div> <div class="text-end"> Total: <span class="total-price"> {{ priceTotal | numberFormat }} </span> </div> </div> <a class="btn mt-button mt-button--primary" href="#" > Add to Cart </a> </div> </div>',{Criteria:Ui,EntityCollection:zl}=Shopware.Data;Shopware.Component.register("sw-cms-el-moorl-product-buy-list",{template:Dl,props:{element:{type:Object,required:!1,default:null}},mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],data(){return{items:[],productCollection:null,criteria:new Ui(1,12)}},computed:{productRepository(){return this.repositoryFactory.create("product")},products(){return this.element.data&&this.element.data.products&&this.element.data.products.length>0?this.element.data.products:null},productSearchCriteria(){const i=new Ui(1,25);return i.addAssociation("options.group"),i.addAssociation("cover"),i},productSearchContext(){const i=Object.assign({},Shopware.Context.api);return i.inheritance=!0,i},itemClass(){let i="enable-add-to-cart";return this.element.config.enableAddToCartAll.value&&(i+="-all"),this.element.config.enableAddToCartSingle.value&&(i+="-single"),i},priceTotal(){let i=0;return this.element.data.products&&this.element.data.products.forEach(function(a){a.price&&(i=i+a.price[0].gross)}),i},selectedItems(){let i=0;return this.element.data.products?this.element.data.products.length:i}},watch:{cmsPageState:{deep:!0,handler(){this.$forceUpdate()}}},created(){this.createdComponent()},methods:{createdComponent(){if(Object.keys(this.element.config).length||(this.initElementConfig("moorl-product-buy-list"),this.initElementData("moorl-product-buy-list")),this.productCollection=new zl("/product","product",Shopware.Context.api),!Array.isArray(this.element.config.products.value)||this.element.config.products.value.length===0)return;const i=new Ui;i.addAssociation("options.group"),i.addAssociation("cover"),i.setIds(this.element.config.products.value),this.productRepository.search(i,this.productSearchContext).then(a=>{this.productCollection=a,this.onProductsChange()})},onProductsChange(){var i,a;(i=this.element.config)!=null&&i.products||this.initElementConfig("moorl-product-buy-list"),(a=this.element.data)!=null&&a.products||this.initElementData("moorl-product-buy-list"),this.element.config.products.value=this.productCollection.getIds(),this.element.data.products=this.productCollection}},filters:{numberFormat:function(i){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(i)}}});const Fl=`<div class="sw-cms-el-config-moorl-product-buy-list"> <sw-cms-mapping-field v-model:config="element.config.products" entity="product" value-types="entity" :label="$tc('sw-cms.elements.moorl-product-buy-list.label.products')" > <sw-entity-multi-select class="sw-cms-el-config-product-slider__products" :placeholder="$tc('sw-cms.elements.productSlider.config.placeholder.selection')" v-model:entityCollection="productCollection" @update:entity-collection="onProductsChange" :context="productSearchContext" :criteria="productSearchCriteria" > <template #selection-label-property="{ item }"> <sw-product-variant-info :variations="item.variation"> {{ item.translated.name || item.name }} </sw-product-variant-info> </template> </sw-entity-multi-select> </sw-cms-mapping-field> <sw-container columns="1fr 1fr" gap="0px 30px" > <template v-for="product in products"> <template v-if="element.config.productQuantities.value[product.id]"> <mt-number-field min="1" max="100" step="1" :label="$tc('sw-cms.elements.moorl-product-buy-list.label.productQuantity') + ': ' + product.translated.name" v-model="element.config.productQuantities.value[product.id]" /> </template> </template> </sw-container> <sw-container columns="1fr 1fr" gap="0px 30px" > <mt-switch v-model="element.config.enablePrices.value" bordered :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enablePrices')" /> <mt-switch v-model="element.config.enableVariantSwitch.value" bordered :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableVariantSwitch')" /> <mt-switch v-model="element.config.enableAddToCartAll.value" bordered :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableAddToCartAll')" /> <mt-switch v-model="element.config.enableAddToCartSingle.value" bordered :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableAddToCartSingle')" /> <mt-switch v-model="element.config.enableDirectUrl.value" bordered :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableDirectUrl')" /> <mt-text-field v-model="element.config.emptyText.value" :label="$tc('sw-cms.elements.moorl-product-buy-list.label.emptyText')" /> </sw-container> </div>`,{Criteria:pa,EntityCollection:Nl}=Shopware.Data;Shopware.Component.register("sw-cms-el-config-moorl-product-buy-list",{template:Fl,props:{element:{type:Object,required:!1,default:null}},mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],data(){return{productCollection:null}},computed:{productRepository(){return this.repositoryFactory.create("product")},products(){return this.element.data&&this.element.data.products&&this.element.data.products.length>0?this.element.data.products:null},productSearchCriteria(){const i=new pa(1,25);return i.addAssociation("options.group"),i.addAssociation("cover"),i},productSearchContext(){const i=Object.assign({},Shopware.Context.api);return i.inheritance=!0,i}},created(){this.createdComponent()},methods:{createdComponent(){if(Object.keys(this.element.config).length||(this.initElementConfig("moorl-product-buy-list"),this.initElementData("moorl-product-buy-list")),this.productCollection=new Nl("/product","product",Shopware.Context.api),!Array.isArray(this.element.config.products.value)||this.element.config.products.value.length===0)return;const i=new pa;i.addAssociation("options.group"),i.addAssociation("cover"),i.setIds(this.element.config.products.value),this.productRepository.search(i,this.productSearchContext).then(a=>{this.productCollection=a,this.onProductsChange()})},onProductsChange(){var i,a;(i=this.element.config)!=null&&i.products||this.initElementConfig("moorl-product-buy-list"),(a=this.element.data)!=null&&a.products||this.initElementData("moorl-product-buy-list"),this.element.config.products.value=this.productCollection.getIds(),this.element.config.products.value.forEach(r=>{this.element.config.productQuantities.value[r]||(this.element.config.productQuantities.value[r]=1),this.element.config.productQuantities.value[r]=parseInt(this.element.config.productQuantities.value[r])}),this.element.data.products=this.productCollection,this.$emit("products-change")}}});const Rl='<div class="sw-cms-el-preview-moorl-product-buy-list"> <p>{{ $tc(label) }}</p> <hr/> <div class="sw-cms-el-preview-moorl-product-buy-list-grid"> <div></div> <div></div> <div></div> <div></div> <div></div> <div></div> </div> </div>';Shopware.Component.register("sw-cms-el-preview-moorl-product-buy-list",{template:Rl,data(){return{label:"sw-cms.elements.moorl-product-buy-list.name"}}});const{Criteria:wa}=Shopware.Data,Xi=new wa;Xi.addAssociation("options.group");Xi.addAssociation("cover");Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-shopping-cart",name:"moorl-product-buy-list",label:"sw-cms.elements.moorl-product-buy-list.name",component:"sw-cms-el-moorl-product-buy-list",previewComponent:"sw-cms-el-preview-moorl-product-buy-list",configComponent:"sw-cms-el-config-moorl-product-buy-list",defaultConfig:{layout:{source:"static",value:"default"},products:{source:"static",value:[],required:!0,entity:{name:"product",criteria:Xi}},productQuantities:{source:"static",value:{}},enablePrices:{source:"static",value:!0},enableVariantSwitch:{source:"static",value:!0},enableAddToCartAll:{source:"static",value:!0},enableAddToCartSingle:{source:"static",value:!0},enableDirectUrl:{source:"static",value:!1},emptyText:{source:"static",value:"No products available"}},collect:function(a){const r=Object.assign({},Shopware.Context.api,{inheritance:!0}),c={};return Object.keys(a.config).forEach(d=>{if(a.config[d].source==="mapped"||a.config[d].source==="product_stream")return;const h=a.config[d].entity;if(h&&a.config[d].value){const m=h.name,w={value:[...a.config[d].value],key:d,searchCriteria:h.criteria?h.criteria:new wa,...h};w.searchCriteria.setIds(w.value),w.context=r,c[`entity-${m}`]=w}}),c}});const ql='<div class="sw-cms-el-moorl-download-list"> <ul v-if="element.data.downloads" class="moorl-download-list-items" > <li v-for="download in element.data.downloads"> <div class="moorl-download-list-item"> <div class="download-icon"> <mt-icon name="regular-download"/> </div> <div class="download-content"> <div class="download-title"> {{ download.fileName }} </div> <div class="download-meta"> {{ download.translated.name }} </div> </div> <div class="download-form"> <a class="btn mt-button" href="#" > <mt-icon name="regular-cloud-download"/> </a> </div> </div> </li> </ul> <mt-banner v-else variant="info" > {{ element.config.emptyText.value }} </mt-banner> </div>';Shopware.Component.register("sw-cms-el-moorl-download-list",{template:ql,mixins:[Shopware.Mixin.getByName("cms-element")]});const Zl=`<div class="sw-cms-el-config-moorl-download-list"> <sw-cms-mapping-field v-model:config="element.config.downloads" entity="media" value-types="entity" :label="$tc('sw-cms.elements.moorl-download-list.label.downloads')" > <sw-entity-multi-select class="sw-cms-el-config-download-slider__downloads" v-model:entityCollection="downloadCollection" @update:entity-collection="onDownloadsChange" labelProperty="fileName" :context="downloadSearchContext" :criteria="downloadSearchCriteria" /> </sw-cms-mapping-field> <moorl-select-field :label="$tc('sw-cms.elements.moorl-download-list.label.layout')" v-model:value="element.config.layout.value" :customSet="elementOptions.layout" /> <mt-text-field v-model="element.config.emptyText.value" :label="$tc('sw-cms.elements.moorl-download-list.label.emptyText')" /> </div>`,{Criteria:Hl,EntityCollection:jl}=Shopware.Data;Shopware.Component.register("sw-cms-el-config-moorl-download-list",{template:Zl,mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],data(){return{downloadCollection:null}},computed:{downloadRepository(){return this.repositoryFactory.create("media")},downloads(){return this.element.data&&this.element.data.downloads&&this.element.data.downloads.length>0?this.element.data.downloads:null},elementOptions(){return{layout:[{value:"default",label:"sw-cms.elements.moorl-download-list.label.default"},{value:"minimal",label:"sw-cms.elements.moorl-download-list.label.minimal"}]}}},created(){this.createdComponent()},methods:{createdComponent(){if(this.initElementConfig("moorl-download-list"),this.downloadCollection=new jl("/media","media",Shopware.Context.api),!Array.isArray(this.element.config.downloads.value)||this.element.config.downloads.value.length===0)return;const i=new Hl;i.setIds(this.element.config.downloads.value),this.downloadRepository.search(i).then(a=>{this.downloadCollection=a,this.onDownloadsChange()})},onDownloadsChange(){this.element.config.downloads.value=this.downloadCollection.getIds(),this.element.data.downloads=this.downloadCollection,this.$emit("downloads-change")}}});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-cloud-download",name:"moorl-download-list",label:"sw-cms.elements.moorl-download-list.name",component:"sw-cms-el-moorl-download-list",previewComponent:!0,configComponent:"sw-cms-el-config-moorl-download-list",defaultConfig:{downloads:{source:"static",value:[],required:!0,entity:{name:"media"}},layout:{source:"static",value:"default"},emptyText:{source:"static",value:"No downloads available"}}});const Ul=`<div class="sw-cms-el-config-moorl-share"> <sw-multi-select :label="$tc('sw-cms.elements.moorl-share.label.provider')" :options="elementOptions.provider" v-model:value="element.config.provider.value" /> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-share",{template:Ul,props:{element:{type:Object,required:!1,default:null}},mixins:[Shopware.Mixin.getByName("cms-element")],computed:{elementOptions(){return{provider:[{value:"facebook",label:"Facebook"},{value:"twitter",label:"Twitter"},{value:"pinterest",label:"Pinterest"},{value:"email",label:"E-Mail"}]}}},created(){this.createdComponent()},methods:{createdComponent(){Object.keys(this.element.config).length||this.initElementConfig("moorl-share")}}});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-share",name:"moorl-share",label:"sw-cms.elements.moorl-share.name",component:!0,previewComponent:!0,configComponent:"sw-cms-el-config-moorl-share",defaultConfig:{provider:{source:"static",value:["facebook","twitter"],required:!0}}});const Vl=`<div class="sw-cms-el-config-moorl-toc"> <mt-banner variant="info"> {{ $tc('sw-cms.elements.moorl-toc.description') }} </mt-banner> <sw-cms-mapping-field v-model:config="element.config.content" value-types="string" > <sw-code-editor :label="$tc('sw-cms.elements.moorl-toc.label.content')" :softWraps="false" v-model:value="element.config.content.value" /> </sw-cms-mapping-field> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-toc",{template:Vl,mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],computed:{},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-toc")}}});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-bars-square",name:"moorl-toc",label:"sw-cms.elements.moorl-toc.name",component:!0,previewComponent:!0,configComponent:"sw-cms-el-config-moorl-toc",defaultConfig:{content:{source:"static",value:null}}});const Wl=`<div class="sw-cms-el-config-moorl-location"> <sw-cms-mapping-field v-model:config="element.config.locationLat" value-types="number" > <mt-number-field :label="$tc('sw-cms.elements.moorl-location.label.locationLat')" numberType="float" step="0.00001" digits="5" v-model="element.config.locationLat.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.locationLon" value-types="number" > <mt-number-field :label="$tc('sw-cms.elements.moorl-location.label.locationLat')" numberType="float" step="0.00001" digits="5" v-model="element.config.locationLon.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.marker" entity="moorl_marker" value-types="entity" > <sw-entity-single-select :label="$tc('sw-cms.elements.moorl-location.label.marker')" entity="moorl_marker" v-model:value="element.config.markerId.value" /> </sw-cms-mapping-field> <mt-text-field :label="$tc('sw-cms.elements.moorl-location.label.height')" v-model="element.config.height.value" /> <mt-switch :label="$tc('sw-cms.elements.moorl-location.label.overrideOsmOptions')" v-model="element.config.overrideOsmOptions.value" /> <sw-multi-select :label="$tc('sw-cms.elements.moorl-location.label.osmOptions')" v-model:value="element.config.osmOptions.value" :options="elementOptions.osmOptions" /> <mt-switch :label="$tc('sw-cms.elements.moorl-location.label.legend')" v-model="element.config.legend.value" /> <template v-if="element.config.legend.value"> <sw-entity-multi-id-select :repository="markerRepository" :label="$tc('sw-cms.elements.moorl-location.label.legendItems')" v-model:value="element.config.legendItems.value" /> <router-link target="_blank" rel="noopener" :to="{ name: 'moorl.marker.list' }" > {{ $tc('moorl-marker.title') }} </router-link> </template> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-location",{template:Wl,props:{element:{type:Object,required:!1,default:null}},mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],computed:{elementOptions(){return{osmOptions:[{value:"scrollWheelZoom",label:"scrollWheelZoom"},{value:"dragging",label:"dragging"},{value:"tap",label:"tap"},{value:"autoPan",label:"autoPan"},{value:"autoClose",label:"autoClose"},{value:"scrollTo",label:"scrollTo"},{value:"flyTo",label:"flyTo"},{value:"fitBounds",label:"fitBounds"},{value:"gestureHandling",label:"gestureHandling"}]}},markerRepository(){return this.repositoryFactory.create("moorl_marker")}},created(){this.createdComponent()},methods:{createdComponent(){Object.keys(this.element.config).length||this.initElementConfig("moorl-location")}}});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-map",name:"moorl-location",label:"sw-cms.elements.moorl-location.name",component:!0,previewComponent:!0,configComponent:"sw-cms-el-config-moorl-location",defaultConfig:{locationLat:{source:"static",value:0,required:!0},locationLon:{source:"static",value:0,required:!0},markerId:{source:"static",value:null,required:!1},marker:{source:"static",value:null,required:!1},height:{source:"static",value:"300px",required:!1},overrideOsmOptions:{source:"static",value:!1,required:!1},osmOptions:{source:"static",value:[],required:!1},legend:{source:"static",value:!1,required:!1},legendItems:{source:"static",value:[],required:!1}}});const Gl=`<div class="sw-cms-el-config-moorl-opening-hours"> <sw-cms-mapping-field v-model:config="element.config.openingHours" value-types="string" > <moorl-opening-hours v-model:value="element.config.openingHours.value"/> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:value="element.config.timeZone" value-types="string" > <mt-text-field :label="$tc('sw-cms.elements.moorl-opening-hours.label.timeZone')" v-model="element.config.timeZone.value" /> </sw-cms-mapping-field> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-opening-hours",{template:Gl,mixins:[Shopware.Mixin.getByName("cms-element")]});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-clock",name:"moorl-opening-hours",label:"sw-cms.elements.moorl-opening-hours.name",component:!0,previewComponent:!0,configComponent:"sw-cms-el-config-moorl-opening-hours",defaultConfig:{openingHours:{source:"static",value:null,required:!0},timeZone:{source:"static",value:"Europe/Berlin",required:!0}}});const Yl=`<div class="sw-cms-el-config-moorl-address"> <sw-cms-mapping-field v-model:config="element.config.street" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.street')" v-model="element.config.street.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.streetNumber" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.streetNumber')" v-model="element.config.streetNumber.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.zipcode" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.zipcode')" v-model="element.config.zipcode.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.city" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.city')" v-model="element.config.city.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.additionalAddressLine1" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.additionalAddressLine1')" v-model="element.config.additionalAddressLine1.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.additionalAddressLine2" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.additionalAddressLine2')" v-model="element.config.additionalAddressLine2.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.countryCode" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.countryCode')" v-model="element.config.countryCode.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.country" value-types="entity" entity="country" > <sw-entity-single-select :label="$tc('moorl-foundation.field.country')" entity="country" v-model:value="element.config.countryId.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.countryState" value-types="entity" entity="country_state" > <sw-entity-single-select :label="$tc('moorl-foundation.field.countryState')" entity="country_state" v-model:value="element.config.countryStateId.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.locationPlaceId" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.locationPlaceId')" v-model="element.config.locationPlaceId.value" /> </sw-cms-mapping-field> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-address",{template:Yl,props:{element:{type:Object,required:!1,default:null}},mixins:[Shopware.Mixin.getByName("cms-element")],created(){this.createdComponent()},methods:{createdComponent(){Object.keys(this.element.config).length||this.initElementConfig("moorl-address")}}});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-home",name:"moorl-address",label:"sw-cms.elements.moorl-address.name",component:!0,previewComponent:!0,configComponent:"sw-cms-el-config-moorl-address",defaultConfig:{zipcode:{source:"static",value:null,required:!0},city:{source:"static",value:null,required:!0},street:{source:"static",value:null,required:!0},streetNumber:{source:"static",value:null,required:!1},additionalAddressLine1:{source:"static",value:null,required:!1},additionalAddressLine2:{source:"static",value:null,required:!1},countryCode:{source:"static",value:null,required:!1},countryId:{source:"static",value:null,required:!1},countryStateId:{source:"static",value:null,required:!1},country:{source:"static",value:null,required:!1},countryState:{source:"static",value:null,required:!1},locationPlaceId:{source:"static",value:null,required:!1}}});const Kl=`<div class="sw-cms-el-config-moorl-contact"> <sw-cms-mapping-field v-model:config="element.config.email" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.email')" v-model="element.config.email.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.phoneNumber" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.phoneNumber')" v-model="element.config.phoneNumber.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.shopUrl" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.shopUrl')" v-model="element.config.shopUrl.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.merchantUrl" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.merchantUrl')" v-model="element.config.merchantUrl.value" /> </sw-cms-mapping-field> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-contact",{template:Kl,props:{element:{type:Object,required:!1,default:null}},mixins:[Shopware.Mixin.getByName("cms-element")],created(){this.createdComponent()},methods:{createdComponent(){Object.keys(this.element.config).length||this.initElementConfig("moorl-contact")}}});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-paper-plane",name:"moorl-contact",label:"sw-cms.elements.moorl-contact.name",component:!0,previewComponent:!0,configComponent:"sw-cms-el-config-moorl-contact",defaultConfig:{email:{source:"static",value:null,required:!1},phoneNumber:{source:"static",value:null,required:!1},shopUrl:{source:"static",value:null,required:!1},merchantUrl:{source:"static",value:null,required:!1}}});const Xl=`<div class="sw-cms-el-config-moorl-person"> <sw-cms-mapping-field v-model:config="element.config.salutationId" value-types="string" entity="salutation" > <sw-entity-single-select :label="$tc('moorl-foundation.field.salutation')" entity="salutation" labelProperty="displayName" v-model:value="element.config.salutationId.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.title" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.title')" v-model="element.config.title.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.firstName" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.firstName')" v-model="element.config.firstName.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.lastName" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.lastName')" v-model="element.config.lastName.value" /> </sw-cms-mapping-field> <sw-cms-mapping-field v-model:config="element.config.company" value-types="string" > <mt-text-field :label="$tc('moorl-foundation.field.company')" v-model="element.config.company.value" /> </sw-cms-mapping-field> </div>`;Shopware.Component.register("sw-cms-el-config-moorl-person",{template:Xl,props:{element:{type:Object,required:!1,default:null}},mixins:[Shopware.Mixin.getByName("cms-element")],created(){this.createdComponent()},methods:{createdComponent(){Object.keys(this.element.config).length||this.initElementConfig("moorl-person")}}});Shopware.Service("cmsService").registerCmsElement({plugin:"MoorlFoundation",icon:"regular-user",name:"moorl-person",label:"sw-cms.elements.moorl-person.name",component:!0,previewComponent:!0,configComponent:"sw-cms-el-config-moorl-person",defaultConfig:{salutationId:{source:"static",value:null,required:!0},firstName:{source:"static",value:null,required:!0},lastName:{source:"static",value:null,required:!0},title:{source:"static",value:null,required:!1},company:{source:"static",value:null,required:!1}}});const Jl='<div class="sw-cms-block-moorl-grid-layout-one"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-one",{template:Jl});const Ql='<div class="sw-cms-preview-block-moorl-grid-layout-one"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-one",{template:Ql});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-one",label:"sw-cms.blocks.moorl-grid-layout.one",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-one",previewComponent:"sw-cms-preview-block-moorl-grid-layout-one",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const ec='<div class="sw-cms-block-moorl-grid-layout-two"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-two",{template:ec});const tc='<div class="sw-cms-preview-block-moorl-grid-layout-two"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-two",{template:tc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-two",label:"sw-cms.blocks.moorl-grid-layout.two",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-two",previewComponent:"sw-cms-preview-block-moorl-grid-layout-two",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const ic='<div class="sw-cms-block-moorl-grid-layout-three"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-three",{template:ic});const oc='<div class="sw-cms-preview-block-moorl-grid-layout-three"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-three",{template:oc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-three",label:"sw-cms.blocks.moorl-grid-layout.three",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-three",previewComponent:"sw-cms-preview-block-moorl-grid-layout-three",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const ac='<div class="sw-cms-block-moorl-grid-layout-four"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-four",{template:ac});const nc='<div class="sw-cms-preview-block-moorl-grid-layout-four"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-four",{template:nc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-four",label:"sw-cms.blocks.moorl-grid-layout.four",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-four",previewComponent:"sw-cms-preview-block-moorl-grid-layout-four",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const rc='<div class="sw-cms-block-moorl-grid-layout-five"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-five",{template:rc});const sc='<div class="sw-cms-preview-block-moorl-grid-layout-five"> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-five",{template:sc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-five",label:"sw-cms.blocks.moorl-grid-layout.five",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-five",previewComponent:"sw-cms-preview-block-moorl-grid-layout-five",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer"}});const lc='<div class="sw-cms-block-moorl-grid-layout-six"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-six",{template:lc});const cc='<div class="sw-cms-preview-block-moorl-grid-layout-six"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-six",{template:cc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-six",label:"sw-cms.blocks.moorl-grid-layout.six",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-six",previewComponent:"sw-cms-preview-block-moorl-grid-layout-six",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const dc='<div class="sw-cms-block-moorl-grid-layout-seven"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-seven",{template:dc});const uc='<div class="sw-cms-preview-block-moorl-grid-layout-seven"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-seven",{template:uc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-seven",label:"sw-cms.blocks.moorl-grid-layout.seven",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-seven",previewComponent:"sw-cms-preview-block-moorl-grid-layout-seven",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const mc='<div class="sw-cms-block-moorl-grid-layout-eight"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> <slot name="slot-e"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-eight",{template:mc});const pc='<div class="sw-cms-preview-block-moorl-grid-layout-eight"> <div></div> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-eight",{template:pc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-eight",label:"sw-cms.blocks.moorl-grid-layout.eight",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-eight",previewComponent:"sw-cms-preview-block-moorl-grid-layout-eight",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer","slot-e":"moorl-replacer"}});const hc='<div class="sw-cms-block-moorl-grid-layout-nine"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> <slot name="slot-e"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-nine",{template:hc});const fc='<div class="sw-cms-preview-block-moorl-grid-layout-nine"> <div></div> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-nine",{template:fc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-nine",label:"sw-cms.blocks.moorl-grid-layout.nine",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-nine",previewComponent:"sw-cms-preview-block-moorl-grid-layout-nine",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer","slot-e":"moorl-replacer"}});const gc='<div class="sw-cms-block-moorl-grid-layout-ten"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> <slot name="slot-e"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-ten",{template:gc});const vc='<div class="sw-cms-preview-block-moorl-grid-layout-ten"> <div></div> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-ten",{template:vc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-ten",label:"sw-cms.blocks.moorl-grid-layout.ten",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-ten",previewComponent:"sw-cms-preview-block-moorl-grid-layout-ten",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer","slot-e":"moorl-replacer"}});const bc='<div class="sw-cms-block-moorl-grid-layout-eleven"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> <slot name="slot-e"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-eleven",{template:bc});const yc='<div class="sw-cms-preview-block-moorl-grid-layout-eleven"> <div></div> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-eleven",{template:yc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-eleven",label:"sw-cms.blocks.moorl-grid-layout.eleven",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-eleven",previewComponent:"sw-cms-preview-block-moorl-grid-layout-eleven",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer","slot-e":"moorl-replacer"}});const _c='<div class="sw-cms-block-moorl-grid-layout-twelve"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> <slot name="slot-e"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-twelve",{template:_c});const wc='<div class="sw-cms-preview-block-moorl-grid-layout-twelve"> <div></div> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-twelve",{template:wc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-twelve",label:"sw-cms.blocks.moorl-grid-layout.twelve",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-twelve",previewComponent:"sw-cms-preview-block-moorl-grid-layout-twelve",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer","slot-e":"moorl-replacer"}});const Cc='<div class="sw-cms-block-moorl-grid-layout-thirteen"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-thirteen",{template:Cc});const Sc='<div class="sw-cms-preview-block-moorl-grid-layout-thirteen"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-thirteen",{template:Sc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-thirteen",label:"sw-cms.blocks.moorl-grid-layout.thirteen",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-thirteen",previewComponent:"sw-cms-preview-block-moorl-grid-layout-thirteen",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const xc='<div class="sw-cms-block-moorl-grid-layout-fourteen"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-fourteen",{template:xc});const kc='<div class="sw-cms-preview-block-moorl-grid-layout-fourteen"> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-fourteen",{template:kc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-fourteen",label:"sw-cms.blocks.moorl-grid-layout.fourteen",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-fourteen",previewComponent:"sw-cms-preview-block-moorl-grid-layout-fourteen",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer"}});const Lc='<div class="sw-cms-block-moorl-grid-layout-fifteen"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> <slot name="slot-e"></slot> <slot name="slot-f"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-fifteen",{template:Lc});const Ic='<div class="sw-cms-preview-block-moorl-grid-layout-fifteen"> <div></div> <div></div> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-fifteen",{template:Ic});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-fifteen",label:"sw-cms.blocks.moorl-grid-layout.fifteen",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-fifteen",previewComponent:"sw-cms-preview-block-moorl-grid-layout-fifteen",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer","slot-e":"moorl-replacer","slot-f":"moorl-replacer"}});const Pc='<div class="sw-cms-block-moorl-grid-layout-sixteen"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-sixteen",{template:Pc});const Mc='<div class="sw-cms-preview-block-moorl-grid-layout-sixteen"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-sixteen",{template:Mc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-sixteen",label:"sw-cms.blocks.moorl-grid-layout.sixteen",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-sixteen",previewComponent:"sw-cms-preview-block-moorl-grid-layout-sixteen",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const Tc='<div class="sw-cms-block-moorl-grid-layout-seventeen"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> <slot name="slot-e"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-grid-layout-seventeen",{template:Tc});const Ac='<div class="sw-cms-preview-block-moorl-grid-layout-seventeen"> <div></div> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-grid-layout-seventeen",{template:Ac});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-grid-layout-seventeen",label:"sw-cms.blocks.moorl-grid-layout.seventeen",category:"moorl-grid-layout",component:"sw-cms-block-moorl-grid-layout-seventeen",previewComponent:"sw-cms-preview-block-moorl-grid-layout-seventeen",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer","slot-e":"moorl-replacer"}});const $c='<div class="sw-cms-block-moorl-column-layout-1"> <slot name="slot-a"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-1",{template:$c});const Ec='<div class="sw-cms-preview-block-moorl-column-layout-1"> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-1",{template:Ec});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-1",label:"sw-cms.blocks.moorl-column-layout.1",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-1",previewComponent:"sw-cms-preview-block-moorl-column-layout-1",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer"}});const Bc='<div class="sw-cms-block-moorl-column-layout-1-1"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-1-1",{template:Bc});const Oc='<div class="sw-cms-preview-block-moorl-column-layout-1-1"> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-1-1",{template:Oc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-1-1",label:"sw-cms.blocks.moorl-column-layout.1-1",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-1-1",previewComponent:"sw-cms-preview-block-moorl-column-layout-1-1",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer"}});const Dc='<div class="sw-cms-block-moorl-column-layout-1-1-1"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-1-1-1",{template:Dc});const zc='<div class="sw-cms-preview-block-moorl-column-layout-1-1-1"> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-1-1-1",{template:zc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-1-1-1",label:"sw-cms.blocks.moorl-column-layout.1-1-1",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-1-1-1",previewComponent:"sw-cms-preview-block-moorl-column-layout-1-1-1",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer"}});const Fc='<div class="sw-cms-block-moorl-column-layout-1-1-1-1"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-1-1-1-1",{template:Fc});const Nc='<div class="sw-cms-preview-block-moorl-column-layout-1-1-1-1"> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-1-1-1-1",{template:Nc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-1-1-1-1",label:"sw-cms.blocks.moorl-column-layout.1-1-1-1",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-1-1-1-1",previewComponent:"sw-cms-preview-block-moorl-column-layout-1-1-1-1",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer"}});const Rc='<div class="sw-cms-block-moorl-column-layout-1-1-1-1-1"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> <slot name="slot-d"></slot> <slot name="slot-e"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-1-1-1-1-1",{template:Rc});const qc='<div class="sw-cms-preview-block-moorl-column-layout-1-1-1-1-1"> <div></div> <div></div> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-1-1-1-1-1",{template:qc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-1-1-1-1-1",label:"sw-cms.blocks.moorl-column-layout.1-1-1-1-1",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-1-1-1-1-1",previewComponent:"sw-cms-preview-block-moorl-column-layout-1-1-1-1-1",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer","slot-d":"moorl-replacer","slot-e":"moorl-replacer"}});const Zc='<div class="sw-cms-block-moorl-column-layout-2-3"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-2-3",{template:Zc});const Hc='<div class="sw-cms-preview-block-moorl-column-layout-2-3"> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-2-3",{template:Hc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-2-3",label:"sw-cms.blocks.moorl-column-layout.2-3",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-2-3",previewComponent:"sw-cms-preview-block-moorl-column-layout-2-3",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer"}});const jc='<div class="sw-cms-block-moorl-column-layout-3-2"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-3-2",{template:jc});const Uc='<div class="sw-cms-preview-block-moorl-column-layout-3-2"> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-3-2",{template:Uc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-3-2",label:"sw-cms.blocks.moorl-column-layout.3-2",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-3-2",previewComponent:"sw-cms-preview-block-moorl-column-layout-3-2",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer"}});const Vc='<div class="sw-cms-block-moorl-column-layout-nb-1-1"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-nb-1-1",{template:Vc});const Wc='<div class="sw-cms-preview-block-moorl-column-layout-nb-1-1"> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-nb-1-1",{template:Wc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-nb-1-1",label:"sw-cms.blocks.moorl-column-layout.nb-1-1",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-nb-1-1",previewComponent:"sw-cms-preview-block-moorl-column-layout-nb-1-1",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer"}});const Gc='<div class="sw-cms-block-moorl-column-layout-nb-1-1-1"> <slot name="slot-a"></slot> <slot name="slot-b"></slot> <slot name="slot-c"></slot> </div>';Shopware.Component.register("sw-cms-block-moorl-column-layout-nb-1-1-1",{template:Gc});const Yc='<div class="sw-cms-preview-block-moorl-column-layout-nb-1-1-1"> <div></div> <div></div> <div></div> </div>';Shopware.Component.register("sw-cms-preview-block-moorl-column-layout-nb-1-1-1",{template:Yc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-column-layout-nb-1-1-1",label:"sw-cms.blocks.moorl-column-layout.nb-1-1-1",category:"moorl-column-layout",component:"sw-cms-block-moorl-column-layout-nb-1-1-1",previewComponent:"sw-cms-preview-block-moorl-column-layout-nb-1-1-1",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer","slot-b":"moorl-replacer","slot-c":"moorl-replacer"}});const Kc=`<div class="sw-cms-block-moorl-interactive-slider"> <div class="sw-cms-block-moorl-interactive-slider-config"> <mt-button variant="secondary" size="default" @click="showConfigurationModal = true" > {{ $tc('global.default.edit') }} </mt-button> <mt-button variant="secondary" size="default" @click="addSlot()" > {{ $tc('global.default.add') }} </mt-button> <mt-button variant="secondary" size="default" @click="removeSlot()" > {{ $tc('global.default.delete') }} </mt-button> <moorl-select-field v-model:value="activeSlot" :customSet="block.slots" variant="small" valueProperty="id" labelProperty="slot" /> </div> <div class="sw-cms-block-moorl-interactive-slider-content" ref="content" > <template v-for="slot in block.slots"> <div v-if="slot.id === activeSlot" :style="slotStyle" class="sw-cms-block-moorl-interactive-slider-slot" > <slot :name="slot.slot"/> </div> </template> </div> <sw-modal v-if="showConfigurationModal" :title="$tc('sw-cms.blocks.moorl-slider.interactive')" @modal-close="showConfigurationModal = false" > <sw-container columns="1fr 1fr" gap="0px 30px" > <mt-text-field v-model="block.customFields.moorl_interactive_slider.itemWidth" :label="$tc('moorl-foundation.field.itemWidth')" /> <mt-text-field v-model="block.customFields.moorl_interactive_slider.itemHeight" :label="$tc('moorl-foundation.field.itemHeight')" /> <mt-text-field v-model="block.customFields.moorl_interactive_slider.gapSize" :label="$tc('moorl-foundation.field.gapSize')" /> <mt-number-field v-model="block.customFields.moorl_interactive_slider.speed" :label="$tc('moorl-foundation.field.speed')" /> <mt-number-field v-model="block.customFields.moorl_interactive_slider.autoplayTimeout" :label="$tc('moorl-foundation.field.autoplayTimeout')" /> <mt-switch v-model="block.customFields.moorl_interactive_slider.autoplay" bordered :label="$tc('moorl-foundation.field.autoplay')" /> <mt-switch v-model="block.customFields.moorl_interactive_slider.autoplayHoverPause" bordered :label="$tc('moorl-foundation.field.autoplayHoverPause')" /> <mt-switch v-model="block.customFields.moorl_interactive_slider.navigation" bordered :label="$tc('moorl-foundation.field.navigation')" /> <moorl-select-field v-model:value="block.customFields.moorl_interactive_slider.animateIn" set="animateIn" /> <moorl-select-field v-model:value="block.customFields.moorl_interactive_slider.animateOut" set="animateOut" /> </sw-container> </sw-modal> </div>`;Shopware.Component.register("sw-cms-block-moorl-interactive-slider",{template:Kc,inject:["repositoryFactory"],data(){return{showConfigurationModal:!1,activeSlot:null,block:null}},computed:{slotRepository(){return this.repositoryFactory.create("cms_slot")},slotStyle(){return{"min-height":this.block.customFields.moorl_interactive_slider.itemHeight}}},created(){this.block=this.$parent.$parent.block,this.block.customFields||(this.block.customFields={}),this.block.customFields.moorl_interactive_slider||(this.block.customFields.moorl_interactive_slider={slots:1,itemWidth:"100%",itemHeight:"340px",gapSize:"0px",speed:800,autoplayTimeout:2e3,autoplay:!0,autoplayHoverPause:!0,navigation:!1,animateIn:null,animateOut:null}),this.sanitizeSlots(),this.activeSlot=this.block.slots.last().id},methods:{sanitizeSlots(){this.block.slots.sort((i,a)=>i.slot>a.slot&&1||-1),this.block.slots.forEach(function(i,a){let r=String.fromCharCode(a+97);i.slot=`slot-${r}`})},addSlot(){let i=this.block.slots.length;if(i>25)return;let a=String.fromCharCode(i+97);const r=this.slotRepository.create();r.blockId=this.block.id,r.slot=`slot-${a}`,r.type="moorl-replacer",this.block.slots.add(r),this.activeSlot=r.id,this.$parent.$parent.$forceUpdate()},removeSlot(){if(this.block.slots.length<2)return;let a=this.block.slots.last().id;this.block.slots.remove(a),this.activeSlot=this.block.slots.last().id,this.$parent.$parent.$forceUpdate()}}});const Xc='<div class="sw-cms-preview-block-moorl-interactive-slider"> <mt-icon name="regular-chevron-left-s" size="10" /> <div>&infin;</div> <mt-icon name="regular-chevron-right-s" size="10" /> </div>';Shopware.Component.register("sw-cms-preview-moorl-interactive-slider",{template:Xc});Shopware.Service("cmsService").registerCmsBlock({name:"moorl-interactive-slider",label:"sw-cms.blocks.moorl-slider.interactive",category:"moorl-slider",component:"sw-cms-block-moorl-interactive-slider",previewComponent:"sw-cms-preview-moorl-interactive-slider",defaultConfig:{marginBottom:"20px",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{"slot-a":"moorl-replacer"}});const Jc=`<sw-page class="moorl-demo-data-index"> <template #content> <sw-card-view> <mt-card :isLoading="isLoading" :title="$tc('moorl-demo-data.name')" > <template v-if="options.length"> <sw-single-select :label="$tc('moorl-foundation.field.type')" v-model:value="optionIndex" :options="options" /> <sw-entity-single-select :label="$tc('moorl-foundation.field.salesChannel')" v-model:value="salesChannelId" entity="sales_channel" /> <mt-banner variant="attention"> {{ $tc('moorl-demo-data.notification') }} </mt-banner> <mt-switch :label="$tc('moorl-demo-data.confirm')" v-model="confirmed" /> <mt-button variant="primary" :disabled="!acl.can('system.system_config') || !confirmed" @click="install()" > {{ $tc('global.default.apply') }} </mt-button> <mt-button variant="primary" :disabled="!acl.can('system.system_config')" @click="remove()" > {{ $tc('global.default.delete') }} </mt-button> </template> <template v-else> <mt-banner variant="attention"> {{ $tc('moorl-foundation.notification.demoDataNotFound') }} </mt-banner> </template> </mt-card> </sw-card-view> </template> </sw-page>`;Shopware.Component.register("moorl-demo-data-index",{template:Jc,inject:["repositoryFactory","acl","foundationApiService"],mixins:[Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("placeholder")],data(){return{test:null,salesChannelId:null,confirmed:!1,optionIndex:0,options:[],isLoading:!0,processSuccess:!1}},computed:{currentOption(){const i=this.options[this.optionIndex];return i.salesChannelId=this.salesChannelId,i}},created(){this.getOptions()},methods:{getOptions(){this.isLoading=!0,this.foundationApiService.get("/moorl-foundation/settings/demo-data/options").then(i=>{i.length!==0&&(i.forEach(a=>{let r;a.type==="data"?r=`${this.$tc("moorl-demo-data.baseData")} | ${a.pluginName}`:r=`${this.$tc("moorl-demo-data.standardDemo")} | ${a.pluginName} | ${a.name}`,this.options.push({label:r,value:this.options.length,pluginName:a.pluginName,name:a.name,type:a.type})}),this.isLoading=!1)}).catch(i=>{this.createNotificationError({title:this.$tc("global.default.error"),message:i}),this.isLoading=!1})},install(){this.isLoading=!0,this.foundationApiService.post("/moorl-foundation/settings/demo-data/install",this.currentOption).then(()=>{this.createNotificationSuccess({message:this.$tc("moorl-demo-data.installed")}),this.isLoading=!1}).catch(i=>{this.createNotificationError({title:this.$tc("global.default.error"),message:i}),this.isLoading=!1})},remove(){this.isLoading=!0,this.foundationApiService.post("/moorl-foundation/settings/demo-data/remove",this.currentOption).then(()=>{this.createNotificationSuccess({message:this.$tc("moorl-demo-data.removed")}),this.isLoading=!1}).catch(i=>{this.createNotificationError({title:this.$tc("global.default.error"),message:i}),this.isLoading=!1})}}});Shopware.Module.register("moorl-demo-data",{type:"plugin",name:"moorl-demo-data",title:"moorl-demo-data.name",icon:"regular-database",color:"#000000",routes:{index:{component:"moorl-demo-data-index",path:"index",meta:{parentPath:"sw.settings.index.plugins",privilege:"system.system_config"}}},settingsItem:[{privilege:"system.system_config",name:"moorl-demo-data-index",to:"moorl.demo.data.index",group:"plugins",icon:"regular-database",label:"moorl-demo-data.name"}]});const Qc=`{% block moorl_page_detail_smart_bar_actions %} {% parent() %} <mt-button @click="onClickTest" :disabled="isNewItem" size="default" variant="primary" > {{ $tc('moorl-foundation.button.test') }} </mt-button> {% endblock %} {% block moorl_page_detail_content %} <sw-card-view> <mt-card :title="$tc('moorl-foundation.card.general')"> <mt-switch :label="$tc('moorl-foundation.field.active')" v-model="item.active" /> <mt-text-field :label="$tc('moorl-foundation.field.name')" v-model="item.name" required validation="required" /> <moorl-select-field v-if="options.length" :label="$tc('moorl-foundation.field.type')" v-model:value="item.type" @update:value="resetConfig" :customSet="options" valueProperty="name" labelProperty="name" /> </mt-card> <mt-card :title="$tc('moorl-foundation.card.config')"> <template v-for="option in options"> <template v-if="item.type == option.name"> <template v-for="config in option.configTemplate"> <sw-form-field-renderer v-model:value="item.config[config.name]" :label="$tc('moorl-foundation.field.' + config.name)" :config="config" /> </template> </template> </template> </mt-card> </sw-card-view> {% endblock %}`;Shopware.Component.override("moorl-client-detail",{template:Qc,inject:["foundationApiService"],data(){return{entity:"moorl_client",options:[]}},created(){this.getOptions()},methods:{async onClickTest(){this.isLoading=!0,this.foundationApiService.get(`/moorl-foundation/settings/client/test/${this.item.id}`).then(i=>{i!=null&&i.errors?this.createNotificationError({title:this.$tc("global.default.error"),message:i.errors[0].message}):(this.createNotificationSuccess({title:this.$tc("global.default.success"),message:this.$tc("global.default.success")}),i.url&&window.open(i.url,"_blank")),this.isLoading=!1}).catch(i=>{const a=Shopware.Utils.get(i,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:a}),this.isLoading=!1})},getOptions(){this.isLoading=!0,this.foundationApiService.get("/moorl-foundation/settings/client/options").then(i=>{this.options=i,this.isLoading=!1}).catch(i=>{const a=Shopware.Utils.get(i,"response.data.errors[0].detail");this.createNotificationError({title:this.$tc("global.default.error"),message:a}),this.isLoading=!1})},resetConfig(){this.item.config={};for(let i of this.options)if(i.name===this.item.type)for(let a of i.configTemplate)this.item.config[a.name]=a.default}}});const ed=`{% block moorl_page_detail_content %} <sw-card-view> <mt-card :title="$tc('moorl-foundation.card.general')"> <mt-text-field :label="$tc('moorl-foundation.field.name')" v-model="item.name" required /> <mt-text-field :label="$tc('moorl-foundation.field.type')" v-model="item.type" /> <mt-text-field :label="$tc('moorl-foundation.field.cssClass')" v-model="item.className" /> <mt-textarea-field :label="$tc('moorl-foundation.field.svg')" v-model="item.svg" /> </mt-card> <mt-card :title="$tc('moorl-foundation.card.media')"> <div class="sw-field"> <sw-upload-listener :uploadTag="uploadTagMarker" autoUpload @media-upload-finish="setMarkerItem" /> <sw-media-upload-v2 :uploadTag="uploadTagMarker" :source="item.markerId" :allowMultiSelect="false" :label="$tc('moorl-foundation.field.marker')" @sw-media-upload-media-upload-success="setMarkerItem" @media-drop="onDropMarker" @media-upload-remove-image="onUnlinkMarker" /> </div> <div class="sw-field"> <sw-upload-listener :uploadTag="uploadTagMarkerRetina" autoUpload @media-upload-finish="setMarkerRetinaItem" /> <sw-media-upload-v2 :uploadTag="uploadTagMarkerRetina" :source="item.markerRetinaId" :allowMultiSelect="false" :label="$tc('moorl-foundation.field.markerRetina')" @sw-media-upload-media-upload-success="setMarkerRetinaItem" @media-drop="onDropMarkerRetina" @media-upload-remove-image="onUnlinkMarkerRetina" /> </div> <div class="sw-field"> <sw-upload-listener :uploadTag="uploadTagMarkerShadow" autoUpload @media-upload-finish="setMarkerShadowItem" /> <sw-media-upload-v2 :uploadTag="uploadTagMarkerShadow" :source="item.markerShadowId" :allowMultiSelect="false" :label="$tc('moorl-foundation.field.markerShadow')" @sw-media-upload-media-upload-success="setMarkerShadowItem" @media-drop="onDropMarkerShadow" @media-upload-remove-image="onUnlinkMarkerShadow" /> </div> </mt-card> <mt-card :title="$tc('moorl-foundation.field.markerSettings')"> <div class="sw-field"> <label> <a href="https://leafletjs.com/examples/custom-icons/" target="_blank" rel="noopener" > https://leafletjs.com/examples/custom-icons/ </a> </label> </div> <sw-container columns="1fr 1fr" gap="0 20px" > <mt-number-field label="iconSizeX" v-model="item.markerSettings.iconSizeX" /> <mt-number-field label="iconSizeY" v-model="item.markerSettings.iconSizeY" /> <mt-number-field label="shadowSizeX" v-model="item.markerSettings.shadowSizeX" /> <mt-number-field label="shadowSizeY" v-model="item.markerSettings.shadowSizeY" /> <mt-number-field label="iconAnchorX" v-model="item.markerSettings.iconAnchorX" /> <mt-number-field label="iconAnchorY" v-model="item.markerSettings.iconAnchorY" /> <mt-number-field label="shadowAnchorX" v-model="item.markerSettings.shadowAnchorX" /> <mt-number-field label="shadowAnchorY" v-model="item.markerSettings.shadowAnchorY" /> <mt-number-field label="popupAnchorX" v-model="item.markerSettings.popupAnchorX" /> <mt-number-field label="popupAnchorY" v-model="item.markerSettings.popupAnchorY" /> </sw-container> </mt-card> <mt-card :title="$tc('moorl-foundation.card.preview')"> <moorl-location :locations="locations" :options="['dragging']" /> </mt-card> </sw-card-view> {% endblock %} {% block moorl_page_detail_sidebar %} <sw-sidebar :propagateWidth="true"> <sw-sidebar-media-item ref="mediaSidebarItem"> <template #context-menu-items="media"> <sw-context-menu-item @click="setMediaFromSidebar(media.mediaItem)"/> </template> </sw-sidebar-media-item> </sw-sidebar> {% endblock %}`,Vi=Shopware.Utils;Shopware.Component.override("moorl-marker-detail",{template:ed,data(){return{entity:"moorl_marker",uploadTagMarker:Vi.createId(),uploadTagMarkerRetina:Vi.createId(),uploadTagMarkerShadow:Vi.createId()}},computed:{locations(){var a,r,c;const i=this.item.markerSettings;return[{entityId:this.item.id,latlng:[52.5173,13.402],icon:{svg:this.item.svg,iconUrl:(a=this.item.marker)==null?void 0:a.url,iconRetinaUrl:(r=this.item.markerRetina)==null?void 0:r.url,shadowUrl:(c=this.item.markerShadow)==null?void 0:c.url,iconSize:[i.iconSizeX,i.iconSizeY],iconAnchor:[i.iconAnchorX,i.iconAnchorY],popupAnchor:[i.popupAnchorX,i.popupAnchorY],shadowSize:[i.shadowSizeX,i.shadowSizeY],shadowAnchor:[i.shadowAnchorX,i.shadowAnchorY]},popup:"<p><b>Lorem Ipsum GmbH</b><br>Musterstraße 1<br>12345 Musterstadt</p>"}]}},methods:{onItemLoaded(){var i;(i=this.item).markerSettings??(i.markerSettings={})},openMediaSidebar(){this.$refs.mediaSidebarItem.openContent()},setMarkerItem({targetId:i}){this.mediaRepository.get(i,Shopware.Context.api).then(a=>{this.item.markerId=i,this.item.marker=a})},onDropMarker(i){this.setMarkerItem({targetId:i.id})},setMarkerFromSidebar(i){this.item.markerId=i.id},onUnlinkMarker(){this.item.markerId=null},setMarkerRetinaItem({targetId:i}){this.mediaRepository.get(i,Shopware.Context.api).then(a=>{this.item.markerRetinaId=i,this.item.markerRetina=a})},onDropMarkerRetina(i){this.setMarkerRetinaItem({targetId:i.id})},setMarkerRetinaFromSidebar(i){this.item.markerRetinaId=i.id},onUnlinkMarkerRetina(){this.item.markerRetinaId=null},setMarkerShadowItem({targetId:i}){this.mediaRepository.get(i,Shopware.Context.api).then(a=>{this.item.markerShadowId=i,this.item.markerShadow=a})},onDropMarkerShadow(i){this.setMarkerShadowItem({targetId:i.id})},setMarkerShadowFromSidebar(i){this.item.markerShadowId=i.id},onUnlinkMarkerShadow(){this.item.markerShadowId=null}}});const td=`<mt-card class="moorl-sorting-option-criteria-grid__criteria-card" position-identifier="moorl-sorting-option-criteria-grid" :title="$tc('moorl-sorting.general.criteria')" > <template #toolbar> <sw-single-select :value="selectedCriteria" :options="criteriaOptions" :placeholder="$tc('moorl-sorting.general.selectField')" value-property="value" label-property="label" show-clearable-button @update:value="onAddCriteria" /> </template> <sw-data-grid v-if="item && item.fields.length > 0" ref="dataGrid" :columns="itemColumns" :data-source="sortedProductSortingFields" :show-actions="true" :allow-inline-edit="true" :compact-mode="false" :show-selection="false" plain-appearance item-identifier-property="field" @inline-edit-save="onSaveInlineEdit" @inline-edit-cancel="onCancelInlineEdit" > <template #column-field="{item, isInlineEdit}"> <span> {{ item.field }} </span> </template> <template #column-order="{item, isInlineEdit}"> <div v-if="!isInlineEdit"> {{ getOrderSnippet(item.order) }} </div> <sw-single-select v-else v-model:value="item.order" :options="orderOptions" value-property="value" label-property="label" show-clearable-button :placeholder="$tc('global.sw-single-select.valuePlaceholder')" /> </template> <template #actions="{item}"> <sw-context-menu-item variant="danger" @click="onRemoveCriteria(item)" > {{ $tc('global.default.delete') }} </sw-context-menu-item> </template> </sw-data-grid> <sw-empty-state v-else class="moorl-sorting-option-criteria-grid__criteria-empty-state" title :subline="$tc('sorting.base.criteria.emptyStateSubline')" > <template #icon> <img :src="'administration/administration/static/img/empty-states/settings-empty-state.svg' | asset" alt /> </template> </sw-empty-state> </mt-card>`,{Criteria:Wi}=Shopware.Data;Shopware.Component.register("moorl-sorting-option-criteria-grid",{template:td,inject:["repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("sw-inline-snippet")],props:{item:{type:Object,required:!0}},data(){return{customFieldSets:[],selectedCriteria:null}},computed:{customFieldRepository(){return this.repositoryFactory.create("custom_field")},customFieldSetRepository(){return this.repositoryFactory.create("custom_field_set")},customFieldSetRelationsRepository(){return this.repositoryFactory.create("custom_field_set_relation")},sortedProductSortingFields(){return this.item.fields.sort((i,a)=>i.priority===a.priority?0:i.priority<a.priority?1:-1)},itemColumns(){return[{property:"field",label:this.$tc("moorl-foundation.field.name"),inlineEdit:"string"},{property:"order",label:this.$tc("moorl-foundation.field.order"),inlineEdit:"string"},{property:"priority",label:this.$tc("moorl-foundation.field.priority"),inlineEdit:"number"}]},criteriaOptions(){const i=[],a=this.item.entity,r=Shopware.EntityDefinition.get(a).properties;return Object.entries(r).forEach(([c,d])=>{["uuid","text","string","json_object","date","boolean","int"].indexOf(d.type)!==-1&&(c==="customFields"?this.customFieldSets.forEach(function(h){h.customFields.forEach(function(m){i.push({value:`${a}.${c}.${m.name}`,label:`${c}.${m.name}`,type:`${m.type}`})})}):i.push({value:`${a}.${c}`,label:`${c}`,type:`${d.type}`}))}),i.sort((c,d)=>c.label.localeCompare(d.label))},orderOptions(){return[{label:this.$tc("global.default.ascending"),value:"asc"},{label:this.$tc("global.default.descending"),value:"desc"}]}},watch:{item:{handler(){!this.item||this.item.fields},deep:!0}},created(){this.createdComponent()},methods:{createdComponent(){this.loadCustomFieldSets()},loadCustomFieldSets(){const i=new Wi(1,100);i.addFilter(Wi.equals("relations.entityName",this.item.entity)),i.addAssociation("customFields").addSorting(Wi.sort("config.customFieldPosition","ASC",!0)),this.customFieldSetRepository.search(i,Shopware.Context.api).then(a=>{this.customFieldSets=a})},onAddCriteria(i){if(!this.criteriaIsAlreadyUsed(i)){this.$emit("criteria-add",i);const a=this.item.fields.find(r=>r.field===i);this.$nextTick().then(()=>{a&&this.$refs.dataGrid&&this.$refs.dataGrid.onDbClickCell(a)});return}this.createNotificationError({message:this.$t("moorl-sorting.general.criteriaAlreadyUsed",{fieldName:i})})},getOrderSnippet(i){return i==="asc"?this.$tc("global.default.ascending"):this.$tc("global.default.descending")},onRemoveCriteria(i){this.$emit("criteria-delete",i)},getCriteriaTemplate(i){return{field:i,order:"asc",priority:1,naturalSorting:0}},onSaveInlineEdit(i){if(i.field===null){this.createNotificationError({message:this.$tc("sorting.general.productSortingCriteriaGrid.options.customFieldCriteriaNotNull")});return}this.$emit("inline-edit-save")},onCancelInlineEdit(i){this.$emit("inline-edit-cancel",i)},criteriaIsAlreadyUsed(i){return this.item.fields.some(a=>a.field===i)}}});const id=`{% block moorl_page_detail_content %} <sw-card-view> <mt-card :title="$tc('moorl-foundation.card.general')"> <mt-switch bordered :label="$tc('moorl-foundation.field.active')" v-model="item.active" /> <sw-single-select v-model:value="item.entity" valueProperty="name" :options="entityOptions" :label="$tc('moorl-foundation.field.entity')" labelProperty="name" @on-change="onChangeLanguage" :required="true" /> <mt-text-field :label="$tc('moorl-foundation.field.key')" v-model="item.key" :required="true" /> <mt-text-field :label="$tc('moorl-foundation.field.label')" v-model="item.label" :required="true" /> <mt-number-field :label="$tc('moorl-foundation.field.priority')" v-model="item.priority" :required="true" /> </mt-card> <moorl-sorting-option-criteria-grid v-if="item.entity" :item="item" @criteria-delete="onDeleteCriteria" @criteria-add="onAddCriteria" @inline-edit-save="onSave" @inline-edit-cancel="onCancelEditCriteria" /> </sw-card-view> <sw-settings-listing-delete-modal v-if="toBeDeletedCriteria" :title="$tc('sw-settings-listing.base.delete.modalTitle')" :description="$tc('sw-settings-listing.base.delete.modalDescription')" @cancel="toBeDeletedCriteria = null" @delete="onConfirmDeleteCriteria" /> {% endblock %}`;Shopware.Component.override("moorl-sorting-detail",{template:id,data(){return{entity:"moorl_sorting",toBeDeletedCriteria:null}},computed:{entityOptions(){const i=[];return Shopware.EntityDefinition.getDefinitionRegistry().forEach(function(r,c){i.push({name:`${c}`,value:`${c}`})}),i}},methods:{getCriteriaTemplate(i){return{field:i,order:"asc",priority:1,naturalSorting:0}},onDeleteCriteria(i){this.toBeDeletedCriteria=i},onConfirmDeleteCriteria(){this.item.fields=this.item.fields.filter(i=>i.field!==this.toBeDeletedCriteria.field),this.saveProductSorting(),this.toBeDeletedCriteria=null},onAddCriteria(i){if(!i)return;const a=this.getCriteriaTemplate(i);this.item.fields||(this.item.fields=[]),this.item.fields.push(a)},onCancelEditCriteria(i){if(this.getProductSortingEntityId()){this.fetchProductSortingEntity();return}this.item.fields=this.item.fields.filter(a=>a.field!==i.field)}}});MoorlFoundation.ModuleHelper.registerModule({entity:"moorl_client",name:"moorl-client",icon:"regular-sign-in",properties:[{name:"active",visibility:100},{name:"name",visibility:100},{name:"type",visibility:100}]});MoorlFoundation.ModuleHelper.registerModule({entity:"moorl_cms_element_config",name:"moorl-cms-element-config",icon:"regular-layout",properties:[{name:"name",visibility:100},{name:"type",visibility:100}],entityMapping:{autoSize:{hidden:!0},type:{hidden:!0},config:{componentName:"moorl-cms-slot-card",tab:"general",card:void 0,attributes:{item:({item:i})=>i},order:500}}});MoorlFoundation.ModuleHelper.registerModule({entity:"moorl_marker",name:"moorl-marker",icon:"regular-map-marker",properties:[{name:"name",visibility:100},{name:"type",visibility:100},{name:"className",visibility:100}],pluginName:"MoorlFoundation",demoName:"marker"});MoorlFoundation.ModuleHelper.registerModule({entity:"moorl_sorting",name:"moorl-sorting",icon:"regular-sort",properties:[{name:"active",visibility:100},{name:"entity",visibility:100},{name:"label",visibility:100},{name:"priority",visibility:100}]});MoorlFoundation.ModuleHelper.registerModule({entity:"moorl_media",name:"moorl-media",properties:[{name:"active",visibility:100},{name:"name",visibility:100},{name:"technicalName",visibility:100},{name:"type",visibility:100}],entityMapping:{type:{tab:"general",card:"media",componentName:"moorl-select-field",attributes:{customSet:["auto","embedded","media","vimeo","youtube","media-folder"],snippetPath:"moorl-foundation.field"}},duration:{tab:"general",card:"media"},embeddedUrl:{conditions:[{property:"type",value:["media","media-folder"],operator:"nin"}]},embeddedId:{conditions:[{property:"type",value:["media","media-folder"],operator:"nin"}]},media:{conditions:[{property:"type",value:"media",operator:"eq"}]},mediaFolder:{conditions:[{property:"type",value:"media-folder",operator:"eq"}]},config:{mapping:MoorlFoundation.fieldsetsConfig["media-config"]},videos:{conditions:[{property:"type",value:"media",operator:"eq"}]}},pluginName:"MoorlFoundation",demoName:"import-export"});MoorlFoundation.ModuleHelper.registerModule({entity:"moorl_media_video",properties:[{name:"media.fileName",visibility:100,mediaProperty:"media"},{name:"media.mimeType",visibility:100},{name:"minWidth",visibility:200}]});MoorlFoundation.ModuleHelper.registerModule({entity:"product",listPath:"sw.product.index"});MoorlFoundation.ModuleHelper.registerModule({entity:"category",listPath:"sw.category.index"});MoorlFoundation.ModuleHelper.registerModule({entity:"customer",listPath:"sw.customer.index"});MoorlFoundation.ModuleHelper.registerModule({entity:"product_stream",listPath:"sw.product.stream.index"});MoorlFoundation.ModuleHelper.registerModule({entity:"cms_page",listPath:"sw.cms.index"});MoorlFoundation.ModuleHelper.registerModule({entity:"country",listPath:"sw.country.index"});MoorlFoundation.ModuleHelper.registerModule({entity:"mail_template",listPath:"sw.mail.template.index"})});export default od();
//# sourceMappingURL=moorl-foundation-DrCVD2Cn.js.map
