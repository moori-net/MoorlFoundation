"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[48611],{68:(e,t,n)=>{n.d(t,{A:()=>s});class s{constructor(){this._request=null,this._errorHandlingInternal=!1}get(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",s=this._createPreparedRequest("GET",e,n);return this._sendRequest(s,null,t)}post(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";s=this._getContentType(t,s);let r=this._createPreparedRequest("POST",e,s);return this._sendRequest(r,t,n)}delete(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";s=this._getContentType(t,s);let r=this._createPreparedRequest("DELETE",e,s);return this._sendRequest(r,t,n)}patch(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";s=this._getContentType(t,s);let r=this._createPreparedRequest("PATCH",e,s);return this._sendRequest(r,t,n)}abort(){if(this._request)return this._request.abort()}setErrorHandlingInternal(e){this._errorHandlingInternal=e}_registerOnLoaded(e,t){t&&(!0===this._errorHandlingInternal?(e.addEventListener("load",()=>{t(e.responseText,e)}),e.addEventListener("abort",()=>{console.warn(`the request to ${e.responseURL} was aborted`)}),e.addEventListener("error",()=>{console.warn(`the request to ${e.responseURL} failed with status ${e.status}`)}),e.addEventListener("timeout",()=>{console.warn(`the request to ${e.responseURL} timed out`)})):e.addEventListener("loadend",()=>{t(e.responseText,e)}))}_sendRequest(e,t,n){return this._registerOnLoaded(e,n),e.send(t),e}_getContentType(e,t){return e instanceof FormData&&(t=!1),t}_createPreparedRequest(e,t,n){return this._request=new XMLHttpRequest,this._request.open(e,t),this._request.setRequestHeader("X-Requested-With","XMLHttpRequest"),n&&this._request.setRequestHeader("Content-type",n),this._request}}},611:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var s=n(68);let r=window.PluginBaseClass;class o extends r{static #e=this.options={locale:document.documentElement.lang,label:{days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},intervalTimeout:1e3,from:"now",actionUrl:null,debug:!1};init(){this.options.actionUrl;let e=this.options.actionUrl;this.options.debug;let t=this.buildContainer(),n=new Date(this.options.from),r=(e,t)=>String(e).padStart(t,"0"),o=new s.A(window.accessKey,window.contextToken),i=setInterval(function(){let s=new Date,a=Math.floor((n.getTime()-s.getTime())/1e3);a<1&&(clearInterval(i),setTimeout(()=>{e?o.get(e,e=>{(e=JSON.parse(e)).url?window.location.href=e.url:window.location.reload()}):window.location.reload()},5e3),a=0);let l=Math.trunc(a/86400),d=Math.trunc(a%86400/3600),u=Math.trunc(a%3600/60),h=Math.trunc(a%60);t[0].innerText=r(l,2),t[1].innerText=r(d,2),t[2].innerText=r(u,2),t[3].innerText=r(h,2)},this.options.intervalTimeout)}buildContainer(){let e=[];for(let t of["days","hours","minutes","seconds"]){let n=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div");s.classList.add("moorl-countdown-label"),s.innerText=this.options.label[t],r.classList.add("moorl-countdown-time"),r.innerText="--",n.appendChild(s),n.appendChild(r),e.push(r),this.el.appendChild(n)}return e}}}}]);