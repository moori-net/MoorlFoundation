"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[36993],{857:t=>{var e=function(t){var e;return!!t&&"object"==typeof t&&"[object RegExp]"!==(e=Object.prototype.toString.call(t))&&"[object Date]"!==e&&t.$$typeof!==i},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(t,e){return!1!==e.clone&&e.isMergeableObject(t)?l(Array.isArray(t)?[]:{},t,e):t}function r(t,e,i){return t.concat(e).map(function(t){return s(t,i)})}function n(t){return Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[])}function o(t,e){try{return e in t}catch(t){return!1}}function l(t,i,a){(a=a||{}).arrayMerge=a.arrayMerge||r,a.isMergeableObject=a.isMergeableObject||e,a.cloneUnlessOtherwiseSpecified=s;var d,c,h=Array.isArray(i);return h!==Array.isArray(t)?s(i,a):h?a.arrayMerge(t,i,a):(c={},(d=a).isMergeableObject(t)&&n(t).forEach(function(e){c[e]=s(t[e],d)}),n(i).forEach(function(e){(!o(t,e)||Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))&&(o(t,e)&&d.isMergeableObject(i[e])?c[e]=(function(t,e){if(!e.customMerge)return l;var i=e.customMerge(t);return"function"==typeof i?i:l})(e,d)(t[e],i[e],d):c[e]=s(i[e],d))}),c)}l.all=function(t,e){if(!Array.isArray(t))throw Error("first argument should be an array");return t.reduce(function(t,i){return l(t,i,e)},{})},t.exports=l},49:(t,e,i)=>{i.d(e,{Z:()=>r});var s=i(140);class r{static isNode(t){return"object"==typeof t&&null!==t&&(t===document||t===window||t instanceof Node)}static hasAttribute(t,e){if(!r.isNode(t))throw Error("The element must be a valid HTML Node!");return"function"==typeof t.hasAttribute&&t.hasAttribute(e)}static getAttribute(t,e){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!1===r.hasAttribute(t,e))throw Error('The required property "'.concat(e,'" does not exist!'));if("function"!=typeof t.getAttribute){if(i)throw Error("This node doesn't support the getAttribute function!");return}return t.getAttribute(e)}static getDataAttribute(t,e){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=e.replace(/^data(|-)/,""),o=s.Z.toLowerCamelCase(n,"-");if(!r.isNode(t)){if(i)throw Error("The passed node is not a valid HTML Node!");return}if(void 0===t.dataset){if(i)throw Error("This node doesn't support the dataset attribute!");return}let l=t.dataset[o];if(void 0===l){if(i)throw Error('The required data attribute "'.concat(e,'" does not exist on ').concat(t,"!"));return l}return s.Z.parsePrimitive(l)}static querySelector(t,e){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!r.isNode(t))throw Error("The parent node is not a valid HTML Node!");let s=t.querySelector(e)||!1;if(i&&!1===s)throw Error('The required element "'.concat(e,'" does not exist in parent node!'));return s}static querySelectorAll(t,e){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!r.isNode(t))throw Error("The parent node is not a valid HTML Node!");let s=t.querySelectorAll(e);if(0===s.length&&(s=!1),i&&!1===s)throw Error('At least one item of "'.concat(e,'" must exist in parent node!'));return s}static getFocusableElements(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return t.querySelectorAll('\n            input:not([tabindex^="-"]):not([disabled]):not([type="hidden"]),\n            select:not([tabindex^="-"]):not([disabled]),\n            textarea:not([tabindex^="-"]):not([disabled]),\n            button:not([tabindex^="-"]):not([disabled]),\n            a[href]:not([tabindex^="-"]):not([disabled]),\n            [tabindex]:not([tabindex^="-"]):not([disabled])\n        ')}static getFirstFocusableElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return this.getFocusableElements(t)[0]}static getLastFocusableElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=this.getFocusableElements(t);return e[e.length-1]}}},830:(t,e,i)=>{i.d(e,{Z:()=>s});class s{publish(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=new CustomEvent(t,{detail:e,cancelable:i});return this.el.dispatchEvent(s),s}subscribe(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this,r=t.split("."),n=i.scope?e.bind(i.scope):e;if(i.once&&!0===i.once){let e=n;n=function(i){s.unsubscribe(t),e(i)}}return this.el.addEventListener(r[0],n),this.listeners.push({splitEventName:r,opts:i,cb:n}),!0}unsubscribe(t){let e=t.split(".");return this.listeners=this.listeners.reduce((t,i)=>([...i.splitEventName].sort().toString()===e.sort().toString()?this.el.removeEventListener(i.splitEventName[0],i.cb):t.push(i),t),[]),!0}reset(){return this.listeners.forEach(t=>{this.el.removeEventListener(t.splitEventName[0],t.cb)}),this.listeners=[],!0}get el(){return this._el}set el(t){this._el=t}get listeners(){return this._listeners}set listeners(t){this._listeners=t}constructor(t=document){this._el=t,t.$emitter=this,this._listeners=[]}}},140:(t,e,i)=>{i.d(e,{Z:()=>s});class s{static ucFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}static lcFirst(t){return t.charAt(0).toLowerCase()+t.slice(1)}static toDashCase(t){return t.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(t,e){let i=s.toUpperCamelCase(t,e);return s.lcFirst(i)}static toUpperCamelCase(t,e){return e?t.split(e).map(t=>s.ucFirst(t.toLowerCase())).join(""):s.ucFirst(t.toLowerCase())}static parsePrimitive(t){try{return/^\d+(.|,)\d+$/.test(t)&&(t=t.replace(",",".")),JSON.parse(t)}catch(e){return t.toString()}}}},568:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(857),r=i.n(s),n=i(49),o=i(140),l=i(830);class a{init(){throw Error('The "init" method for the plugin "'.concat(this._pluginName,'" is not defined.'))}update(){}_init(){this._initialized||(this.init(),this._initialized=!0)}_update(){this._initialized&&this.update()}_mergeOptions(t){let e=o.Z.toDashCase(this._pluginName),i=n.Z.getDataAttribute(this.el,"data-".concat(e,"-config"),!1),s=n.Z.getAttribute(this.el,"data-".concat(e,"-options"),!1),l=[this.constructor.options,this.options,t];i&&l.push(window.PluginConfigManager.get(this._pluginName,i));try{s&&l.push(JSON.parse(s))}catch(t){throw console.error(this.el),Error('The data attribute "data-'.concat(e,'-options" could not be parsed to json: ').concat(t.message))}return r().all(l.filter(t=>t instanceof Object&&!(t instanceof Array)).map(t=>t||{}))}_registerInstance(){window.PluginManager.getPluginInstancesFromElement(this.el).set(this._pluginName,this),window.PluginManager.getPlugin(this._pluginName,!1).get("instances").push(this)}_getPluginName(t){return t||(t=this.constructor.name),t}constructor(t,e={},i=!1){if(!n.Z.isNode(t))throw Error("There is no valid element given.");this.el=t,this.$emitter=new l.Z(this.el),this._pluginName=this._getPluginName(i),this.options=this._mergeOptions(e),this._initialized=!1,this._registerInstance(),this._init()}}},993:(t,e,i)=>{let s,r;i.r(e),i.d(e,{default:()=>er});var n=i(568);function o(t,e){t.split(/\s+/).forEach(t=>{e(t)})}class l{constructor(){this._events={}}on(t,e){o(t,t=>{let i=this._events[t]||[];i.push(e),this._events[t]=i})}off(t,e){var i=arguments.length;if(0===i){this._events={};return}o(t,t=>{if(1===i){delete this._events[t];return}let s=this._events[t];void 0!==s&&(s.splice(s.indexOf(e),1),this._events[t]=s)})}trigger(t,...e){var i=this;o(t,t=>{let s=i._events[t];void 0!==s&&s.forEach(t=>{t.apply(i,e)})})}}function a(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,i){t.plugins[e]={name:e,fn:i}}initializePlugins(t){var e,i;let s=this,r=[];if(Array.isArray(t))t.forEach(t=>{"string"==typeof t?r.push(t):(s.plugins.settings[t.name]=t.options,r.push(t.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(s.plugins.settings[e]=t[e],r.push(e));for(;i=r.shift();)s.require(i)}loadPlugin(e){var i=this.plugins,s=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=s.fn.apply(this,[this.plugins.settings[e]||{}]),i.names.push(e)}require(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]}}}let d=t=>(t=t.filter(Boolean)).length<2?t[0]||"":1==g(t)?"["+t.join("")+"]":"(?:"+t.join("|")+")",c=t=>{if(!u(t))return t.join("");let e="",i=0,s=()=>{i>1&&(e+="{"+i+"}")};return t.forEach((r,n)=>{if(r===t[n-1]){i++;return}s(),e+=r,i=1}),s(),e},h=t=>d(Array.from(t)),u=t=>new Set(t).size!==t.length,p=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),g=t=>t.reduce((t,e)=>Math.max(t,f(e)),0),f=t=>Array.from(t).length,m=t=>{if(1===t.length)return[[t]];let e=[];return m(t.substring(1)).forEach(function(i){let s=i.slice(0);s[0]=t.charAt(0)+s[0],e.push(s),(s=i.slice(0)).unshift(t.charAt(0)),e.push(s)}),e},v=[[0,65535]],y={},b={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in b){let e=b[t]||"";for(let i=0;i<e.length;i++)y[e.substring(i,i+1)]=t}let O=RegExp(Object.keys(y).join("|")+"|[̀-ͯ·ʾʼ]","gu"),w=t=>{void 0===s&&(s=x(t||v))},_=(t,e="NFKD")=>t.normalize(e),A=t=>Array.from(t).reduce((t,e)=>t+C(e),""),C=t=>(t=_(t).toLowerCase().replace(O,t=>y[t]||""),_(t,"NFC")),S=t=>{let e={},i=(t,i)=>{let s=e[t]||new Set,r=RegExp("^"+h(s)+"$","iu");i.match(r)||(s.add(p(i)),e[t]=s)};for(let e of function*(t){for(let[e,i]of t)for(let t=e;t<=i;t++){let e=String.fromCharCode(t),i=A(e);i==e.toLowerCase()||i.length>3||0==i.length||(yield{folded:i,composed:e,code_point:t})}}(t))i(e.folded,e.folded),i(e.folded,e.composed);return e},x=t=>{let e=S(t),i={},s=[];for(let t in e){let r=e[t];r&&(i[t]=h(r)),t.length>1&&s.push(p(t))}return s.sort((t,e)=>e.length-t.length),r=RegExp("^"+d(s),"u"),i},I=(t,e=1)=>{let i=0;return(t=t.map(t=>(s[t]&&(i+=t.length),s[t]||t)),i>=e)?c(t):""},L=(t,e=1)=>(e=Math.max(e,t.length-1),d(m(t).map(t=>I(t,e)))),E=(t,e=!0)=>{let i=t.length>1?1:0;return d(t.map(t=>{let s=[],r=e?t.length():t.length()-1;for(let e=0;e<r;e++)s.push(L(t.substrs[e]||"",i));return c(s)}))},k=(t,e)=>{for(let i of e){if(i.start!=t.start||i.end!=t.end||i.substrs.join("")!==t.substrs.join(""))continue;let e=t.parts,s=t=>{for(let i of e){if(i.start===t.start&&i.substr===t.substr)break;if(1!=t.length&&1!=i.length&&(t.start<i.start&&t.end>i.start||i.start<t.start&&i.end>t.start))return!0}return!1};if(!(i.parts.filter(s).length>0))return!0}return!1};class F{parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let i=new F,s=JSON.parse(JSON.stringify(this.parts)),r=s.pop();for(let t of s)i.add(t);let n=e.substr.substring(0,t-r.start),o=n.length;return i.add({start:r.start,end:r.start+o,length:o,substr:n}),i}}let T=t=>{w(),t=A(t);let e="",i=[new F];for(let s=0;s<t.length;s++){let n=t.substring(s).match(r),o=t.substring(s,s+1),l=n?n[0]:null,a=[],d=new Set;for(let t of i){let e=t.last();if(!e||1==e.length||e.end<=s){if(l){let e=l.length;t.add({start:s,end:s+e,length:e,substr:l}),d.add("1")}else t.add({start:s,end:s+1,length:1,substr:o}),d.add("2")}else if(l){let i=t.clone(s,e),r=l.length;i.add({start:s,end:s+r,length:r,substr:l}),a.push(i)}else d.add("3")}if(a.length>0){for(let t of a=a.sort((t,e)=>t.length()-e.length()))k(t,i)||i.push(t);continue}if(s>0&&1==d.size&&!d.has("3")){e+=E(i,!1);let t=new F,s=i[0];s&&t.add(s.last()),i=[t]}}return e+E(i,!0)},P=(t,e)=>{if(t)return t[e]},N=(t,e)=>{if(t){for(var i,s=e.split(".");(i=s.shift())&&(t=t[i]););return t}},j=(t,e,i)=>{var s,r;return t?(t+="",null==e.regex||-1===(r=t.search(e.regex)))?0:(s=e.string.length/t.length,0===r&&(s+=.5),s*i):0},q=(t,e)=>{var i=t[e];if("function"==typeof i)return i;i&&!Array.isArray(i)&&(t[e]=[i])},M=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},$=(t,e)=>"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=A(t+"").toLowerCase())>(e=A(e+"").toLowerCase())?1:e>t?-1:0;class D{items;settings;constructor(t,e){this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,i){var s;if(!t||!t.length)return[];let r=[],n=t.split(/\s+/);return i&&(s=RegExp("^("+Object.keys(i).map(p).join("|")+"):(.*)$")),n.forEach(t=>{let i;let n=null,o=null;s&&(i=t.match(s))&&(n=i[1],t=i[2]),t.length>0&&(o=this.settings.diacritics?T(t)||null:p(t))&&e&&(o="\\b"+o),r.push({string:t,regex:o?RegExp(o,"iu"):null,field:n})}),r}getScoreFunction(t,e){var i=this.prepareSearch(t,e);return this._getScoreFunction(i)}_getScoreFunction(t){let e=t.tokens,i=e.length;if(!i)return function(){return 0};let s=t.options.fields,r=t.weights,n=s.length,o=t.getAttrFn;if(!n)return function(){return 1};let l=function(){return 1===n?function(t,e){let i=s[0].field;return j(o(e,i),t,r[i]||1)}:function(t,e){var i=0;if(t.field){let s=o(e,t.field);!t.regex&&s?i+=1/n:i+=j(s,t,1)}else M(r,(s,r)=>{i+=j(o(e,r),t,s)});return i/n}}();return 1===i?function(t){return l(e[0],t)}:"and"===t.options.conjunction?function(t){var s,r=0;for(let i of e){if((s=l(i,t))<=0)return 0;r+=s}return r/i}:function(t){var s=0;return M(e,e=>{s+=l(e,t)}),s/i}}getSortFunction(t,e){var i=this.prepareSearch(t,e);return this._getSortFunction(i)}_getSortFunction(t){var e,i=[];let s=this,r=t.options,n=!t.query&&r.sort_empty?r.sort_empty:r.sort;if("function"==typeof n)return n.bind(this);let o=function(e,i){return"$score"===e?i.score:t.getAttrFn(s.items[i.id],e)};if(n)for(let e of n)(t.query||"$score"!==e.field)&&i.push(e);if(t.query){for(let t of(e=!0,i))if("$score"===t.field){e=!1;break}e&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(t=>"$score"!==t.field);return i.length?function(t,e){var s,r;for(let n of i)if(r=n.field,s=("desc"===n.direction?-1:1)*$(o(r,t),o(r,e)))return s;return 0}:null}prepareSearch(t,e){let i={};var s=Object.assign({},e);if(q(s,"sort"),q(s,"sort_empty"),s.fields){q(s,"fields");let t=[];s.fields.forEach(e=>{"string"==typeof e&&(e={field:e,weight:1}),t.push(e),i[e.field]="weight"in e?e.weight:1}),s.fields=t}return{options:s,query:t.toLowerCase().trim(),tokens:this.tokenize(t,s.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:s.nesting?N:P}}search(t,e){var i,s;e=(s=this.prepareSearch(t,e)).options,t=s.query;let r=e.score||this._getScoreFunction(s);t.length?M(this.items,(t,n)=>{i=r(t),(!1===e.filter||i>0)&&s.items.push({score:i,id:n})}):M(this.items,(t,e)=>{s.items.push({score:1,id:e})});let n=this._getSortFunction(s);return n&&s.items.sort(n),s.total=s.items.length,"number"==typeof e.limit&&(s.items=s.items.slice(0,e.limit)),s}}let H=t=>null==t?null:V(t),V=t=>"boolean"==typeof t?t?"1":"0":t+"",R=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),z=(t,e)=>e>0?window.setTimeout(t,e):(t.call(null),null),B=(t,e)=>{var i;return function(s,r){var n=this;i&&(n.loading=Math.max(n.loading-1,0),clearTimeout(i)),i=setTimeout(function(){i=null,n.loadedSearches[s]=!0,t.call(n,s,r)},e)}},K=(t,e,i)=>{var s,r=t.trigger,n={};for(s of(t.trigger=function(){var i=arguments[0];if(-1===e.indexOf(i))return r.apply(t,arguments);n[i]=arguments},i.apply(t,[]),t.trigger=r,e))s in n&&r.apply(t,n[s])},Q=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),Z=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},U=(t,e,i,s)=>{t.addEventListener(e,i,s)},G=(t,e)=>!!e&&!!e[t]&&1===(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0),J=(t,e)=>t.getAttribute("id")||(t.setAttribute("id",e),e),W=t=>t.replace(/[\\"']/g,"\\$&"),X=(t,e)=>{e&&t.append(e)},Y=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},tt=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(te(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},te=t=>!!("string"==typeof t&&t.indexOf("<")>-1),ti=t=>t.replace(/['"\\]/g,"\\$&"),ts=(t,e)=>{var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!1),t.dispatchEvent(i)},tr=(t,e)=>{Object.assign(t.style,e)},tn=(t,...e)=>{var i=tl(e);(t=ta(t)).map(t=>{i.map(e=>{t.classList.add(e)})})},to=(t,...e)=>{var i=tl(e);(t=ta(t)).map(t=>{i.map(e=>{t.classList.remove(e)})})},tl=t=>{var e=[];return Y(t,t=>{"string"==typeof t&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},ta=t=>(Array.isArray(t)||(t=[t]),t),td=(t,e,i)=>{if(!i||i.contains(t))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},tc=(t,e=0)=>e>0?t[t.length-1]:t[0],th=t=>0===Object.keys(t).length,tu=(t,e)=>{if(!t)return -1;e=e||t.nodeName;for(var i=0;t=t.previousElementSibling;)t.matches(e)&&i++;return i},tp=(t,e)=>{Y(e,(e,i)=>{null==e?t.removeAttribute(i):t.setAttribute(i,""+e)})},tg=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},tf=(t,e)=>{if(null===e)return;if("string"==typeof e){if(!e.length)return;e=RegExp(e,"i")}let i=t=>{var i=t.data.match(e);if(i&&t.data.length>0){var s=document.createElement("span");s.className="highlight";var r=t.splitText(i.index);r.splitText(i[0].length);var n=r.cloneNode(!0);return s.appendChild(n),tg(r,s),1}return 0},s=t=>{1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName)&&Array.from(t.childNodes).forEach(t=>{r(t)})},r=t=>3===t.nodeType?i(t):(s(t),0);r(t)},tm=t=>{var e=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(t){var e=t.parentNode;e.replaceChild(t.firstChild,t),e.normalize()})},tv="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey",ty={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function tb(t,e){var i,s,r,n,o,l,a,d=Object.assign({},ty,e),c=d.dataAttr,h=d.labelField,u=d.valueField,p=d.disabledField,g=d.optgroupField,f=d.optgroupLabelField,m=d.optgroupValueField,v=t.tagName.toLowerCase(),y=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!y&&!d.allowEmptyOption){let e=t.querySelector('option[value=""]');e&&(y=e.textContent)}var b={placeholder:y,options:[],optgroups:[],items:[],maxItems:null};if("select"===v){let e;s=b.options,r={},n=1,e=0,o=t=>{var e=Object.assign({},t.dataset),i=c&&e[c];return"string"==typeof i&&i.length&&(e=Object.assign(e,JSON.parse(i))),e},l=(t,i)=>{var n=H(t.value);if(null!=n&&(n||d.allowEmptyOption)){if(r.hasOwnProperty(n)){if(i){var l=r[n][g];l?Array.isArray(l)?l.push(i):r[n][g]=[l,i]:r[n][g]=i}}else{var a=o(t);a[h]=a[h]||t.textContent,a[u]=a[u]||n,a[p]=a[p]||t.disabled,a[g]=a[g]||i,a.$option=t,a.$order=a.$order||++e,r[n]=a,s.push(a)}t.selected&&b.items.push(n)}},a=t=>{var i,s;(s=o(t))[f]=s[f]||t.getAttribute("label")||"",s[m]=s[m]||n++,s[p]=s[p]||t.disabled,s.$order=s.$order||++e,b.optgroups.push(s),i=s[m],Y(t.children,t=>{l(t,i)})},b.maxItems=t.hasAttribute("multiple")?null:1,Y(t.children,t=>{"optgroup"===(i=t.tagName.toLowerCase())?a(t):"option"===i&&l(t)})}else(()=>{let e=t.getAttribute(c);if(e)b.options=JSON.parse(e),Y(b.options,t=>{b.items.push(t[u])});else{var i=t.value.trim()||"";if(!d.allowEmptyOption&&!i.length)return;let e=i.split(d.delimiter);Y(e,t=>{let e={};e[h]=t,e[u]=t,b.options.push(e)}),b.items=e}})();return Object.assign({},ty,b,e)}var tO=0;class tw extends a(l){constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,tO++;var i,s,r=tt(t);if(r.tomselect)throw Error("Tom Select already initialized on this element");r.tomselect=this,i=(window.getComputedStyle&&window.getComputedStyle(r,null)).getPropertyValue("direction");let n=tb(r,e);this.settings=n,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag="select"===r.tagName.toLowerCase(),this.rtl=/rtl/i.test(i),this.inputId=J(r,"tomselect-"+tO),this.isRequired=r.required,this.sifter=new D(this.options,{diacritics:n.diacritics}),n.mode=n.mode||(1===n.maxItems?"single":"multi"),"boolean"!=typeof n.hideSelected&&(n.hideSelected="multi"===n.mode),"boolean"!=typeof n.hidePlaceholder&&(n.hidePlaceholder="multi"!==n.mode);var o=n.createFilter;"function"!=typeof o&&("string"==typeof o&&(o=new RegExp(o)),o instanceof RegExp?n.createFilter=t=>o.test(t):n.createFilter=t=>this.settings.duplicates||!this.options[t]),this.initializePlugins(n.plugins),this.setupCallbacks(),this.setupTemplates();let l=tt("<div>"),a=tt("<div>"),d=this._render("dropdown"),c=tt('<div role="listbox" tabindex="-1">'),h=this.input.getAttribute("class")||"",u=n.mode;(tn(l,n.wrapperClass,h,u),tn(a,n.controlClass),X(l,a),tn(d,n.dropdownClass,u),n.copyClassesToDropdown&&tn(d,h),tn(c,n.dropdownContentClass),X(d,c),tt(n.dropdownParent||l).appendChild(d),te(n.controlInput))?(s=tt(n.controlInput),Y(["autocorrect","autocapitalize","autocomplete","spellcheck"],t=>{r.getAttribute(t)&&tp(s,{[t]:r.getAttribute(t)})}),s.tabIndex=-1,a.appendChild(s),this.focus_node=s):n.controlInput?(s=tt(n.controlInput),this.focus_node=s):(s=tt("<input/>"),this.focus_node=a),this.wrapper=l,this.dropdown=d,this.dropdown_content=c,this.control=a,this.control_input=s,this.setup()}setup(){let t=this,e=t.settings,i=t.control_input,s=t.dropdown,r=t.dropdown_content,n=t.wrapper,o=t.control,l=t.input,a=t.focus_node,d={passive:!0},c=t.inputId+"-ts-dropdown";tp(r,{id:c}),tp(a,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":c});let h=J(a,t.inputId+"-ts-control"),u="label[for='"+ti(t.inputId)+"']",g=document.querySelector(u),f=t.focus.bind(t);if(g){U(g,"click",f),tp(g,{for:h});let e=J(g,t.inputId+"-ts-label");tp(a,{"aria-labelledby":e}),tp(r,{"aria-labelledby":e})}n.style.width=l.style.width,t.plugins.names.length&&tn([n,s],"plugin-"+t.plugins.names.join(" plugin-")),(null===e.maxItems||e.maxItems>1)&&t.is_select_tag&&tp(l,{multiple:"multiple"}),e.placeholder&&tp(i,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=RegExp("\\s*"+p(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=B(e.load,e.loadThrottle)),U(s,"mousemove",()=>{t.ignoreHover=!1}),U(s,"mouseenter",e=>{var i=td(e.target,"[data-selectable]",s);i&&t.onOptionHover(e,i)},{capture:!0}),U(s,"click",e=>{let i=td(e.target,"[data-selectable]");i&&(t.onOptionSelect(e,i),Z(e,!0))}),U(o,"click",e=>{var s=td(e.target,"[data-ts-item]",o);if(s&&t.onItemSelect(e,s)){Z(e,!0);return}""==i.value&&(t.onClick(),Z(e,!0))}),U(a,"keydown",e=>t.onKeyDown(e)),U(i,"keypress",e=>t.onKeyPress(e)),U(i,"input",e=>t.onInput(e)),U(a,"blur",e=>t.onBlur(e)),U(a,"focus",e=>t.onFocus(e)),U(i,"paste",e=>t.onPaste(e));let m=e=>{let r=e.composedPath()[0];if(!n.contains(r)&&!s.contains(r)){t.isFocused&&t.blur(),t.inputState();return}r==i&&t.isOpen?e.stopPropagation():Z(e,!0)},v=()=>{t.isOpen&&t.positionDropdown()};U(document,"mousedown",m),U(window,"scroll",v,d),U(window,"resize",v,d),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),g&&g.removeEventListener("click",f)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,U(l,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,l.disabled?t.disable():l.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),tn(l,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),!0===e.preload&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),Y(e,t=>{this.registerOptionGroup(t)})}setupTemplates(){var t=this.settings.labelField,e=this.settings.optgroupLabelField;this.settings.render=Object.assign({},{optgroup:t=>{let e=document.createElement("div");return e.className="optgroup",e.appendChild(t.options),e},optgroup_header:(t,i)=>'<div class="optgroup-header">'+i(t[e])+"</div>",option:(e,i)=>"<div>"+i(e[t])+"</div>",item:(e,i)=>"<div>"+i(e[t])+"</div>",option_create:(t,e)=>'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"},this.settings.render)}setupCallbacks(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)(e=this.settings[i[t]])&&this.on(t,e)}sync(t=!0){let e=t?tb(this.input,{delimiter:this.settings.delimiter}):this.settings;this.setupOptions(e.options,e.optgroups),this.setValue(e.items||[],!0),this.lastQuery=null}onClick(){if(this.activeItems.length>0){this.clearActiveItems(),this.focus();return}this.isFocused&&this.isOpen?this.blur():this.focus()}onMouseDown(){}onChange(){ts(this.input,"input"),ts(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){Z(t);return}e.settings.splitOn&&setTimeout(()=>{var t=e.inputValue();t.match(e.settings.splitOn)&&Y(t.trim().split(e.settings.splitOn),t=>{H(t)&&(this.options[t]?e.addItem(t):e.createItem(t))})},0)}onKeyPress(t){if(this.isLocked){Z(t);return}var e=String.fromCharCode(t.keyCode||t.which);if(this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter){this.createItem(),Z(t);return}}onKeyDown(t){if(this.ignoreHover=!0,this.isLocked){9!==t.keyCode&&Z(t);return}switch(t.keyCode){case 65:if(G(tv,t)&&""==this.control_input.value){Z(t),this.selectAll();return}break;case 27:this.isOpen&&(Z(t,!0),this.close()),this.clearActiveItems();return;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.activeOption){let t=this.getAdjacent(this.activeOption,1);t&&this.setActiveOption(t)}Z(t);return;case 38:if(this.activeOption){let t=this.getAdjacent(this.activeOption,-1);t&&this.setActiveOption(t)}Z(t);return;case 13:this.canSelect(this.activeOption)?(this.onOptionSelect(t,this.activeOption),Z(t)):this.settings.create&&this.createItem()?Z(t):document.activeElement==this.control_input&&this.isOpen&&Z(t);return;case 37:this.advanceSelection(-1,t);return;case 39:this.advanceSelection(1,t);return;case 9:this.settings.selectOnTab&&(this.canSelect(this.activeOption)&&(this.onOptionSelect(t,this.activeOption),Z(t)),this.settings.create&&this.createItem()&&Z(t));return;case 8:case 46:this.deleteSelection(t);return}this.isInputHidden&&!G(tv,t)&&Z(t)}onInput(t){if(this.isLocked)return;let e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,""==e){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=z(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){let t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this.isFocused;if(this.isDisabled||this.isReadOnly){this.blur(),Z(t);return}this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.preload(),e||this.trigger("focus"),this.activeItems.length||(this.inputState(),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())}onBlur(t){if(!1!==document.hasFocus()){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var i=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,i):i()}}}onOptionSelect(t,e){var i,s=this;!(e.parentElement&&e.parentElement.matches("[data-disabled]"))&&(e.classList.contains("create")?s.createItem(null,()=>{s.settings.closeAfterSelect&&s.close()}):void 0!==(i=e.dataset.value)&&(s.lastQuery=null,s.addItem(i),s.settings.closeAfterSelect&&s.close(),!s.settings.hideSelected&&t.type&&/click/.test(t.type)&&s.setActiveOption(e)))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){return!this.isLocked&&"multi"===this.settings.mode&&(Z(t),this.setActiveItem(e,t),!0)}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){if(!this.canLoad(t))return;tn(this.wrapper,this.settings.loadingClass),this.loading++;let e=this.loadCallback.bind(this);this.settings.load.call(this,t,e)}loadCallback(t,e){this.loading=Math.max(this.loading-1,0),this.lastQuery=null,this.clearActiveOption(),this.setupOptions(t,e),this.refreshOptions(this.isFocused&&!this.isInputHidden),this.loading||to(this.wrapper,this.settings.loadingClass),this.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input;e.value!==t&&(e.value=t,ts(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){K(this,e?[]:["change"],()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){0===t&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var i,s,r,n,o,l;if("single"!==this.settings.mode){if(!t){this.clearActiveItems(),this.isFocused&&this.inputState();return}if("click"===(i=e&&e.type.toLowerCase())&&G("shiftKey",e)&&this.activeItems.length){for(l=this.getLastActive(),(r=Array.prototype.indexOf.call(this.control.children,l))>(n=Array.prototype.indexOf.call(this.control.children,t))&&(o=r,r=n,n=o),s=r;s<=n;s++)t=this.control.children[s],-1===this.activeItems.indexOf(t)&&this.setActiveItemClass(t);Z(e)}else"click"===i&&G(tv,e)||"keydown"===i&&G("shiftKey",e)?t.classList.contains("active")?this.removeActiveItem(t):this.setActiveItemClass(t):(this.clearActiveItems(),this.setActiveItemClass(t));this.inputState(),this.isFocused||this.focus()}}setActiveItemClass(t){let e=this.control.querySelector(".last-active");e&&to(e,"last-active"),tn(t,"active last-active"),this.trigger("item_select",t),-1==this.activeItems.indexOf(t)&&this.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),to(t,"active")}clearActiveItems(){to(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,tp(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),tp(t,{"aria-selected":"true"}),tn(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;let i=this.dropdown_content,s=i.clientHeight,r=i.scrollTop||0,n=t.offsetHeight,o=t.getBoundingClientRect().top-i.getBoundingClientRect().top+r;o+n>s+r?this.scroll(o-s+n,e):o<r&&this.scroll(o,e)}scroll(t,e){let i=this.dropdown_content;e&&(i.style.scrollBehavior=e),i.scrollTop=t,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(to(this.activeOption,"active"),tp(this.activeOption,{"aria-selected":null})),this.activeOption=null,tp(this.focus_node,{"aria-activedescendant":null})}selectAll(){let t=this;if("single"===t.settings.mode)return;let e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,Y(e,e=>{t.setActiveItemClass(e)}))}inputState(){this.control.contains(this.control_input)&&(tp(this.control_input,{placeholder:this.settings.placeholder}),this.activeItems.length>0||!this.isFocused&&this.settings.hidePlaceholder&&this.items.length>0?(this.setTextboxValue(),this.isInputHidden=!0):(this.settings.hidePlaceholder&&this.items.length>0&&tp(this.control_input,{placeholder:""}),this.isInputHidden=!1),this.wrapper.classList.toggle("input-hidden",this.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return"string"==typeof t.sortField&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,i,s=this,r=this.getSearchOptions();if(s.settings.score&&"function"!=typeof(i=s.settings.score.call(s,t)))throw Error('Tom Select "score" setting must be a function that returns a function');return t!==s.lastQuery?(s.lastQuery=t,e=s.sifter.search(t,Object.assign(r,{score:i})),s.currentResults=e):e=Object.assign({},s.currentResults),s.settings.hideSelected&&(e.items=e.items.filter(t=>{let e=H(t.id);return!(e&&-1!==s.items.indexOf(e))})),e}refreshOptions(t=!0){let e={},i=[];var s,r,n,o,l,a,d,c,h,u,p=this,g=p.inputValue();let f=g===p.lastQuery||""==g&&null==p.lastQuery;var m=p.search(g),v=null,y=p.settings.shouldOpen||!1,b=p.dropdown_content;f&&(v=p.activeOption)&&(h=v.closest("[data-group]")),o=m.items.length,"number"==typeof p.settings.maxOptions&&(o=Math.min(o,p.settings.maxOptions)),o>0&&(y=!0);let O=(t,s)=>{let r=e[t];if(void 0!==r){let t=i[r];if(void 0!==t)return[r,t.fragment]}let n=document.createDocumentFragment();return r=i.length,i.push({fragment:n,order:s,optgroup:t}),[r,n]};for(s=0;s<o;s++){let t=m.items[s];if(!t)continue;let i=t.id,o=p.options[i];if(void 0===o)continue;let d=V(i),c=p.getOption(d,!0);for(p.settings.hideSelected||c.classList.toggle("selected",p.items.includes(d)),r=0,n=(a=Array.isArray(l=o[p.settings.optgroupField]||"")?l:[l])&&a.length;r<n;r++){l=a[r];let t=o.$order,s=p.optgroups[l];void 0===s?l="":t=s.$order;let[n,d]=O(l,t);r>0&&(tp(c=c.cloneNode(!0),{id:o.$id+"-clone-"+r,"aria-selected":null}),c.classList.add("ts-cloned"),to(c,"active"),p.activeOption&&p.activeOption.dataset.value==i&&h&&h.dataset.group===l.toString()&&(v=c)),d.appendChild(c),""!=l&&(e[l]=n)}}p.settings.lockOptgroupOrder&&i.sort((t,e)=>t.order-e.order),d=document.createDocumentFragment(),Y(i,t=>{let e=t.fragment,i=t.optgroup;if(!e||!e.children.length)return;let s=p.optgroups[i];if(void 0!==s){let t=document.createDocumentFragment();X(t,p.render("optgroup_header",s)),X(t,e),X(d,p.render("optgroup",{group:s,options:t}))}else X(d,e)}),b.innerHTML="",X(b,d),p.settings.highlight&&(tm(b),m.query.length&&m.tokens.length&&Y(m.tokens,t=>{tf(b,t.regex)}));var w=t=>{let e=p.render(t,{input:g});return e&&(y=!0,b.insertBefore(e,b.firstChild)),e};if(p.loading?w("loading"):p.settings.shouldLoad.call(p,g)?0===m.items.length&&w("no_results"):w("not_loading"),(c=p.canCreate(g))&&(u=w("option_create")),p.hasOptions=m.items.length>0||c,y){if(m.items.length>0){if(v||"single"!==p.settings.mode||void 0==p.items[0]||(v=p.getOption(p.items[0])),!b.contains(v)){let t=0;u&&!p.settings.addPrecedence&&(t=1),v=p.selectable()[t]}}else u&&(v=u);t&&!p.isOpen&&(p.open(),p.scrollToOption(v,"auto")),p.setActiveOption(v)}else p.clearActiveOption(),t&&p.isOpen&&p.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){if(Array.isArray(t))return this.addOptions(t,e),!1;let i=H(t[this.settings.valueField]);return!(null===i||this.options.hasOwnProperty(i))&&(t.$order=t.$order||++this.order,t.$id=this.inputId+"-opt-"+t.$order,this.options[i]=t,this.lastQuery=null,e&&(this.userOptions[i]=e,this.trigger("option_add",i,t)),i)}addOptions(t,e=!1){Y(t,t=>{this.addOption(t,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=H(t[this.settings.optgroupValueField]);return null!==e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var i;e[this.settings.optgroupValueField]=t,(i=this.registerOptionGroup(e))&&this.trigger("optgroup_add",i,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){var i,s;let r=H(t),n=H(e[this.settings.valueField]);if(null===r)return;let o=this.options[r];if(void 0==o)return;if("string"!=typeof n)throw Error("Value must be set in option data");let l=this.getOption(r),a=this.getItem(r);if(e.$order=e.$order||o.$order,delete this.options[r],this.uncacheValue(n),this.options[n]=e,l){if(this.dropdown_content.contains(l)){let t=this._render("option",e);tg(l,t),this.activeOption===l&&this.setActiveOption(t)}l.remove()}a&&(-1!==(s=this.items.indexOf(r))&&this.items.splice(s,1,n),i=this._render("item",e),a.classList.contains("active")&&tn(i,"active"),tg(a,i)),this.lastQuery=null}removeOption(t,e){t=V(t),this.uncacheValue(t),delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)}clearOptions(t){let e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let i={};Y(this.options,(t,s)=>{e(t,s)&&(i[s]=t)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){let i=H(t);if(null===i)return null;let s=this.options[i];if(void 0!=s){if(s.$div)return s.$div;if(e)return this._render("option",s)}return null}getAdjacent(t,e,i="option"){var s;if(!t)return null;s="item"==i?this.controlChildren():this.dropdown_content.querySelectorAll("[data-selectable]");for(let i=0;i<s.length;i++)if(s[i]==t){if(e>0)return s[i+1];return s[i-1]}return null}getItem(t){if("object"==typeof t)return t;var e=H(t);return null!==e?this.control.querySelector(`[data-value="${W(e)}"]`):null}addItems(t,e){var i=this,s=Array.isArray(t)?t:[t];let r=(s=s.filter(t=>-1===i.items.indexOf(t)))[s.length-1];s.forEach(t=>{i.isPending=t!==r,i.addItem(t,e)})}addItem(t,e){K(this,e?[]:["change","dropdown_close"],()=>{var i,s;let r=this.settings.mode,n=H(t);if((!n||-1===this.items.indexOf(n)||("single"===r&&this.close(),"single"!==r&&this.settings.duplicates))&&null!==n&&this.options.hasOwnProperty(n)&&("single"===r&&this.clear(e),!("multi"===r&&this.isFull()))){if(i=this._render("item",this.options[n]),this.control.contains(i)&&(i=i.cloneNode(!0)),s=this.isFull(),this.items.splice(this.caretPos,0,n),this.insertAtCaret(i),this.isSetup){if(!this.isPending&&this.settings.hideSelected){let t=this.getOption(n),e=this.getAdjacent(t,1);e&&this.setActiveOption(e)}this.isPending||this.settings.closeAfterSelect||this.refreshOptions(this.isFocused&&"single"!==r),!1!=this.settings.closeAfterSelect&&this.isFull()?this.close():this.isPending||this.positionDropdown(),this.trigger("item_add",n,i),this.isPending||this.updateOriginalInput({silent:e})}(!this.isPending||!s&&this.isFull())&&(this.inputState(),this.refreshState())}})}removeItem(t=null,e){var i,s;if(!(t=this.getItem(t)))return;let r=t.dataset.value;i=tu(t),t.remove(),t.classList.contains("active")&&(s=this.activeItems.indexOf(t),this.activeItems.splice(s,1),to(t,"active")),this.items.splice(i,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(r)&&this.removeOption(r,e),i<this.caretPos&&this.setCaret(this.caretPos-1),this.updateOriginalInput({silent:e}),this.refreshState(),this.positionDropdown(),this.trigger("item_remove",r,t)}createItem(t=null,e=()=>{}){3==arguments.length&&(e=arguments[2]),"function"!=typeof e&&(e=()=>{});var i,s=this,r=s.caretPos;if(t=t||s.inputValue(),!s.canCreate(t))return e(),!1;s.lock();var n=!1,o=t=>{if(s.unlock(),!t||"object"!=typeof t)return e();var i=H(t[s.settings.valueField]);if("string"!=typeof i)return e();s.setTextboxValue(),s.addOption(t,!0),s.setCaret(r),s.addItem(i),e(t),n=!0};return i="function"==typeof s.settings.create?s.settings.create.call(this,t,o):{[s.settings.labelField]:t,[s.settings.valueField]:t},n||o(i),!0}refreshItems(){this.lastQuery=null,this.isSetup&&this.addItems(this.items),this.updateOriginalInput(),this.refreshState()}refreshState(){this.refreshValidityState();let t=this.isFull(),e=this.isLocked;this.wrapper.classList.toggle("rtl",this.rtl);let i=this.wrapper.classList;i.toggle("focus",this.isFocused),i.toggle("disabled",this.isDisabled),i.toggle("readonly",this.isReadOnly),i.toggle("required",this.isRequired),i.toggle("invalid",!this.isValid),i.toggle("locked",e),i.toggle("full",t),i.toggle("input-active",this.isFocused&&!this.isInputHidden),i.toggle("dropdown-active",this.isOpen),i.toggle("has-options",th(this.options)),i.toggle("has-items",this.items.length>0)}refreshValidityState(){this.input.validity&&(this.isValid=this.input.validity.valid,this.isInvalid=!this.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){var e,i;let s=this,r=s.input.querySelector('option[value=""]');if(s.is_select_tag){let t=[],o=s.input.querySelectorAll("option:checked").length;function n(e,i,n){return e||(e=tt('<option value="'+R(i)+'">'+R(n)+"</option>")),e!=r&&s.input.append(e),t.push(e),(e!=r||o>0)&&(e.selected=!0),e}s.input.querySelectorAll("option:checked").forEach(t=>{t.selected=!1}),0==s.items.length&&"single"==s.settings.mode?n(r,"",""):s.items.forEach(r=>{i=(e=s.options[r])[s.settings.labelField]||"",t.includes(e.$option)?n(s.input.querySelector(`option[value="${W(r)}"]:not(:checked)`),r,i):e.$option=n(e.$option,r,i)})}else s.input.value=s.getValue();s.isSetup&&!t.silent&&s.trigger("change",s.getValue())}open(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.isOpen=!0,tp(this.focus_node,{"aria-expanded":"true"}),this.refreshState(),tr(this.dropdown,{visibility:"hidden",display:"block"}),this.positionDropdown(),tr(this.dropdown,{visibility:"visible",display:"block"}),this.focus(),this.trigger("dropdown_open",this.dropdown))}close(t=!0){var e=this.isOpen;t&&(this.setTextboxValue(),"single"===this.settings.mode&&this.items.length&&this.inputState()),this.isOpen=!1,tp(this.focus_node,{"aria-expanded":"false"}),tr(this.dropdown,{display:"none"}),this.settings.hideSelected&&this.clearActiveOption(),this.refreshState(),e&&this.trigger("dropdown_close",this.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var t=this.control,e=t.getBoundingClientRect(),i=t.offsetHeight+e.top+window.scrollY,s=e.left+window.scrollX;tr(this.dropdown,{width:e.width+"px",top:i+"px",left:s+"px"})}}clear(t){var e=this;e.items.length&&(Y(e.controlChildren(),t=>{e.removeItem(t,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear"))}insertAtCaret(t){let e=this.caretPos,i=this.control;i.insertBefore(t,i.children[e]||null),this.setCaret(e+1)}deleteSelection(t){var e,i,s;e=t&&8===t.keyCode?-1:1,i=Q(this.control_input);let r=[];if(this.activeItems.length)s=tu(tc(this.activeItems,e)),e>0&&s++,Y(this.activeItems,t=>r.push(t));else if((this.isFocused||"single"===this.settings.mode)&&this.items.length){let t;let s=this.controlChildren();e<0&&0===i.start&&0===i.length?t=s[this.caretPos-1]:e>0&&i.start===this.inputValue().length&&(t=s[this.caretPos]),void 0!==t&&r.push(t)}if(!this.shouldDelete(r,t))return!1;for(Z(t,!0),void 0!==s&&this.setCaret(s);r.length;)this.removeItem(r.pop());return this.inputState(),this.positionDropdown(),this.refreshOptions(!1),!0}shouldDelete(t,e){let i=t.map(t=>t.dataset.value);return!(!i.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete(i,e))}advanceSelection(t,e){var i,s;this.rtl&&(t*=-1),!this.inputValue().length&&(G(tv,e)||G("shiftKey",e)?(s=(i=this.getLastActive(t))?i.classList.contains("active")?this.getAdjacent(i,t,"item"):i:t>0?this.control_input.nextElementSibling:this.control_input.previousElementSibling)&&(s.classList.contains("active")&&this.removeActiveItem(i),this.setActiveItemClass(s)):this.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var i=this.control.querySelectorAll(".active");if(i)return tc(i,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this.revertSettings;this.trigger("destroy"),this.off(),this.wrapper.remove(),this.dropdown.remove(),this.input.innerHTML=t.innerHTML,this.input.tabIndex=t.tabIndex,to(this.input,"tomselected","ts-hidden-accessible"),this._destroy(),delete this.input.tomselect}render(t,e){var i;if("function"!=typeof this.settings.render[t]||!(i=this.settings.render[t].call(this,e,R)))return null;if(i=tt(i),"option"===t||"option_create"===t?e[this.settings.disabledField]?tp(i,{"aria-disabled":"true"}):tp(i,{"data-selectable":""}):"optgroup"===t&&(tp(i,{"data-group":e.group[this.settings.optgroupValueField]}),e.group[this.settings.disabledField]&&tp(i,{"data-disabled":""})),"option"===t||"item"===t){let s=V(e[this.settings.valueField]);tp(i,{"data-value":s}),"item"===t?(tn(i,this.settings.itemClass),tp(i,{"data-ts-item":""})):(tn(i,this.settings.optionClass),tp(i,{role:"option",id:e.$id}),e.$div=i,this.options[s]=e)}return i}_render(t,e){let i=this.render(t,e);if(null==i)throw"HTMLElement expected";return i}clearCache(){Y(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){let e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,i){var s=this,r=s[e];s[e]=function(){var e,n;return("after"===t&&(e=r.apply(s,arguments)),n=i.apply(s,arguments),"instead"===t)?n:("before"===t&&(e=r.apply(s,arguments)),e)}}}let t_=(t,e,i,s)=>{t.addEventListener(e,i,s)},tA=t=>null==t?null:tC(t),tC=t=>"boolean"==typeof t?t?"1":"0":t+"",tS=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},tx=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(tI(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},tI=t=>!!("string"==typeof t&&t.indexOf("<")>-1),tL=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(tE(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},tE=t=>!!("string"==typeof t&&t.indexOf("<")>-1),tk=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},tF=(t,e,i,s)=>{t.addEventListener(e,i,s)},tT=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},tP=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(tN(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},tN=t=>!!("string"==typeof t&&t.indexOf("<")>-1),tj=(t,e)=>{tT(e,(e,i)=>{null==e?t.removeAttribute(i):t.setAttribute(i,""+e)})},tq=(t,e)=>{var i;(i=t.parentNode)==null||i.insertBefore(e,t.nextSibling)},tM=(t,e)=>{var i;(i=t.parentNode)==null||i.insertBefore(e,t)},t$=(t,e)=>{do{var i;if(t==(e=(i=e)==null?void 0:i.previousElementSibling))return!0}while(e&&e.previousElementSibling)return!1},tD=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},tH=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(tV(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},tV=t=>!!("string"==typeof t&&t.indexOf("<")>-1),tR=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},tz=(t,...e)=>{var i=tB(e);(t=tK(t)).map(t=>{i.map(e=>{t.classList.remove(e)})})},tB=t=>{var e=[];return tR(t,t=>{"string"==typeof t&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},tK=t=>(Array.isArray(t)||(t=[t]),t),tQ=(t,e)=>{if(!t)return -1;e=e||t.nodeName;for(var i=0;t=t.previousElementSibling;)t.matches(e)&&i++;return i},tZ=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},tU=(t,e,i,s)=>{t.addEventListener(e,i,s)},tG=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},tJ=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(tW(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},tW=t=>!!("string"==typeof t&&t.indexOf("<")>-1),tX=(t,...e)=>{var i=tY(e);(t=t0(t)).map(t=>{i.map(e=>{t.classList.add(e)})})},tY=t=>{var e=[];return tG(t,t=>{"string"==typeof t&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},t0=t=>(Array.isArray(t)||(t=[t]),t),t1=(t,e,i,s)=>{t.addEventListener(e,i,s)},t2=(t,e,i)=>{for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},t9=(t,e)=>{if(!t)return -1;e=e||t.nodeName;for(var i=0;t=t.previousElementSibling;)t.matches(e)&&i++;return i},t3=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),t5=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},t8=(t,e,i,s)=>{t.addEventListener(e,i,s)},t7=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(t4(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},t4=t=>!!("string"==typeof t&&t.indexOf("<")>-1),t6=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},et=(t,...e)=>{var i=ee(e);(t=ei(t)).map(t=>{i.map(e=>{t.classList.add(e)})})},ee=t=>{var e=[];return t6(t,t=>{"string"==typeof t&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},ei=t=>(Array.isArray(t)||(t=[t]),t);tw.define("change_listener",function(){t_(this.input,"change",()=>{this.sync()})}),tw.define("checkbox_options",function(t){var e=this,i=e.onOptionSelect;e.settings.hideSelected=!1;let s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var r=function(t,e){e?(t.checked=!0,s.uncheckedClassNames&&t.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&t.classList.add(...s.checkedClassNames)):(t.checked=!1,s.checkedClassNames&&t.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&t.classList.add(...s.uncheckedClassNames))},n=function(t){setTimeout(()=>{var e=t.querySelector("input."+s.className);e instanceof HTMLInputElement&&r(e,t.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var t=e.settings.render.option;e.settings.render.option=(i,n)=>{var o=tx(t.call(e,i,n)),l=document.createElement("input");s.className&&l.classList.add(s.className),l.addEventListener("click",function(t){tS(t)}),l.type="checkbox";let a=tA(i[e.settings.valueField]);return r(l,!!(a&&e.items.indexOf(a)>-1)),o.prepend(l),o}}),e.on("item_remove",t=>{var i=e.getOption(t);i&&(i.classList.remove("selected"),n(i))}),e.on("item_add",t=>{var i=e.getOption(t);i&&n(i)}),e.hook("instead","onOptionSelect",(t,s)=>{if(s.classList.contains("selected")){s.classList.remove("selected"),e.removeItem(s.dataset.value),e.refreshOptions(),tS(t,!0);return}i.call(e,t,s),n(s)})}),tw.define("clear_button",function(t){let e=this,i=Object.assign({className:"clear-button",title:"Clear All",html:t=>`<div class="${t.className}" title="${t.title}">&#10799;</div>`},t);e.on("initialize",()=>{var t=tL(i.html(i));t.addEventListener("click",t=>{e.isLocked||(e.clear(),"single"===e.settings.mode&&e.settings.allowEmptyOption&&e.addItem(""),t.preventDefault(),t.stopPropagation())}),e.control.appendChild(t)})}),tw.define("drag_drop",function(){let t;var e=this;if("multi"!==e.settings.mode)return;var i=e.lock,s=e.unlock;let r=!0;e.hook("after","setupTemplates",()=>{var i=e.settings.render.item;e.settings.render.item=(s,n)=>{let o=tP(i.call(e,s,n));tj(o,{draggable:"true"});let l=e=>{e.preventDefault(),o.classList.add("ts-drag-over"),a(o,t)},a=(t,e)=>{void 0!==e&&(t$(e,o)?tq(t,e):tM(t,e))};return tF(o,"mousedown",t=>{r||tk(t),t.stopPropagation()}),tF(o,"dragstart",e=>{t=o,setTimeout(()=>{o.classList.add("ts-dragging")},0)}),tF(o,"dragenter",l),tF(o,"dragover",l),tF(o,"dragleave",()=>{o.classList.remove("ts-drag-over")}),tF(o,"dragend",()=>{document.querySelectorAll(".ts-drag-over").forEach(t=>t.classList.remove("ts-drag-over")),(i=t)==null||i.classList.remove("ts-dragging"),t=void 0;var i,s=[];e.control.querySelectorAll("[data-value]").forEach(t=>{if(t.dataset.value){let e=t.dataset.value;e&&s.push(e)}}),e.setValue(s)}),o}}),e.hook("instead","lock",()=>(r=!1,i.call(e))),e.hook("instead","unlock",()=>(r=!0,s.call(e)))}),tw.define("dropdown_header",function(t){let e=this,i=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:t=>'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a class="'+t.closeClass+'">&times;</a></div></div>'},t);e.on("initialize",()=>{var t=tH(i.html(i)),s=t.querySelector("."+i.closeClass);s&&s.addEventListener("click",t=>{tD(t,!0),e.close()}),e.dropdown.insertBefore(t,e.dropdown.firstChild)})}),tw.define("caret_position",function(){var t=this;t.hook("instead","setCaret",e=>{"single"!==t.settings.mode&&t.control.contains(t.control_input)?(e=Math.max(0,Math.min(t.items.length,e)))==t.caretPos||t.isPending||t.controlChildren().forEach((i,s)=>{s<e?t.control_input.insertAdjacentElement("beforebegin",i):t.control.appendChild(i)}):e=t.items.length,t.caretPos=e}),t.hook("instead","moveCaret",e=>{if(!t.isFocused)return;let i=t.getLastActive(e);if(i){let s=tQ(i);t.setCaret(e>0?s+1:s),t.setActiveItem(),tz(i,"last-active")}else t.setCaret(t.caretPos+e)})}),tw.define("dropdown_input",function(){let t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,tX(t.control_input,"dropdown-input");let e=tJ('<div class="dropdown-input-wrap">');e.append(t.control_input),t.dropdown.insertBefore(e,t.dropdown.firstChild);let i=tJ('<input class="items-placeholder" tabindex="-1" />');i.placeholder=t.settings.placeholder||"",t.control.append(i)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case 27:t.isOpen&&(tZ(e,!0),t.close()),t.clearActiveItems();return;case 9:t.focus_node.tabIndex=-1}return t.onKeyDown.call(t,e)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});let e=t.onBlur;t.hook("instead","onBlur",i=>{if(!i||i.relatedTarget!=t.control_input)return e.call(t)}),tU(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}),tw.define("input_autogrow",function(){var t=this;t.on("initialize",()=>{var e=document.createElement("span"),i=t.control_input;for(let s of(e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(e),["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]))e.style[s]=i.style[s];var s=()=>{e.textContent=i.value,i.style.width=e.clientWidth+"px"};s(),t.on("update item_add item_remove",s),t1(i,"input",s),t1(i,"keyup",s),t1(i,"blur",s),t1(i,"update",s)})}),tw.define("no_backspace_delete",function(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",i=>!!t.activeItems.length&&e.call(t,i))}),tw.define("no_active_items",function(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}),tw.define("optgroup_columns",function(){var t=this,e=t.onKeyDown;t.hook("instead","onKeyDown",i=>{var s,r,n,o;if(!t.isOpen||!(37===i.keyCode||39===i.keyCode))return e.call(t,i);t.ignoreHover=!0,o=t2(t.activeOption,"[data-group]"),s=t9(t.activeOption,"[data-selectable]"),o&&(o=37===i.keyCode?o.previousSibling:o.nextSibling)&&(r=(n=o.querySelectorAll("[data-selectable]"))[Math.min(n.length-1,s)])&&t.setActiveOption(r)})}),tw.define("remove_button",function(t){let e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i=this;if(e.append){var s='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+t3(e.title)+'">'+e.label+"</a>";i.hook("after","setupTemplates",()=>{var t=i.settings.render.item;i.settings.render.item=(e,r)=>{var n=t7(t.call(i,e,r)),o=t7(s);return n.appendChild(o),t8(o,"mousedown",t=>{t5(t,!0)}),t8(o,"click",t=>{!i.isLocked&&(t5(t,!0),!i.isLocked&&i.shouldDelete([n],t)&&(i.removeItem(n),i.refreshOptions(!1),i.inputState()))}),n}})}}),tw.define("restore_on_backspace",function(t){let e=this,i=Object.assign({text:t=>t[e.settings.labelField]},t);e.on("item_remove",function(t){if(e.isFocused&&""===e.control_input.value.trim()){var s=e.options[t];s&&e.setTextboxValue(i.text.call(e,s))}})}),tw.define("virtual_scroll",function(){let t=this,e=t.canLoad,i=t.clearActiveOption,s=t.loadCallback;var r,n,o={},l=!1,a=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(r.clientHeight/(r.scrollHeight-r.scrollTop)>.9)return!0;if(t.activeOption){var e=t.selectable();if(Array.from(e).indexOf(t.activeOption)>=e.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];let d=e=>("number"!=typeof t.settings.maxOptions||!(r.children.length>=t.settings.maxOptions))&&e in o&&!!o[e],c=(e,i)=>!!(t.items.indexOf(i)>=0||a.indexOf(i)>=0);t.setNextUrl=(t,e)=>{o[t]=e},t.getUrl=e=>{if(e in o){let t=o[e];return o[e]=!1,t}return t.clearPagination(),t.settings.firstUrl.call(t,e)},t.clearPagination=()=>{o={}},t.hook("instead","clearActiveOption",()=>{if(!l)return i.call(t)}),t.hook("instead","canLoad",i=>i in o?d(i):e.call(t,i)),t.hook("instead","loadCallback",(e,i)=>{if(l){if(n){let i=e[0];void 0!==i&&(n.dataset.value=i[t.settings.valueField])}}else t.clearOptions(c);s.call(t,e,i),l=!1}),t.hook("after","refreshOptions",()=>{var e;let i=t.lastValue;d(i)?(e=t.render("loading_more",{query:i}))&&(e.setAttribute("data-selectable",""),n=e):i in o&&!r.querySelector(".no-results")&&(e=t.render("no_more_results",{query:i})),e&&(et(e,t.settings.optionClass),r.append(e))}),t.on("initialize",()=>{a=Object.keys(t.options),r=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),r.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&d(t.lastValue)&&(l||(l=!0,t.load.call(t,t.lastValue)))})})});let es=tw;class er extends n.Z{init(){new es(this.el,{})}}er.options={desktop:!0,mobile:!1}}}]);