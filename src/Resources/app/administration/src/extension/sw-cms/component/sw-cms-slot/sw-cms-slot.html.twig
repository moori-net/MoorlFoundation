{% block sw_cms_slot_content_component %}
    <sw-cms-el-moorl-default
            v-if="elementConfig.component === true"
            class="sw-cms-slot__element-preview"
            v-bind="{ element:elementConfig }"
    />

    <component v-else
            :is="elementConfig.component"
            v-model="element"
            :disabled="disabled"
    />
{% endblock %}

{% block sw_cms_slot_content_element_modal_selection_element_component %}
    <sw-cms-el-preview-moorl-default
        v-if="getPlugin(element)"
        class="sw-cms-slot__element-preview"
        v-bind="{ element:element, plugin:getPlugin(element) }"
    />

    <component v-else
            :is="element.previewComponent"
            class="sw-cms-slot__element-preview"
    />
{% endblock %}

{% block sw_cms_slot_content_overlay_action_settings %}
    {% parent %}

    <div class="sw-cms-slot__settings-action"
         :class="cmsSlotSettingsClasses"
         @click="onCmsElementConfigSaverButtonClick"
         v-tooltip.bottom="tooltipDisabled">
        <sw-icon name="default-action-save" size="16"></sw-icon>
    </div>
{% endblock %}

{% block sw_cms_slot_content_settings_modal_component %}
    {% parent %}

    <moorl-element-animation v-model="element"></moorl-element-animation>
{% endblock %}

{% block sw_cms_slot_content_settings_modal %}
    {% parent %}

    <sw-modal class="sw-cms-slot__config-modal"
              v-if="showCmsElementConfigSaver"
              :title="$tc(snippetPrefix + 'title')"
              @modal-close="onCloseCmsElementConfigSaverModal">
        <sw-field v-model="cmsElementConfig.name"
                  type="text"
                  :label="$tc(snippetPrefix + 'label.name')">
        </sw-field>

        <div class="sw-field">
            <sw-button variant="primary" @click="onSaveCmsElementConfig">
                {{ $tc(snippetPrefix + 'label.save') }}
            </sw-button>
        </div>

        <div class="link-field">
            <sw-entity-single-select
                    :label="$tc(snippetPrefix + 'label.selectConfig')"
                    :criteria="cmsElementConfigCriteria"
                    entity="moorl_cms_element_config"
                    v-model="cmsElementConfigId">
                <template #result-item="{ item, index }">
                    <slot name="result-item" v-bind="{ item, index }">
                        <li is="sw-select-result" v-bind="{ item, index }">
                            {{ item.type }} | {{ item.name }}
                        </li>
                    </slot>
                </template>
            </sw-entity-single-select>

            <router-link target="_blank"
                         rel="noopener"
                         :to="{ name: 'moorl.foundation.settings.cmselementconfig' }">
                {{ $tc(snippetPrefix + 'label.manageConfigs') }}
            </router-link>
        </div>

        <sw-button variant="primary" @click="onLoadCmsElementConfig">
            {{ $tc(snippetPrefix + 'label.load') }}
        </sw-button>

        <template slot="modal-footer">
            <sw-button variant="primary" @click="onCloseCmsElementConfigSaverModal">
                {{ $tc('sw-cms.detail.label.buttonElementSettingsConfirm') }}
            </sw-button>
        </template>
    </sw-modal>
{% endblock %}