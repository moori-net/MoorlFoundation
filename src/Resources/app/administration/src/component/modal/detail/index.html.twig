<sw-modal
        :title="itemName"
        variant="large"
        :closable="false"
        class="moorl-modal-detail"
>
    {% block moorl_modal_detail %}
        <sw-tabs :default-item="defaultTab">
            <template #default="{ active }">
                <sw-tabs-item
                        v-for="tab in modalStruct.tabs"
                        :key="tab.id"
                        :name="tab.id"
                        :activeTab="active"
                >
                    {{ tab.label }}
                </sw-tabs-item>

                {% block moorl_modal_detail_tabs %}
                    <!--template v-if="componentName === '...'">
                        Add custom tabs here
                    </template-->
                {% endblock %}
            </template>

            <template #content="{ active }">
                <template v-for="tab in modalStruct.tabs" :key="tab.id">
                    <template v-if="active === tab.id">
                        <template v-for="card in tab.cards" :key="card.id">
                            <template v-if="card.id === 'self'">
                                <template v-for="field in card.fields" :key="field.name">
                                    <component
                                            :is="field.componentName"
                                            v-bind="field.attributes"
                                    />
                                </template>
                            </template>

                            <sw-card
                                    v-else
                                    :title="card.label"
                                    :class="card.id + '-card moorl-modal-detail__card'"
                            >
                                <sw-alert
                                        v-if="translationHelper.getNotification(card.id)"
                                        variant="warning"
                                >
                                    {{ translationHelper.getNotification(card.id) }}
                                </sw-alert>

                                <template v-for="field in card.fields" :key="field.name">
                                    <component
                                            v-if="field.model === 'entityCollection'"
                                            :is="field.componentName"
                                            v-model:entityCollection="fieldModels[field.name]"
                                            v-bind="field.attributes"
                                            :class="field.name + '-field'"
                                    />

                                    <sw-form-field-renderer
                                            v-else
                                            v-model:value="fieldModels[field.name]"
                                            :type="field.type"
                                            :label="field.label"
                                            :config="field.attributes"
                                            :class="field.name + '-field'"
                                    />
                                </template>
                            </sw-card>
                        </template>
                    </template>
                </template>

                {% block moorl_modal_detail_content %}
                    <!--template v-if="componentName === '...' && active === '...'">
                        Add custom content here
                    </template-->
                {% endblock %}
            </template>
        </sw-tabs>

    {% endblock %}

    <template #modal-footer>
        <mt-button
                @click="$emit('cancel')"
                variant="secondary"
                size="small"
        >
            {{ $tc('global.default.cancel') }}
        </mt-button>

        <mt-button
                @click="$emit('save')"
                variant="primary"
                size="small"
        >
            {{ $tc('global.default.save') }}
        </mt-button>
    </template>
</sw-modal>
