{% block moorl_page_detail_content %}
    <sw-card-view>
        <sw-tabs default-item="general">
            <template #default="{ active }">
                <sw-tabs-item
                        v-for="tab in pageStruct.tabs"
                        :key="tab.id"
                        :name="tab.id"
                        :activeTab="active"
                >
                    {{ tab.label }}
                </sw-tabs-item>
            </template>

            <template #content="{ active }">
                <template v-for="tab in pageStruct.tabs" :key="tab.id">
                    <template v-if="active === tab.id">
                        <template v-for="card in tab.cards" :key="card.id">
                            <template v-if="card.id === 'self'">
                                <template v-for="field in card.fields" :key="field.name">
                                    <component
                                            :is="field.componentName"
                                            v-bind="field.attributes"
                                    />
                                </template>
                            </template>

                            <sw-card v-else :title="card.label">
                                <template v-for="field in card.fields" :key="field.name">
                                    <component
                                            v-if="field.model === 'entityCollection'"
                                            :is="field.componentName"
                                            v-model:entityCollection="item[field.name]"
                                            v-bind="field.attributes"
                                    />

                                    <sw-form-field-renderer
                                            v-else
                                            v-model:value="item[field.name]"
                                            :type="field.type"
                                            :label="field.label"
                                            :config="field.attributes"
                                    />
                                </template>
                            </sw-card>
                        </template>
                    </template>
                </template>
            </template>
        </sw-tabs>
    </sw-card-view>
{% endblock %}
