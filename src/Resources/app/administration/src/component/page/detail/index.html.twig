{% block moorl_page_detail_content %}
    <sw-card-view>
        <sw-tabs default-item="general">
            <template #default="{ active }">
                <sw-tabs-item
                        v-for="(tab, tabKey) in pageStruct"
                        :name="tabKey"
                        :activeTab="active"
                >
                    {{ tab.name }}
                </sw-tabs-item>
            </template>

            <template #content="{ active }">
                <template v-for="(tab, tabKey) in pageStruct">
                    <template v-if="active === tabKey">
                        <template v-for="(card, cardKey) in tab.cards">
                            <template v-if="cardKey === 'self'">
                                <template v-for="(field, fieldKey) in card.fields">
                                    <component
                                            :is="field.componentName"
                                            v-bind="field.attrs"
                                    />
                                </template>
                            </template>

                            <sw-card
                                    v-else
                                    :title="card.name"
                            >
                                <template v-for="(field, fieldKey) in card.fields">
                                    <component
                                            v-if="field.model === 'entityCollection'"
                                            :is="field.componentName"
                                            v-model:entityCollection="item[fieldKey]"
                                            v-bind="field.attrs"
                                    />

                                    <sw-form-field-renderer
                                            v-else
                                            v-model:value="item[fieldKey]"
                                            :type="field.type"
                                            :label="field.label"
                                            :config="field.attrs"
                                    />
                                </template>
                            </sw-card>
                        </template>
                    </template>
                </template>
            </template>
        </sw-tabs>
    </sw-card-view>
{% endblock %}