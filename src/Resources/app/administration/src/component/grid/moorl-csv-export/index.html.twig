<sw-modal v-if="showExportModal"
          :title="$tc('moorl-foundation.export.title')"
          @modal-close="onCancel"
          variant="default"
          class="moorl-csv-export">
    <sw-container class="moorl-csv-export__top-bar" columns="1fr" gap="10px">
        <template v-if="step == 1">
            <sw-switch-field
                    bordered
                    :label="$tc('moorl-foundation.export.localTable')"
                    v-model:value="options.localTable"
            />

            <p class="info">{{ $t('moorl-foundation.export.introText') }}</p>
        </template>

        <template v-if="step == 2 && items.length > 0">
            <sw-progress-bar :value="items.length" :maxValue="total"/>

            <p class="info">{{ $tc('moorl-foundation.export.proccess') }}</p>
        </template>

        <template v-if="step == 3">
            <p class="info">{{ $tc('moorl-foundation.export.completedMessage') }}</p>
        </template>
    </sw-container>

    <template #modal-footer>
        <mt-button @click="onCancel" size="small">
            {{ $tc('moorl-foundation.buttons.cancelButtonText') }}
        </mt-button>

        <mt-button v-if="step == 1"
                   @click="onClickExport"
                   variant="primary"
                   size="small">
            {{ $tc('moorl-foundation.buttons.startExportButtonText') }}
        </mt-button>
    </template>
</sw-modal>
