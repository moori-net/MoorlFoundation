{% block moorl_page_detail_smart_bar_actions %}
    {% parent %}

    <mt-button
            @click="onClickTest"
            :disabled="isNewItem"
            size="default"
            variant="primary"
    >
        {{ $tc('moorl-foundation.buttons.testConnection') }}
    </mt-button>
{% endblock %}

{% block moorl_page_detail_content %}
    <sw-card-view>
        <sw-card :title="$tc('moorl-client.card.general')">
            <sw-switch-field
                    :label="$tc('moorl-foundation.field.active')"
                    v-model:value="item.active"
            />

            <sw-text-field
                    :label="$tc('moorl-foundation.field.name')"
                    v-model:value="item.name"
                    required
                    validation="required"
            />

            <moorl-select-field
                    v-if="options.length"
                    :label="$tc('moorl-foundation.field.type')"
                    v-model:value="item.type"
                    @update:value="resetConfig"
                    :customSet="options"
                    valueProperty="name"

            />
        </sw-card>

        <sw-card :title="$tc('moorl-client.card.config')">
            <template v-for="option in options">
                <template v-if="item.type == option.name">
                    <template v-for="config in option.configTemplate">
                        <sw-form-field-renderer
                                v-model:value="item.config[config.name]"
                                :label="$tc('moorl-foundation.field.' + config.name)"
                                :config="config"
                        />
                    </template>
                </template>
            </template>
        </sw-card>
    </sw-card-view>
{% endblock %}
