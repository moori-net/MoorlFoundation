<div class="sw-cms-el-config-moorl-accordion">
    <sw-tabs class="sw-cms-el-config-image-gallery__tabs" default-item="content">
        <template #default="{ active }">
            <sw-tabs-item name="content" :activeTab="active">
                {{ $tc('sw-cms.elements.general.config.tab.content') }}
            </sw-tabs-item>

            <sw-tabs-item name="settings" :activeTab="active">
                {{ $tc('sw-cms.elements.general.config.tab.settings') }}
            </sw-tabs-item>
        </template>

        <template #content="{ active }">
            <sw-container v-if="active === 'content'">
                <sw-text-field
                        :label="$tc(snippetPrefix + 'label.name')"
                        v-model:value="element.config.name.value"
                />

                <div class="sw-field">
                    <div class="config-moorl_faq_list">
                        <sw-collapse v-for="(entry, index) in element.config.entries.value" :key="index" :ref="'collapse_' + index">
                            <template #header="{ expanded }">
                                <div class="collapse-header" :class="expanded ? 'expanded' : ''">
                                    <div class="drag-indicator">
                                        <sw-icon name="regular-grip-lines"/>
                                    </div>

                                    <h4>{{ entry.name ?? 'New entry' }}</h4>

                                    <div class="collapse-indicator">
                                        <sw-icon
                                                v-if="expanded"
                                                class="sw-media-collapse__button"
                                                name="regular-chevron-down-s"
                                        />
                                        <sw-icon
                                                v-else
                                                class="sw-media-collapse__button"
                                                name="regular-chevron-right-s"
                                        />
                                    </div>
                                </div>
                            </template>
                            <template #content>
                                <div class="collapse-content">
                                    <sw-text-field
                                            :label="$tc(snippetPrefix + 'label.name')"
                                            v-model:value="entry.name"
                                    />

                                    <sw-code-editor
                                            v-model:value="entry.content"
                                            mode="twig"
                                            :label="$tc(snippetPrefix + 'label.content')"
                                            :softWraps="true"
                                    />

                                    <sw-button variant="danger" @click.prevent="removeEntry($event, index)">
                                        {{ $tc(snippetPrefix + 'label.remove') }}
                                    </sw-button>
                                </div>
                            </template>
                        </sw-collapse>
                    </div>

                    <div class="config-moorl_faq_actions">
                        <sw-button :block="true" @click="addEntry" variant="ghost">
                            <span>
                                <sw-icon name="regular-plus" :small="true"/>
                                {{ $tc(snippetPrefix + 'label.add') }}
                            </span>
                        </sw-button>
                    </div>
                </div>
            </sw-container>

            <sw-container v-if="active === 'settings'">
                <moorl-select-field
                        v-model:value="element.config.verticalAlign.value"
                        set="flexVerticalAlign"
                />
            </sw-container>
        </template>
    </sw-tabs>
</div>
