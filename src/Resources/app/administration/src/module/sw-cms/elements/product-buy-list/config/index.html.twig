<div class="sw-cms-el-config-moorl-product-buy-list">
    <sw-cms-inherit-wrapper
            field="products"
            :element="element"
            :label="$tc('sw-cms.elements.moorl-product-buy-list.label.products')"
    >
        <template #default="{ isInherited }">
            <sw-cms-mapping-field
                    v-model:config="element.config.products"
                    entity="product"
                    value-types="entity"
            >
                <sw-entity-multi-select
                        class="sw-cms-el-config-product-slider__products"
                        :placeholder="$tc('sw-cms.elements.productSlider.config.placeholder.selection')"
                        v-model:entityCollection="productCollection"
                        @update:entity-collection="onProductsChange"
                        :context="productSearchContext"
                        :criteria="productSearchCriteria"
                        :disabled="isInherited"
                >
                    <template #selection-label-property="{ item }">
                        <sw-product-variant-info :variations="item.variation">
                            {{ item.translated.name || item.name }}
                        </sw-product-variant-info>
                    </template>
                </sw-entity-multi-select>
            </sw-cms-mapping-field>
        </template>
    </sw-cms-inherit-wrapper>

    <sw-container
        columns="1fr 1fr"
        gap="0px 30px"
    >
        <sw-cms-inherit-wrapper
                field="productQuantities"
                :element="element"
                :label="$tc('sw-cms.elements.moorl-product-buy-list.label.productQuantity')"
        >
            <template #default="{ isInherited }">
                <template v-for="product in products">
                    <template v-if="element.config.productQuantities.value[product.id]">
                        <mt-number-field
                                min="1"
                                max="100"
                                step="1"
                                :label="$tc('sw-cms.elements.moorl-product-buy-list.label.productQuantity') + ': ' + product.translated.name"
                                v-model="element.config.productQuantities.value[product.id]"
                                :disabled="isInherited"
                        />
                    </template>
                </template>
            </template>
        </sw-cms-inherit-wrapper>

    </sw-container>

    <sw-container
        columns="1fr 1fr"
        gap="0px 30px"
    >
        <sw-cms-inherit-wrapper
                field="enablePrices"
                :element="element"
                :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enablePrices')"
        >
            <template #default="{ isInherited }">
                <mt-switch
                        v-model="element.config.enablePrices.value"
                        bordered
                        :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enablePrices')"
                        :disabled="isInherited"
                />
            </template>
        </sw-cms-inherit-wrapper>

        <sw-cms-inherit-wrapper
                field="enableVariantSwitch"
                :element="element"
                :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableVariantSwitch')"
        >
            <template #default="{ isInherited }">
                <mt-switch
                        v-model="element.config.enableVariantSwitch.value"
                        bordered
                        :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableVariantSwitch')"
                        :disabled="isInherited"
                />
            </template>
        </sw-cms-inherit-wrapper>

        <sw-cms-inherit-wrapper
                field="enableAddToCartAll"
                :element="element"
                :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableAddToCartAll')"
        >
            <template #default="{ isInherited }">
                <mt-switch
                        v-model="element.config.enableAddToCartAll.value"
                        bordered
                        :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableAddToCartAll')"
                        :disabled="isInherited"
                />
            </template>
        </sw-cms-inherit-wrapper>

        <sw-cms-inherit-wrapper
                field="enableAddToCartSingle"
                :element="element"
                :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableAddToCartSingle')"
        >
            <template #default="{ isInherited }">
                <mt-switch
                        v-model="element.config.enableAddToCartSingle.value"
                        bordered
                        :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableAddToCartSingle')"
                        :disabled="isInherited"
                />
            </template>
        </sw-cms-inherit-wrapper>

        <sw-cms-inherit-wrapper
                field="enableDirectUrl"
                :element="element"
                :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableDirectUrl')"
        >
            <template #default="{ isInherited }">
                <mt-switch
                        v-model="element.config.enableDirectUrl.value"
                        bordered
                        :label="$tc('sw-cms.elements.moorl-product-buy-list.label.enableDirectUrl')"
                        :disabled="isInherited"
                />
            </template>
        </sw-cms-inherit-wrapper>

        <sw-cms-inherit-wrapper
                field="emptyText"
                :element="element"
                :label="$tc('sw-cms.elements.moorl-product-buy-list.label.emptyText')"
        >
            <template #default="{ isInherited }">
                <mt-text-field
                        v-model="element.config.emptyText.value"
                        :label="$tc('sw-cms.elements.moorl-product-buy-list.label.emptyText')"
                        :disabled="isInherited"
                />
            </template>
        </sw-cms-inherit-wrapper>
    </sw-container>
</div>
